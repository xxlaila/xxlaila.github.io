<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ‡’ç¾Šç¾Š</title>
  
  <subtitle>æˆ‘æ˜¯ä¸ä¼šå’Œæ™®é€šçš„ç¾Šä¸€èˆ¬è§è¯†çš„ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.xxlaila.cn/"/>
  <updated>2019-11-01T11:34:12.527Z</updated>
  <id>https://www.xxlaila.cn/</id>
  
  <author>
    <name>xxlaila</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>istioéƒ¨ç½²</title>
    <link href="https://www.xxlaila.cn/2019/10/29/istio%E9%83%A8%E7%BD%B2/"/>
    <id>https://www.xxlaila.cn/2019/10/29/istioéƒ¨ç½²/</id>
    <published>2019-10-29T08:21:08.000Z</published>
    <updated>2019-11-01T11:34:12.527Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="Istioä»‹ç»"><a href="#Istioä»‹ç»" class="headerlink" title="Istioä»‹ç»"></a>Istioä»‹ç»</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;istioä»£è¡¨çš„æ˜¯Service Meshçš„æ–¹æ¡ˆå®ç°ï¼ŒIstio æœ‰åŠ©äºé™ä½è¿™äº›éƒ¨ç½²çš„å¤æ‚æ€§ï¼Œå¹¶å‡è½»å¼€å‘å›¢é˜Ÿçš„å‹åŠ›ã€‚æä¾›ä¸€ç§ç®€å•çš„æ–¹å¼æ¥ä¸ºå·²éƒ¨ç½²çš„æœåŠ¡å»ºç«‹ç½‘ç»œï¼Œä¸”æä¾›å…·æœ‰è´Ÿè½½å‡è¡¡ã€æœåŠ¡é—´è®¤è¯ã€ç›‘æ§ã€æµé‡ç®¡ç†ç­‰åŠŸèƒ½ã€‚</p><a id="more"></a><h3 id="æœåŠ¡ç½‘æ ¼ï¼ˆService-Meshï¼‰"><a href="#æœåŠ¡ç½‘æ ¼ï¼ˆService-Meshï¼‰" class="headerlink" title="æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰"></a>æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰ç”¨äºæè¿°æ„æˆè¿™äº›åº”ç”¨ç¨‹åºçš„å¾®æœåŠ¡ç½‘ç»œä»¥åŠåº”ç”¨ä¹‹é—´çš„äº¤äº’ã€‚éšç€è§„æ¨¡å’Œå¤æ‚æ€§çš„å¢é•¿ï¼ŒæœåŠ¡ç½‘æ ¼è¶Šæ¥è¶Šéš¾ä»¥ç†è§£å’Œç®¡ç†ã€‚å®ƒçš„éœ€æ±‚åŒ…æ‹¬æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æ•…éšœæ¢å¤ã€æŒ‡æ ‡æ”¶é›†å’Œç›‘æ§ä»¥åŠé€šå¸¸æ›´åŠ å¤æ‚çš„è¿ç»´éœ€æ±‚ï¼Œä¾‹å¦‚ A/B æµ‹è¯•ã€é‡‘ä¸é›€å‘å¸ƒã€é™æµã€è®¿é—®æ§åˆ¶å’Œç«¯åˆ°ç«¯è®¤è¯ç­‰ã€‚è€Œistioåˆšå¥½æä¾›äº†ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡æ§åˆ¶æ•´ä¸ªæœåŠ¡å™¨ç½‘æ ¼æä¾›è¡Œä¸ºæ´å¯Ÿå’Œæ“ä½œæ§åˆ¶æ¥æ»¡è¶³å¾®æœåŠ¡åº”ç”¨çš„å¤šæ ·åŒ–</p><h3 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Istio æœåŠ¡ç½‘æ ¼é€»è¾‘ä¸Šåˆ†ä¸ºæ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢ã€‚</p><ul><li>æ•°æ®å¹³é¢ç”±ä¸€ç»„ä»¥ sidecar æ–¹å¼éƒ¨ç½²çš„æ™ºèƒ½ä»£ç†ï¼ˆEnvoyï¼‰ç»„æˆã€‚è¿™äº›ä»£ç†å¯ä»¥è°ƒèŠ‚å’Œæ§åˆ¶å¾®æœåŠ¡åŠ Mixer ä¹‹é—´æ‰€æœ‰çš„ç½‘ç»œé€šä¿¡ã€‚</li><li>æ§åˆ¶å¹³é¢è´Ÿè´£ç®¡ç†å’Œé…ç½®ä»£ç†æ¥è·¯ç”±æµé‡ã€‚æ­¤å¤–æ§åˆ¶å¹³é¢é…ç½® Mixer ä»¥å®æ–½ç­–ç•¥å’Œæ”¶é›†é¥æµ‹æ•°æ®ã€‚</li></ul><p>æ„æˆæ¯ä¸ªé¢æ¿çš„ä¸åŒç»„ä»¶:<br><img src="https://img.xxlaila.cn/1567136153850.jpg" alt="img"></p><h4 id="istio-ç»„ä»¶"><a href="#istio-ç»„ä»¶" class="headerlink" title="istio ç»„ä»¶"></a>istio ç»„ä»¶</h4><ul><li>Envoy: Istio ä½¿ç”¨ Envoy ä»£ç†çš„æ‰©å±•ç‰ˆæœ¬ï¼Œç”¨äºè°ƒè§£æœåŠ¡ç½‘æ ¼ä¸­æ‰€æœ‰æœåŠ¡çš„æ‰€æœ‰å…¥ç«™å’Œå‡ºç«™æµé‡ï¼Œå±äºæ•°æ®å±‚é¢ã€‚Istioåˆ©ç”¨Envoyçš„å†…ç½®åŠŸèƒ½å®ç°å¦‚ä¸‹æŒ‡æ ‡:<ul><li>åŠ¨æ€æœåŠ¡å‘ç°</li><li>è´Ÿè½½å‡è¡¡</li><li>TLSç»ˆæ­¢</li><li>HTTP/2å’ŒgRPCä»£ç†</li><li>æ–­è·¯å™¨</li><li>å¥åº·æ£€æŸ¥</li><li>åˆ†é˜¶æ®µæ¨å‡ºï¼ŒæŒ‰ç™¾åˆ†æ¯”åˆ†é…æµé‡</li><li>æ•…éšœæ³¨å…¥</li><li>ä¸°å¯Œçš„æŒ‡æ ‡</li></ul></li><li>Mixer: æ˜¯ä¸€ä¸ªç‹¬ç«‹äºå¹³å°çš„ç»„ä»¶ï¼Œè´Ÿè´£åœ¨æœåŠ¡ç½‘æ ¼ä¸Šæ‰§è¡Œè®¿é—®æ§åˆ¶å’Œä½¿ç”¨ç­–ç•¥ï¼Œå¹¶ä» Envoy ä»£ç†å’Œå…¶ä»–æœåŠ¡æ”¶é›†é¥æµ‹æ•°æ®</li><li>Pilot: ä¸º Envoy sidecar æä¾›æœåŠ¡å‘ç°åŠŸèƒ½ï¼Œä¸ºæ™ºèƒ½è·¯ç”±ï¼ˆä¾‹å¦‚ A/B æµ‹è¯•ã€é‡‘ä¸é›€éƒ¨ç½²ç­‰ï¼‰å’Œå¼¹æ€§ï¼ˆè¶…æ—¶ã€é‡è¯•ã€ç†”æ–­å™¨ç­‰ï¼‰æä¾›æµé‡ç®¡ç†åŠŸèƒ½</li><li>Citadel: é€šè¿‡å†…ç½®èº«ä»½å’Œå‡­è¯ç®¡ç†èµ‹èƒ½å¼ºå¤§çš„æœåŠ¡é—´å’Œæœ€ç»ˆç”¨æˆ·èº«ä»½éªŒè¯ã€‚å¯ç”¨äºå‡çº§æœåŠ¡ç½‘æ ¼ä¸­æœªåŠ å¯†çš„æµé‡ï¼Œå¹¶ä¸ºè¿ç»´äººå‘˜æä¾›åŸºäºæœåŠ¡æ ‡è¯†è€Œä¸æ˜¯ç½‘ç»œæ§åˆ¶çš„å¼ºåˆ¶æ‰§è¡Œç­–ç•¥çš„èƒ½åŠ›</li><li>Galley: ä»£è¡¨å…¶ä»–çš„ Istio æ§åˆ¶å¹³é¢ç»„ä»¶ï¼Œç”¨æ¥éªŒè¯ç”¨æˆ·ç¼–å†™çš„ Istio API é…ç½®ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒGalley å°†æ¥ç®¡ Istio è·å–é…ç½®ã€ å¤„ç†å’Œåˆ†é…ç»„ä»¶çš„é¡¶çº§è´£ä»»</li></ul><h3 id="Istion-å®‰è£…"><a href="#Istion-å®‰è£…" class="headerlink" title="Istion å®‰è£…"></a>Istion å®‰è£…</h3><h4 id="ä¸‹è½½istioåŒ…"><a href="#ä¸‹è½½istioåŒ…" class="headerlink" title="ä¸‹è½½istioåŒ…"></a>ä¸‹è½½istioåŒ…</h4><p>æ‰§è¡Œä¸‹è½½å’Œè‡ªåŠ¨è§£å‹ç¼©</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -L https://git.io/getLatestIstio | ISTIO_VERSION=1.2.8 sh -</span></span><br><span class="line"><span class="comment"># cd istio-1.2.8/bin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cp istioctl /usr/bin/</span></span><br></pre></td></tr></table></figure><p>å®‰è£…ç›®å½•ä¸­åŒ…å«ï¼š</p><ul><li><code>åœ¨ install/</code>: ç›®å½•ä¸­åŒ…å«äº† Kubernetes å®‰è£…æ‰€éœ€çš„ .yaml æ–‡ä»¶</li><li><code>samples/</code>: ç›®å½•ä¸­æ˜¯ç¤ºä¾‹åº”ç”¨</li><li><code>istioctl</code>: istioctlå®¢æˆ·ç«¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ‰‹åŠ¨å°†Envoyä½œä¸ºSidecarä»£ç†æ³¨å…¥å¹¶åˆ›å»ºè·¯ç”±è§„åˆ™å’Œç­–ç•¥æ—¶ï¼Œå°†ä½¿ç”¨æ­¤å·¥å…·ã€‚</li><li><code>istio.VERSION</code>: é…ç½®æ–‡ä»¶</li></ul><h3 id="åœ¨kubernetes-é›†ç¾¤ä¸­å®‰è£…"><a href="#åœ¨kubernetes-é›†ç¾¤ä¸­å®‰è£…" class="headerlink" title="åœ¨kubernetes é›†ç¾¤ä¸­å®‰è£…"></a>åœ¨kubernetes é›†ç¾¤ä¸­å®‰è£…</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Istio ä¼šè¢«å®‰è£…åˆ°è‡ªå·±çš„ istio-system å‘½åç©ºé—´ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¯¹æ‰€æœ‰å…¶ä»–å‘½åç©ºé—´çš„æœåŠ¡è¿›è¡Œç®¡ç†ã€‚è¿™é‡Œé‡‡ç”¨helmè¿›è¡Œå®‰è£…ï¼Œ<a href="https://xxlaila.github.io/2019/09/04/k8s-helm/" target="_blank" rel="noopener">helmå®‰è£…å‚è€ƒ</a>ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºKialiè®¾ç½®èº«ä»½éªŒè¯å‡­æ®ï¼ˆç›‘è§†ï¼‰ã€‚ç”¨äºåé¢çš„ç™»å½•è®¤è¯</p><h4 id="è®¾ç½®ç”¨æˆ·åå’Œå¯†ç çš„ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç”¨æˆ·åå’Œå¯†ç çš„ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç”¨æˆ·åå’Œå¯†ç çš„ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç”¨æˆ·åå’Œå¯†ç çš„ç¯å¢ƒå˜é‡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># KIALI_USERNAME=$(read -p 'Kiali Username: ' uval &amp;&amp; echo -n $uval | base64)</span></span><br><span class="line"><span class="comment"># KIALI_PASSPHRASE=$(read -sp 'Kiali Passphrase: ' pval &amp;&amp; echo -n $pval | base64)</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå‘½åç©ºé—´"><a href="#åˆ›å»ºå‘½åç©ºé—´" class="headerlink" title="åˆ›å»ºå‘½åç©ºé—´"></a>åˆ›å»ºå‘½åç©ºé—´</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># NAMESPACE=istio-system</span></span><br><span class="line"><span class="comment"># kubectl create namespace $NAMESPACE</span></span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºç”¨äºå­˜å‚¨ä¸Šé¢è®¾ç½®çš„ç”¨æˆ·å/å¯†ç çš„æœºå¯†<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF | kubectl apply -f -</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  name: kiali</span><br><span class="line">  namespace: <span class="variable">$NAMESPACE</span></span><br><span class="line">  labels:</span><br><span class="line">    app: kiali</span><br><span class="line"><span class="built_in">type</span>: Opaque</span><br><span class="line">data:</span><br><span class="line">  username: <span class="variable">$KIALI_USERNAME</span></span><br><span class="line">  passphrase: <span class="variable">$KIALI_PASSPHRASE</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨helmå®‰è£…istio-CRD"><a href="#ä½¿ç”¨helmå®‰è£…istio-CRD" class="headerlink" title="ä½¿ç”¨helmå®‰è£…istio CRD"></a>ä½¿ç”¨helmå®‰è£…istio CRD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># helm install install/kubernetes/helm/istio-init --name istio-init --namespace istio-system</span></span><br><span class="line">NAME:   istio-init</span><br><span class="line">LAST DEPLOYED: Fri Nov  1 10:13:22 2019</span><br><span class="line">NAMESPACE: istio-system</span><br><span class="line">STATUS: DEPLOYED</span><br><span class="line"></span><br><span class="line">RESOURCES:</span><br><span class="line">==&gt; v1/ClusterRole</span><br><span class="line">NAME                     AGE</span><br><span class="line">istio-init-istio-system  0s</span><br><span class="line"></span><br><span class="line">==&gt; v1/ClusterRoleBinding</span><br><span class="line">NAME                                        AGE</span><br><span class="line">istio-init-admin-role-binding-istio-system  0s</span><br><span class="line"></span><br><span class="line">==&gt; v1/ConfigMap</span><br><span class="line">NAME          DATA  AGE</span><br><span class="line">istio-crd-10  1     0s</span><br><span class="line">istio-crd-11  1     0s</span><br><span class="line">istio-crd-12  1     0s</span><br><span class="line"></span><br><span class="line">==&gt; v1/Job</span><br><span class="line">NAME                     COMPLETIONS  DURATION  AGE</span><br><span class="line">istio-init-crd-10-1.2.8  0/1          0s</span><br><span class="line">istio-init-crd-11-1.2.8  0/1          0s</span><br><span class="line">istio-init-crd-12-1.2.8  0/1          0s</span><br><span class="line"></span><br><span class="line">==&gt; v1/ServiceAccount</span><br><span class="line">NAME                        SECRETS  AGE</span><br><span class="line">istio-init-service-account  0        0s</span><br></pre></td></tr></table></figure><h5 id="æŸ¥çœ‹å®‰è£…çš„CRDå’Œpod"><a href="#æŸ¥çœ‹å®‰è£…çš„CRDå’Œpod" class="headerlink" title="æŸ¥çœ‹å®‰è£…çš„CRDå’Œpod"></a>æŸ¥çœ‹å®‰è£…çš„CRDå’Œpod</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šè¿°å®‰è£…ä¼šæŠŠistioçš„23ä¸ªcrdéƒ½æäº¤ç»™kubernetes api æœåŠ¡å™¨ã€‚å¦‚æœå¯ç”¨äº†è¯ä¹¦ç®¡ç†ï¼Œcrdè®¡æ•°å™¨ä¸º28ä¸ªã€‚æˆ‘è¿™é‡Œæœªå¯ç”¨è¯ä¹¦ç®¡ç†ï¼Œåªæœ‰23ä¸ªã€‚è¿˜ç”Ÿæˆä¸‰ä¸ªpod</p><ul><li><p>CRD</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get CustomResourceDefinition</span></span><br><span class="line">NAME                                   CREATED AT</span><br><span class="line">adapters.config.istio.io               2019-10-29T08:41:31Z</span><br><span class="line">attributemanifests.config.istio.io     2019-10-29T08:41:30Z</span><br><span class="line">authorizationpolicies.rbac.istio.io    2019-10-29T08:41:36Z</span><br><span class="line">certificates.certmanager.k8s.io        2019-10-29T08:41:38Z</span><br><span class="line">challenges.certmanager.k8s.io          2019-10-29T08:41:40Z</span><br><span class="line">clusterissuers.certmanager.k8s.io      2019-10-29T08:41:37Z</span><br><span class="line">clusterrbacconfigs.rbac.istio.io       2019-10-29T08:41:26Z</span><br><span class="line">destinationrules.networking.istio.io   2019-10-29T08:41:25Z</span><br><span class="line">envoyfilters.networking.istio.io       2019-10-29T08:41:26Z</span><br><span class="line">gateways.networking.istio.io           2019-10-29T08:41:26Z</span><br><span class="line">handlers.config.istio.io               2019-10-29T08:41:33Z</span><br><span class="line">httpapispecbindings.config.istio.io    2019-10-29T08:41:27Z</span><br><span class="line">httpapispecs.config.istio.io           2019-10-29T08:41:28Z</span><br><span class="line">instances.config.istio.io              2019-10-29T08:41:32Z</span><br><span class="line">issuers.certmanager.k8s.io             2019-10-29T08:41:37Z</span><br><span class="line">meshpolicies.authentication.istio.io   2019-10-29T08:41:27Z</span><br><span class="line">orders.certmanager.k8s.io              2019-10-29T08:41:40Z</span><br><span class="line">policies.authentication.istio.io       2019-10-29T08:41:27Z</span><br><span class="line">quotaspecbindings.config.istio.io      2019-10-29T08:41:28Z</span><br><span class="line">quotaspecs.config.istio.io             2019-10-29T08:41:29Z</span><br><span class="line">rbacconfigs.rbac.istio.io              2019-10-29T08:41:31Z</span><br><span class="line">rules.config.istio.io                  2019-10-29T08:41:30Z</span><br><span class="line">serviceentries.networking.istio.io     2019-10-29T08:41:25Z</span><br><span class="line">servicerolebindings.rbac.istio.io      2019-10-29T08:41:31Z</span><br><span class="line">serviceroles.rbac.istio.io             2019-10-29T08:41:31Z</span><br><span class="line">sidecars.networking.istio.io           2019-10-29T08:41:34Z</span><br><span class="line">templates.config.istio.io              2019-10-29T08:41:32Z</span><br><span class="line">virtualservices.networking.istio.io    2019-10-29T08:41:25Z</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl get crds | grep 'istio.io\|certmanager.k8s.io' | wc -l</span></span><br><span class="line">23</span><br></pre></td></tr></table></figure></li><li><p>pod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get pods -n istio-system</span></span><br><span class="line">NAME                                      READY   STATUS      RESTARTS   AGE</span><br><span class="line">istio-init-crd-10-1.2.8-wxxjn             0/1     Completed   0          3h20m</span><br><span class="line">istio-init-crd-11-1.2.8-brjhh             0/1     Completed   0          3h20m</span><br><span class="line">istio-init-crd-12-1.2.8-w8wnc             0/1     Completed   0          3h20m</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨helmå®‰è£…å„ä¸ªç»„ä»¶"><a href="#ä½¿ç”¨helmå®‰è£…å„ä¸ªç»„ä»¶" class="headerlink" title="ä½¿ç”¨helmå®‰è£…å„ä¸ªç»„ä»¶"></a>ä½¿ç”¨helmå®‰è£…å„ä¸ªç»„ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">helm install install/kubernetes/helm/istio \</span><br><span class="line">    --name istio \</span><br><span class="line">    --namespace istio-system \</span><br><span class="line">    --<span class="built_in">set</span> global.mtls.enabled=<span class="literal">true</span> \</span><br><span class="line">    --<span class="built_in">set</span> kiali.enabled=<span class="literal">true</span> \</span><br><span class="line">    --<span class="built_in">set</span> tracing.enabled=<span class="literal">true</span> \</span><br><span class="line">    --<span class="built_in">set</span> grafana.enabled=<span class="literal">true</span> \</span><br><span class="line">    --<span class="built_in">set</span> servicegraph.enabled=<span class="literal">true</span> \</span><br><span class="line">    --<span class="built_in">set</span> <span class="string">"kiali.dashboard.jaegerURL=http://jaeger-query:16686"</span> \</span><br><span class="line">    --<span class="built_in">set</span> <span class="string">"kiali.dashboard.grafanaURL=http://grafana:3000"</span> \</span><br><span class="line">    --<span class="built_in">set</span> gateways.istio-ingressgateway.type=NodePort \</span><br><span class="line">    --<span class="built_in">set</span> gateways.istio-egressgateway.type=NodePort</span><br></pre></td></tr></table></figure><h4 id="éªŒè¯å®‰è£…"><a href="#éªŒè¯å®‰è£…" class="headerlink" title="éªŒè¯å®‰è£…"></a>éªŒè¯å®‰è£…</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éªŒè¯æ–‡ä»¶é‡Œé¢çš„æœåŠ¡æ˜¯å¦éƒ½éƒ¨ç½²åœ¨kubernetes æœåŠ¡ä¸­ã€‚ç¡®ä¿éƒ¨ç½²çš„pod åœ¨å¯¹åº”çš„kubernetes namespace é‡Œé¢ï¼Œå¹¶æ­£å¸¸å¯åŠ¨ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æœŸé—´å°†åˆ›å»ºæ‰€éœ€çš„RBACæƒé™ï¼Œå¹¶éƒ¨ç½²Istio-Pilotï¼ŒIstio-Mixerï¼ŒIstio-Ingressï¼ŒIstio-Egresså’ŒIstio-CAï¼ˆè¯ä¹¦é¢å‘æœºæ„ï¼‰ã€‚</p><h5 id="æœåŠ¡å™¨éªŒè¯"><a href="#æœåŠ¡å™¨éªŒè¯" class="headerlink" title="æœåŠ¡å™¨éªŒè¯"></a>æœåŠ¡å™¨éªŒè¯</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¡®ä¿éƒ¨ç½²äº†ä»¥ä¸‹KubernetesæœåŠ¡ï¼šistio-pilotï¼Œistio-mixerï¼Œistio-ingressã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get svc -n istio-system</span></span><br><span class="line">NAME                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                                                                                                                                      AGE</span><br><span class="line">grafana                  ClusterIP   10.254.113.150   &lt;none&gt;        3000/TCP                                                                                                                                     3h22m</span><br><span class="line">istio-citadel            ClusterIP   10.254.27.143    &lt;none&gt;        8060/TCP,15014/TCP                                                                                                                           3h22m</span><br><span class="line">istio-galley             ClusterIP   10.254.155.177   &lt;none&gt;        443/TCP,15014/TCP,9901/TCP                                                                                                                   3h22m</span><br><span class="line">istio-ingressgateway     NodePort    10.254.170.109   &lt;none&gt;        15020:31952/TCP,80:31380/TCP,443:31390/TCP,31400:31400/TCP,15029:32532/TCP,15030:31518/TCP,15031:31525/TCP,15032:30404/TCP,15443:30309/TCP   3h22m</span><br><span class="line">istio-pilot              ClusterIP   10.254.228.182   &lt;none&gt;        15010/TCP,15011/TCP,8080/TCP,15014/TCP                                                                                                       3h22m</span><br><span class="line">istio-policy             ClusterIP   10.254.13.184    &lt;none&gt;        9091/TCP,15004/TCP,15014/TCP                                                                                                                 3h22m</span><br><span class="line">istio-sidecar-injector   ClusterIP   10.254.154.169   &lt;none&gt;        443/TCP                                                                                                                                      3h22m</span><br><span class="line">istio-telemetry          ClusterIP   10.254.71.72     &lt;none&gt;        9091/TCP,15004/TCP,15014/TCP,42422/TCP                                                                                                       3h22m</span><br><span class="line">jaeger-agent             ClusterIP   None             &lt;none&gt;        5775/UDP,6831/UDP,6832/UDP                                                                                                                   3h22m</span><br><span class="line">jaeger-collector         ClusterIP   10.254.100.29    &lt;none&gt;        14267/TCP,14268/TCP                                                                                                                          3h22m</span><br><span class="line">jaeger-query             ClusterIP   10.254.18.117    &lt;none&gt;        16686/TCP                                                                                                                                    3h22m</span><br><span class="line">kiali                    ClusterIP   10.254.156.117   &lt;none&gt;        20001/TCP                                                                                                                                    3h22m</span><br><span class="line">prometheus               ClusterIP   10.254.145.181   &lt;none&gt;        9090/TCP                                                                                                                                     3h22m</span><br><span class="line">tracing                  ClusterIP   10.254.87.72     &lt;none&gt;        80/TCP                                                                                                                                       3h22m</span><br><span class="line">zipkin                   ClusterIP   10.254.39.22     &lt;none&gt;        9411/TCP                                                                                                                                     3h22m</span><br></pre></td></tr></table></figure><h5 id="pod-éªŒè¯"><a href="#pod-éªŒè¯" class="headerlink" title="pod éªŒè¯"></a>pod éªŒè¯</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¡®ä¿å·²éƒ¨ç½²ç›¸åº”çš„Kubernetes Podï¼Œå¹¶ä¸”æ‰€æœ‰å®¹å™¨éƒ½å·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get pods -n istio-system</span></span><br><span class="line">NAME                                      READY   STATUS      RESTARTS   AGE</span><br><span class="line">grafana-6fb9f8c5c7-n2plk                  1/1     Running     0          3h19m</span><br><span class="line">istio-citadel-7c9b84ddb6-n5h2n            1/1     Running     0          3h19m</span><br><span class="line">istio-galley-64f7d8cc97-zdbb6             1/1     Running     0          3h19m</span><br><span class="line">istio-grafana-post-install-1.2.8-98grv    0/1     Completed   0          3h19m</span><br><span class="line">istio-ingressgateway-65c7498b78-dfmfp     1/1     Running     0          3h19m</span><br><span class="line">istio-init-crd-10-1.2.8-wxxjn             0/1     Completed   0          3h20m</span><br><span class="line">istio-init-crd-11-1.2.8-brjhh             0/1     Completed   0          3h20m</span><br><span class="line">istio-init-crd-12-1.2.8-w8wnc             0/1     Completed   0          3h20m</span><br><span class="line">istio-pilot-569499d666-vhgn5              2/2     Running     0          3h19m</span><br><span class="line">istio-policy-5dbbc56db5-dmr4p             2/2     Running     3          3h19m</span><br><span class="line">istio-sidecar-injector-747cf74498-99drh   1/1     Running     0          3h19m</span><br><span class="line">istio-telemetry-7db5dd4c57-zngq7          2/2     Running     4          3h19m</span><br><span class="line">istio-tracing-5d8f57c8ff-vt2kn            1/1     Running     0          3h19m</span><br><span class="line">kiali-7d749f9dcb-68tlt                    1/1     Running     0          3h19m</span><br><span class="line">prometheus-776fdf7479-zbrxl               1/1     Running     0          3h19m</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Istio ä»¥ä¸€ä¸ªé¡¹ç›®çš„å½¢å¼éƒ¨ç½²åˆ° Kubernetes é›†ç¾¤ä¸­ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œéƒ¨ç½²å¥½çš„ pods ä¸­ï¼Œé™¤äº†æœ‰ istio-citadelã€ã€istio-ingressgatewayã€istio-pilot ç­‰ Istio æœ¬èº«çš„åŠŸèƒ½ç»„ä»¶ï¼Œè¿˜é›†æˆäº†å¾®æœåŠ¡ç›¸å…³çš„ç›‘æ§å·¥å…·ï¼Œï¼Œå¦‚ï¼šgrafanaã€jaeger-queryã€kialiã€prometheusã€‚è¿™äº›åŠŸèƒ½ä¸°å¯Œä¸”å¼ºå¤§çš„ç›‘æ§å·¥å…·ï¼Œå¸®åŠ© Istioå®ç°äº†å¾®æœåŠ¡çš„å¯è§†åŒ–ç®¡ç†ã€‚</p><h3 id="éƒ¨ç½²BookInfoç”¨ç¨‹åº"><a href="#éƒ¨ç½²BookInfoç”¨ç¨‹åº" class="headerlink" title="éƒ¨ç½²BookInfoç”¨ç¨‹åº"></a>éƒ¨ç½²BookInfoç”¨ç¨‹åº</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨å¼€å§‹éƒ¨ç½² Bookinfo ç¤ºä¾‹ç¨‹åºã€‚éƒ¨ç½²Bookinfoæ¡ä»¶æ˜¯é›†ç¾¤ä¸­è‡³å°‘æœ‰4ä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸”æ¯ä¸ªèŠ‚ç‚¹çš„å†…å­˜ä¸å¾—ä½äº4Gã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥éƒ¨ç½²å®‰è£…éšé™„çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºä¹‹ä¸€-BookInfoã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡æ‹Ÿä¹¦åº—åº”ç”¨ç¨‹åºï¼Œç”±å››ä¸ªæœåŠ¡ç»„æˆï¼Œè¿™äº›æœåŠ¡æä¾›ä¸€ä¸ªWebäº§å“é¡µé¢ï¼Œä¹¦ç±è¯¦ç»†ä¿¡æ¯ï¼Œè¯„è®ºï¼ˆå¸¦æœ‰å¤šä¸ªç‰ˆæœ¬çš„è¯„è®ºæœåŠ¡ï¼‰å’Œè¯„åˆ†-æ‰€æœ‰è¿™äº›éƒ½ä½¿ç”¨Istioè¿›è¡Œç®¡ç†ã€‚</p><ul><li><p>BookInfoåº”ç”¨ç¨‹åºåˆ†ä¸ºå››ä¸ªå•ç‹¬çš„å¾®æœåŠ¡:</p><ul><li>productpage ï¼šproductpage å¾®æœåŠ¡ä¼šè°ƒç”¨ details å’Œ reviews ä¸¤ä¸ªå¾®æœåŠ¡ï¼Œç”¨æ¥ç”Ÿæˆé¡µé¢ã€‚</li><li>details ï¼šè¿™ä¸ªå¾®æœåŠ¡åŒ…å«äº†ä¹¦ç±çš„ä¿¡æ¯ã€‚</li><li>reviews ï¼šè¿™ä¸ªå¾®æœåŠ¡åŒ…å«äº†ä¹¦ç±ç›¸å…³çš„è¯„è®ºã€‚å®ƒè¿˜ä¼šè°ƒç”¨ ratings å¾®æœåŠ¡ã€‚</li><li>ratings ï¼šratings å¾®æœåŠ¡ä¸­åŒ…å«äº†ç”±ä¹¦ç±è¯„ä»·ç»„æˆçš„è¯„çº§ä¿¡æ¯ã€‚</li></ul></li><li><p>reviews å¾®æœåŠ¡æœ‰ 3 ä¸ªç‰ˆæœ¬ï¼š</p><ul><li>v1 ç‰ˆæœ¬ä¸ä¼šè°ƒç”¨ ratings æœåŠ¡.</li><li>v2 ç‰ˆæœ¬ä¼šè°ƒç”¨ ratings æœåŠ¡ï¼Œå¹¶ä½¿ç”¨ 1 åˆ° 5 ä¸ªé»‘è‰²æ˜Ÿå½¢å›¾æ ‡æ¥æ˜¾ç¤ºè¯„åˆ†ä¿¡æ¯</li><li>v3 ç‰ˆæœ¬ä¼šè°ƒç”¨ ratings æœåŠ¡ï¼Œå¹¶ä½¿ç”¨ 1 åˆ° 5 ä¸ªçº¢è‰²æ˜Ÿå½¢å›¾æ ‡æ¥æ˜¾ç¤ºè¯„åˆ†ä¿¡æ¯</li></ul></li><li><p>ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸ªåº”ç”¨çš„ç«¯åˆ°ç«¯æ¶æ„<br><img src="https://img.xxlaila.cn/1572576628250.jpg" alt="img"></p></li></ul><h4 id="æ‰“æ ‡ç­¾"><a href="#æ‰“æ ‡ç­¾" class="headerlink" title="æ‰“æ ‡ç­¾"></a>æ‰“æ ‡ç­¾</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸º default å‘½åç©ºé—´æ‰“ä¸Šæ ‡ç­¾ istio-injection=enabledï¼Œå®ç° Sidecar è‡ªåŠ¨æ³¨å…¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl label namespace default istio-injection=enabled</span></span><br><span class="line">namespace/default labeled</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl get namespace --show-labels</span></span><br><span class="line">NAME              STATUS   AGE   LABELS</span><br><span class="line">default           Active   43d   istio-injection=enabled</span><br><span class="line">istio-system      Active   29m   &lt;none&gt;</span><br><span class="line">kube-node-lease   Active   43d   &lt;none&gt;</span><br><span class="line">kube-public       Active   43d   &lt;none&gt;</span><br><span class="line">kube-system       Active   43d   &lt;none&gt;</span><br><span class="line">monitoring        Active   35d   &lt;none&gt;</span><br><span class="line">weave             Active   35d   &lt;none&gt;</span><br></pre></td></tr></table></figure><ul><li><strong>æ³¨æ„:</strong> æ­¤æ­¥éª¤å…ˆä¸æ‰§è¡Œï¼Œå¦‚æœè¿™è¿™ä¸ªæ‰§è¡Œäº†ï¼Œåœ¨åé¢éƒ¨ç½²Bookinfoçš„æ—¶å€™ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯<code>Error creating: Internal error occurred: failed calling webhook &quot;sidecar-injector.istio.io&quot;: Post https://istio-sidecar-injector.istio-system.svc:443/inject?timeout=30s: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</code>è¿™ä¸€æ­¥æœ‰æ‰§è¡Œçš„å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆ é™¤</li></ul><ul><li>åˆ é™¤nsçš„label<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get ns --show-labels</span></span><br><span class="line">NAME              STATUS   AGE    LABELS</span><br><span class="line">default           Active   2d4h   istio-injection=enabled</span><br><span class="line">istio-system      Active   174m   &lt;none&gt;</span><br><span class="line">kube-node-lease   Active   2d4h   &lt;none&gt;</span><br><span class="line">kube-public       Active   2d4h   &lt;none&gt;</span><br><span class="line">kube-system       Active   2d4h   &lt;none&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl label namespace default istio-injection-</span></span><br><span class="line">namespace/default labeled</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl get ns --show-labels</span></span><br><span class="line">NAME              STATUS   AGE    LABELS</span><br><span class="line">default           Active   2d4h   &lt;none&gt;</span><br><span class="line">istio-system      Active   175m   &lt;none&gt;</span><br><span class="line">kube-node-lease   Active   2d4h   &lt;none&gt;</span><br><span class="line">kube-public       Active   2d4h   &lt;none&gt;</span><br><span class="line">kube-system       Active   2d4h   &lt;none&gt;</span><br></pre></td></tr></table></figure></li></ul><h4 id="éƒ¨ç½²Bookinfo"><a href="#éƒ¨ç½²Bookinfo" class="headerlink" title="éƒ¨ç½²Bookinfo"></a>éƒ¨ç½²Bookinfo</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´æ¥ä½¿ç”¨kubectl createå…¶å¸¸è§„çš„YAMLéƒ¨ç½²æ–‡ä»¶æ¥éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚å°†ä½¿ç”¨istioctlå°†Envoyå®¹å™¨æ³¨å…¥åˆ°åº”ç”¨ç¨‹åºå®¹å™¨ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl create -f &lt;(istioctl kube-inject -f samples/bookinfo/platform/kube/bookinfo.yaml)</span></span><br><span class="line">service/details created</span><br><span class="line">serviceaccount/bookinfo-details created</span><br><span class="line">deployment.apps/details-v1 created</span><br><span class="line">service/ratings created</span><br><span class="line">serviceaccount/bookinfo-ratings created</span><br><span class="line">deployment.apps/ratings-v1 created</span><br><span class="line">service/reviews created</span><br><span class="line">serviceaccount/bookinfo-reviews created</span><br><span class="line">deployment.apps/reviews-v1 created</span><br><span class="line">deployment.apps/reviews-v2 created</span><br><span class="line">deployment.apps/reviews-v3 created</span><br><span class="line">service/productpage created</span><br><span class="line">serviceaccount/bookinfo-productpage created</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯¥å‘½ä»¤å°†å¯åŠ¨bookinfoåº”ç”¨ç¨‹åºä½“ç³»ç»“æ„å›¾ä¸­æ˜¾ç¤ºçš„æ‰€æœ‰å››ä¸ªæœåŠ¡ã€‚å·²å¯åŠ¨è¯„è®ºæœåŠ¡çš„æ‰€æœ‰3ä¸ªç‰ˆæœ¬ï¼Œå³v1ï¼Œv2å’Œv3ã€‚è€Œåœ¨å®é™…éƒ¨ç½²ä¸­ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ä¼šéƒ¨ç½²æ–°ç‰ˆæœ¬çš„å¾®æœåŠ¡ï¼Œè€Œä¸æ˜¯åŒæ—¶éƒ¨ç½²æ‰€æœ‰ç‰ˆæœ¬ã€‚</p><h4 id="æ£€æŸ¥éƒ¨ç½²"><a href="#æ£€æŸ¥éƒ¨ç½²" class="headerlink" title="æ£€æŸ¥éƒ¨ç½²"></a>æ£€æŸ¥éƒ¨ç½²</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¡®è®¤æ‰€æœ‰æœåŠ¡å’ŒPodå‡å·²æ­£ç¡®å®šä¹‰å¹¶æ­£åœ¨è¿è¡Œã€‚</p><ul><li><p>æ£€æŸ¥ services</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get services</span></span><br><span class="line">NAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">details       ClusterIP   10.254.61.113    &lt;none&gt;        9080/TCP   2m27s</span><br><span class="line">kubernetes    ClusterIP   10.254.0.1       &lt;none&gt;        443/TCP    43d</span><br><span class="line">productpage   ClusterIP   10.254.130.5     &lt;none&gt;        9080/TCP   2m23s</span><br><span class="line">ratings       ClusterIP   10.254.186.181   &lt;none&gt;        9080/TCP   2m26s</span><br><span class="line">reviews       ClusterIP   10.254.200.107   &lt;none&gt;        9080/TCP   2m25s</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥ pod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl get pods</span></span><br><span class="line">NAME                              READY   STATUS    RESTARTS   AGE</span><br><span class="line">details-v1-c5b5f496d-lphgd        1/1     Running   0          15h</span><br><span class="line">load-generator-7fbcc7489f-vbpnx   1/1     Running   2          20d</span><br><span class="line">nginx-deploy-d494b9564-vx97s      1/1     Running   1          20d</span><br><span class="line">productpage-v1-c7765c886-97spj    1/1     Running   0          15h</span><br><span class="line">ratings-v1-f745cf57b-mdgxr        1/1     Running   0          15h</span><br><span class="line">reviews-v1-75b979578c-ghqqm       1/1     Running   0          15h</span><br><span class="line">reviews-v2-597bf96c8f-r659w       1/1     Running   0          15h</span><br><span class="line">reviews-v3-54c6c64795-tvsmq       1/1     Running   0          15h</span><br></pre></td></tr></table></figure></li><li><p>ç¡®è®¤Bookinfoåº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œï¼Œè¯·é€šè¿‡curlæŸä¸ªpodä¸­çš„å‘½ä»¤å‘å…¶å‘é€è¯·æ±‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl exec -it $(kubectl get pod -l app=ratings -o jsonpath='&#123;.items[0].metadata.name&#125;') -c ratings -- curl productpage:9080/productpage | grep -o "&lt;title&gt;.*&lt;/title&gt;"</span></span><br><span class="line">&lt;title&gt;Simple Bookstore App&lt;/title&gt;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ¯ä¸ªæœåŠ¡æ—è¾¹éƒ½æ³¨å…¥äº†Envoyï¼Œæ¶æ„å°†å¦‚ä¸‹<br><img src="https://img.xxlaila.cn/1572577460804.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BookinfoæœåŠ¡å·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œï¼Œæ‚¨éœ€è¦ä½¿è¯¥åº”ç”¨ç¨‹åºå¯ä»¥ä»Kubernetesé›†ç¾¤å¤–éƒ¨è®¿é—®ï¼Œä¾‹å¦‚ï¼Œä»æµè§ˆå™¨è®¿é—®ã€‚Istioç½‘å…³ç”¨äºæ­¤ç›®çš„ã€‚ä½†æ˜¯æˆ‘åœ¨éƒ¨ç½² bookinfo-gateway çš„æ—¶å€™å‡ºç°é”™è¯¯ï¼Œé”™è¯¯å¦‚ä¸‹ï¼›ç„¶åçœ‹äº†ä¸€ä¸‹ bookinfo-gatewayå°±æ˜¯æä¾›ä¸€ä¸ªwebè®¿é—®çš„ç¨‹åºï¼Œæ—¢ç„¶æ˜¯æä¾›çš„ä¸€ä¸ªwebè®¿é—®ï¼Œæˆ‘å°±ä½¿ç”¨äº†Traefixæ¥æä¾›è¿™ä¸ªæœåŠ¡ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">Error</span> <span class="keyword">from</span><span class="built_in"> server </span>(Timeout): <span class="builtin-name">error</span> when creating <span class="string">"samples/bookinfo/networking/bookinfo-gateway.yaml"</span>: Timeout: request did <span class="keyword">not</span> complete within requested timeout 30s</span><br><span class="line"><span class="builtin-name">Error</span> <span class="keyword">from</span><span class="built_in"> server </span>(Timeout): <span class="builtin-name">error</span> when creating <span class="string">"samples/bookinfo/networking/bookinfo-gateway.yaml"</span>: Timeout: request did <span class="keyword">not</span> complete within requested timeout 30s</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»º-bookinfo-gateway"><a href="#åˆ›å»º-bookinfo-gateway" class="headerlink" title="åˆ›å»º bookinfo-gateway"></a>åˆ›å»º bookinfo-gateway</h4><ul><li>istio-Ingress.yaml<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt;istio-Ingress.yaml &lt;&lt;EOF</span></span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: istio-web-ui</span><br><span class="line">  namespace: </span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: istio.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: productpage</span><br><span class="line">          servicePort: 9080</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æµè§ˆå™¨è¾“å…¥<code>http://istio.xxlaila.cn</code> æ¥è®¿é—®ã€‚ç”¨ productpageä»¥æŸ¥çœ‹BookInfoç½‘é¡µã€‚å¦‚æœæ‚¨å¤šæ¬¡åˆ·æ–°é¡µé¢ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°äº§å“é¡µé¢ä¸Šæ˜¾ç¤ºçš„è¯„è®ºç‰ˆæœ¬ä¸åŒï¼Œå¹¶ä»¥å¾ªç¯æ–¹å¼æ˜¾ç¤ºï¼ˆçº¢è‰²æ˜Ÿæ˜Ÿï¼Œé»‘è‰²æ˜Ÿæ˜Ÿï¼Œæ— æ˜Ÿæ˜Ÿï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬å°šæœªä½¿ç”¨Istioæ¥æ§åˆ¶ç‰ˆæœ¬è·¯ç”±<br><img src="https://img.xxlaila.cn/1572578398765.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1572578189667.jpg" alt="img"></p><p>åŸºæœ¬é“è¿™é‡Œï¼ŒåŠ¨æ€æ›´æ”¹è¯·æ±‚è·¯ç”±å­¦ä¹ ä¸­ï¼ŒğŸ˜‚ğŸ˜‚ğŸ˜‚</p><h3 id="ç›‘æ§æ–¹å¼"><a href="#ç›‘æ§æ–¹å¼" class="headerlink" title="ç›‘æ§æ–¹å¼"></a>ç›‘æ§æ–¹å¼</h3><h4 id="ç”ŸæˆæœåŠ¡å›¾"><a href="#ç”ŸæˆæœåŠ¡å›¾" class="headerlink" title="ç”ŸæˆæœåŠ¡å›¾"></a>ç”ŸæˆæœåŠ¡å›¾</h4><p>è¦éªŒè¯Kialiæ˜¯å¦åœ¨æ‚¨çš„é›†ç¾¤ä¸­è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl -n istio-system get svc kiali</span></span><br><span class="line">NAME    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)     AGE</span><br><span class="line">kiali   ClusterIP   10.254.156.117   &lt;none&gt;        20001/TCP   4h38m</span><br></pre></td></tr></table></figure><p>æµé‡å‘é€åˆ°ç½‘æ ¼ï¼Œæœ‰ä¸‰ç§é€‰æ‹©:<br>1.åœ¨ç½‘ç»œæµè§ˆå™¨ä¸­è®¿é—®<a href="http://istio.xxlaila.cn/productpage" target="_blank" rel="noopener">http://istio.xxlaila.cn/productpage</a><br>2.å¤šæ¬¡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl http://istio.xxlaila.cn/productpage</span></span><br></pre></td></tr></table></figure><p>3.ä½¿ç”¨ä»¥ä¸‹watchå‘½ä»¤è¿ç»­å‘é€è¯·æ±‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># watch -n 1 curl -o /dev/null -s -w %&#123;http_code&#125; http://istio.xxlaila.cn/productpage</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œéœ€è¦é…ç½®Kiali UIï¼Œæˆ‘ä»¬åŒæ ·é€‚ç”¨Traefixæ¥è¿›è¡Œé…ç½®</p><ul><li>kialiâ€“Ingress.yaml<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt; kiali--Ingress.yaml &lt;&lt;EOF</span></span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: kiali-web-ui</span><br><span class="line">  namespace: istio-system </span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: istio-kiali.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: kiali</span><br><span class="line">          servicePort: 20001</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æµè§ˆå™¨æ‰“å¼€<a href="http://istio-kiali.xxlaila.cn" target="_blank" rel="noopener">http://istio-kiali.xxlaila.cn</a> ï¼Œ è¦ç™»å½•Kiali UIï¼Œè¯·è½¬åˆ°Kialiç™»å½•å±å¹•ï¼Œç„¶åè¾“å…¥å­˜å‚¨åœ¨Kialiæœºå¯†ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ã€‚è´¦æˆ·å¯†ç æ˜¯å‰é¢æˆ‘ä»¬è®¾ç½®çš„</p><h4 id="1-ç½‘æ ¼æ¦‚è¿°"><a href="#1-ç½‘æ ¼æ¦‚è¿°" class="headerlink" title="1.ç½‘æ ¼æ¦‚è¿°"></a>1.ç½‘æ ¼æ¦‚è¿°</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç™»å½•åç«‹å³æ˜¾ç¤ºçš„â€œæ¦‚è¿°â€é¡µé¢ä¸­æŸ¥çœ‹ç½‘æ ¼çš„æ¦‚è¿°ã€‚â€œæ¦‚è¿°â€é¡µé¢æ˜¾ç¤ºäº†ç½‘æ ¼ä¸­å…·æœ‰æœåŠ¡çš„æ‰€æœ‰åç§°ç©ºé—´ã€‚ä»¥ä¸‹å±å¹•æˆªå›¾æ˜¾ç¤ºäº†ç±»ä¼¼çš„é¡µé¢<br><img src="https://img.xxlaila.cn/1572578943386.jpg" alt="img"></p><h4 id="2-ç©ºé—´å›¾"><a href="#2-ç©ºé—´å›¾" class="headerlink" title="2.ç©ºé—´å›¾"></a>2.ç©ºé—´å›¾</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¦æŸ¥çœ‹åç§°ç©ºé—´å›¾ï¼Œè¯·åœ¨bookinfoBookinfoåç§°ç©ºé—´å¡ä¸­å•å‡»å›¾å›¾æ ‡ã€‚å›¾å½¢å›¾æ ‡ä½äºåç§°ç©ºé—´å¡çš„å·¦ä¸‹æ–¹ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸€ç»„ç›¸è¿çš„åœˆå­ã€‚è¯¥é¡µé¢ç±»ä¼¼äº<br><img src="https://img.xxlaila.cn/1572579048298.jpg" alt="img"></p><h3 id="åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ"><a href="#åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ" class="headerlink" title="åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ"></a>åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ç”¨Istioçš„åº”ç”¨ç¨‹åºå¯ä»¥é…ç½®ä¸ºä½¿ç”¨æµè¡Œçš„Jaegeråˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿæ¥æ”¶é›†è·Ÿè¸ªèŒƒå›´ã€‚åˆ†å¸ƒå¼è·Ÿè¸ªä½¿æ‚¨å¯ä»¥æŸ¥çœ‹ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å‘å‡ºçš„è¯·æ±‚æµï¼Œè€ŒIstioçš„æ¨¡å‹åˆ™å…è®¸è¿™æ ·åšï¼Œè€Œä¸æ„å»ºåº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„è¯­è¨€/æ¡†æ¶/å¹³å°æ— å…³ã€‚ä½¿ç”¨Traefixæ¥æä¾›è¿™ä¸ªæœåŠ¡ã€‚</p><ul><li><p>Jaeger-Ingress.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt; Jaeger-Ingress.yaml  &lt;&lt;EOF</span></span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: jaeger-web-ui</span><br><span class="line">  namespace: istio-system </span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: jaeger.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: jaeger-query</span><br><span class="line">          servicePort: 16686</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl apply -f Jaeger-Ingress.yaml </span></span><br><span class="line">ingress.extensions/jaeger-web-ui unchanged</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æµè§ˆå™¨æ‰“å¼€<a href="http://jaeger.xxlaila.cn" target="_blank" rel="noopener">http://jaeger.xxlaila.cn</a> ï¼Œ ä½¿ç”¨Bookinfoç¤ºä¾‹ç”Ÿæˆè·Ÿè¸ªï¼Œè¦æŸ¥çœ‹è·Ÿè¸ªæ•°æ®ï¼Œå¿…é¡»å°†è¯·æ±‚å‘é€åˆ°æœåŠ¡ã€‚è¯·æ±‚æ•°é‡å–å†³äºIstioçš„é‡‡æ ·ç‡ã€‚æ‚¨åœ¨å®‰è£…Istioæ—¶è®¾ç½®æ­¤é€Ÿç‡ã€‚é»˜è®¤é‡‡æ ·ç‡ä¸º1ï¼…ã€‚æ‚¨éœ€è¦è‡³å°‘å‘é€100ä¸ªè¯·æ±‚ï¼Œæ‰èƒ½æ˜¾ç¤ºç¬¬ä¸€æ¡è·Ÿè¸ªã€‚è¦å°†100ä¸ªè¯·æ±‚å‘é€åˆ°productpageæœåŠ¡ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># for i in `seq 1 100`; do curl -s -o /dev/null http://istio.xxlaila.cn/productpage; done</span></span><br></pre></td></tr></table></figure><ul><li><p>åœ¨ä»ªè¡¨æ¿çš„å·¦ä¾§çª—æ ¼ä¸­ï¼Œä»â€œæœåŠ¡â€ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©productpage.defaultï¼Œç„¶åå•å‡»â€œæŸ¥æ‰¾è·Ÿè¸ªâ€<br><img src="https://img.xxlaila.cn/1572592255728.jpg" alt="img"></p></li><li><p>å•å‡»é¡¶éƒ¨çš„æœ€æ–°è·Ÿè¸ªä»¥æŸ¥çœ‹ä¸å¯¹/ productpageçš„æœ€æ–°è¯·æ±‚ç›¸å¯¹åº”çš„è¯¦ç»†ä¿¡æ¯<br><img src="https://img.xxlaila.cn/1572592385675.jpg" alt="img"></p></li></ul><h3 id="ç›‘è§†Istio"><a href="#ç›‘è§†Istio" class="headerlink" title="ç›‘è§†Istio"></a>ç›‘è§†Istio</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½•è®¾ç½®å’Œä½¿ç”¨Istioä»ªè¡¨æ¿ç›‘è§†ç½‘æ ¼æµé‡ã€‚ä½œä¸ºç›‘æ§çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦å°†å®‰è£…Grafana Istioæ’ä»¶ï¼Œå¹¶ä½¿ç”¨åŸºäºWebçš„ç•Œé¢æŸ¥çœ‹æœåŠ¡ç½‘æ ¼æµé‡æ•°æ®ã€‚Grafanaå°†ç”¨äºå¯è§†åŒ–æ™®ç½—ç±³ä¿®æ–¯æ•°æ®ã€‚åœ¨æ‰§è¡Œéƒ¨ç½²çš„æ—¶å€™ä¹Ÿéƒ¨ç½²äº†è¿™ä¸¤ä¸ªæœåŠ¡ã€‚</p><h4 id="åˆ›å»ºgrafana-Ingress"><a href="#åˆ›å»ºgrafana-Ingress" class="headerlink" title="åˆ›å»ºgrafana Ingress"></a>åˆ›å»ºgrafana Ingress</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt;grafana-istio-Ingress.yaml &lt;&lt;EOF</span></span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: grafana-istio-web-ui</span><br><span class="line">  namespace: istio-system</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: grafana-istio.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: grafana</span><br><span class="line">          servicePort: 3000</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><ul><li>æ‰§è¡Œåˆ›å»ºï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥å‰çš„grafanaé‡Œé¢æ·»åŠ æ•°æ®åº“æºï¼Œå°±ä¸ç”¨åœ¨æ–°èµ·ä¸€ä¸ªåŸŸåæ¥è¿›è¡Œè®¿é—®<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†æ¬¡åŠ è½½Bookinfoåº”ç”¨ç¨‹åºï¼ˆ<a href="http://istio.xxlaila.cn/productpageï¼‰" target="_blank" rel="noopener">http://istio.xxlaila.cn/productpageï¼‰</a> ï¼Œ åˆ·æ–°é¡µé¢å‡ æ¬¡ï¼ˆæˆ–å‘é€å‘½ä»¤å‡ æ¬¡ï¼‰ä»¥äº§ç”Ÿå°‘é‡æµé‡ã€‚å†æ¬¡æŸ¥çœ‹Istioä»ªè¡¨æ¿ã€‚å®ƒåº”è¯¥åæ˜ æ‰€äº§ç”Ÿçš„æµé‡ã€‚<br><img src="https://img.xxlaila.cn/1572593852626.jpg" alt="img"></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;istio è¿˜æä¾›äº†ç½‘æ ¼çš„å…¨å±€è§†å›¾ä»¥åŠç½‘æ ¼ä¸­çš„æœåŠ¡å’Œå·¥ä½œè´Ÿè½½ã€‚æ‚¨å¯ä»¥é€šè¿‡å¯¼èˆªåˆ°ç‰¹å®šçš„ä»ªè¡¨æ¿æ¥è·å–æœ‰å…³æœåŠ¡å’Œå·¥ä½œè´Ÿè½½çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚<br><img src="https://img.xxlaila.cn/1572594150893.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æä¾›äº†æœ‰å…³æœåŠ¡æŒ‡æ ‡çš„è¯¦ç»†ä¿¡æ¯ï¼Œç„¶åæ˜¯è¯¥æœåŠ¡çš„å®¢æˆ·ç«¯å·¥ä½œè´Ÿè½½ï¼ˆæ­£åœ¨è°ƒç”¨æ­¤æœåŠ¡çš„å·¥ä½œè´Ÿè½½ï¼‰å’ŒæœåŠ¡å·¥ä½œè´Ÿè½½ï¼ˆæ­£åœ¨æä¾›è¯¥æœåŠ¡çš„å·¥ä½œè´Ÿè½½ï¼‰ã€‚<br><img src="https://img.xxlaila.cn/1572594261333.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Istio åœ¨grafana æä¾›äº†å¾ˆå¤šçš„ç›‘æ§æŒ‡æ ‡ï¼Œå¯ä»¥åˆ†åˆ«ç‚¹å‡»çœ‹çœ‹<br><img src="https://img.xxlaila.cn/1572594330246.jpg" alt="img"></p><h3 id="æŸ¥è¯¢IstioæŒ‡æ ‡"><a href="#æŸ¥è¯¢IstioæŒ‡æ ‡" class="headerlink" title="æŸ¥è¯¢IstioæŒ‡æ ‡"></a>æŸ¥è¯¢IstioæŒ‡æ ‡</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Istioçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨prometheusé‡Œé¢çš„ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡prometheusè¿›è¡Œç›´æ¥æ•°æ®çš„æŸ¥è¯¢</p><h4 id="æŸ¥çœ‹prometheusæœåŠ¡"><a href="#æŸ¥çœ‹prometheusæœåŠ¡" class="headerlink" title="æŸ¥çœ‹prometheusæœåŠ¡"></a>æŸ¥çœ‹prometheusæœåŠ¡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl -n istio-system get svc prometheus</span></span><br><span class="line">NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">prometheus   ClusterIP   10.254.145.181   &lt;none&gt;        9090/TCP   5h35m</span><br></pre></td></tr></table></figure><h4 id="prometheus-traefix"><a href="#prometheus-traefix" class="headerlink" title="prometheus traefix"></a>prometheus traefix</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡traefix æ¥ä»£ç†prometheusï¼Œç„¶åæˆ‘ä»¬å°†æµé‡å‘é€åˆ°ç½‘æ ¼ã€‚</p><ul><li><p>prometheus-istio.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt; prometheus-istio-Ingress.yaml &lt;&lt;EOF</span></span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: prometheus-istio-web-ui</span><br><span class="line">  namespace: istio-system</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: prometheus-istio.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: prometheus</span><br><span class="line">          servicePort: 9090</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl apply -f prometheus-istio-Ingress.yaml </span></span><br><span class="line">ingress.extensions/prometheus-istio-web-ui created</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æµè§ˆå™¨æ‰“å¼€<a href="http://prometheus-istio.xxlaila.cn" target="_blank" rel="noopener">http://prometheus-istio.xxlaila.cn</a> ï¼Œå¯ä»¥åœ¨è¾“å…¥æ¡†é‡Œé¢è¾“å…¥è¡¨è¾¾å¼æ¥è·å–æŒ‡ï¼Œè¾“å…¥æ–‡æœ¬ï¼šistio_requests_total<br><img src="https://img.xxlaila.cn/1572594888435.jpg" alt="img"></p><ul><li><p>å…¶ä»–æŸ¥è¯¢å°è¯•ï¼š</p><ul><li><p>å¯¹productpageæœåŠ¡çš„æ‰€æœ‰è¯·æ±‚æ€»æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">istio_requests_total&#123;destination_service=<span class="string">"productpage.default.svc.cluster.local"</span>&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¯¹v3ç‰ˆæœ¬çš„è¯„è®ºæœåŠ¡çš„æ‰€æœ‰è¯·æ±‚æ€»æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">istio_requests_total&#123;destination_service=<span class="string">"reviews.default.svc.cluster.local"</span>, destination_version=<span class="string">"v3"</span>&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>è¯¥æŸ¥è¯¢å°†æ‰€æœ‰è¯·æ±‚çš„å½“å‰æ€»æ•°è¿”å›åˆ°è¯„è®ºæœåŠ¡çš„v3ã€‚</p><ul><li>è¿‡å»5åˆ†é’Ÿå†…å¯¹productpageæœåŠ¡æ‰€æœ‰å®ä¾‹çš„è¯·æ±‚ç‡ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rate(istio_requests_total&#123;destination_service=~<span class="string">"productpage.*"</span>, response_code=<span class="string">"200"</span>&#125;[5m])</span><br></pre></td></tr></table></figure></li></ul></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;Istioä»‹ç»&quot;&gt;&lt;a href=&quot;#Istioä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;Istioä»‹ç»&quot;&gt;&lt;/a&gt;Istioä»‹ç»&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;istioä»£è¡¨çš„æ˜¯Service Meshçš„æ–¹æ¡ˆå®ç°ï¼ŒIstio æœ‰åŠ©äºé™ä½è¿™äº›éƒ¨ç½²çš„å¤æ‚æ€§ï¼Œå¹¶å‡è½»å¼€å‘å›¢é˜Ÿçš„å‹åŠ›ã€‚æä¾›ä¸€ç§ç®€å•çš„æ–¹å¼æ¥ä¸ºå·²éƒ¨ç½²çš„æœåŠ¡å»ºç«‹ç½‘ç»œï¼Œä¸”æä¾›å…·æœ‰è´Ÿè½½å‡è¡¡ã€æœåŠ¡é—´è®¤è¯ã€ç›‘æ§ã€æµé‡ç®¡ç†ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="istio" scheme="https://www.xxlaila.cn/tags/istio/"/>
    
  </entry>
  
  <entry>
    <title>pipelineæ ¸å¿ƒé«˜çº§ç¯‡</title>
    <link href="https://www.xxlaila.cn/2019/10/26/pipeline%E9%AB%98%E7%BA%A7%E7%AF%87/"/>
    <id>https://www.xxlaila.cn/2019/10/26/pipelineé«˜çº§ç¯‡/</id>
    <published>2019-10-26T01:59:01.000Z</published>
    <updated>2019-10-28T02:40:59.762Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰é¢çš„ä¸¤ç¯‡æ–‡ç« ä»‹ç»äº†pipelineçš„åŸºæœ¬ä½¿ç”¨å’Œä¸€äº›å®é™…ä½¿ç”¨çš„ä¾‹å­ï¼Œçœ‹ä¼¼å¾ˆä¸é”™ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¹Ÿä¼šå‡ºç°å¾ˆå¤šçš„ä¸è¶³å’Œé—®é¢˜ï¼Œéšä¹‹ç³»ç»Ÿçš„åºå¤§ã€æœåŠ¡çš„å¢åŠ ã€äººå‘˜çš„å‚å·®ä¸é½ä¼šå¯¼è‡´å¾ˆå¤šçš„é—®é¢˜ã€‚<a id="more"></a>å±Šæ—¶ä¼šå¸¦æ¥å¾ˆå¤§çš„ç»´æŠ¤æˆæœ¬å’Œä¸€äº›æ”¹åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åšäº‹æƒ…ä¹‹å‰å°±è¦è€ƒè™‘è¿›å»ï¼Œä¸€äº›æ„å¤–äº‹ä»¶çš„å‘ç”Ÿã€æˆ–è€…æ˜¯åœ¨å°†æ¥å³å°†ä¼šå‘ç”Ÿå’Œéœ€è¦æ”¹å˜çš„äº‹æƒ…æˆ‘ä»¬éƒ½è¦æƒ³åˆ°æˆ–è€…æ˜¯é¢„ç•™å£å­ï¼Œè¿™æ ·æ‰åœ¨ä»Šåæ‰©å±•ã€ä¿®æ”¹ã€å¼•å…¥éƒ½èƒ½æœ‰å¾ˆå¥½å¯å¡‘æ€§ã€‚</p><h3 id="jenkins-jobä»‹ç»"><a href="#jenkins-jobä»‹ç»" class="headerlink" title="jenkins jobä»‹ç»"></a>jenkins jobä»‹ç»</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨jenkinsçš„æ™®é€šjobï¼Œæ™®é€šçš„jobå¥½å¤„æ˜¯é…ç½®ç®€å•ï¼Œç»“æ„åŒ–å¯ä»¥å¤æ‚ï¼Œä¹Ÿå¯ä»¥å•ä¸€ã€‚åœ¨ä½¿ç”¨jenkins jobçš„æ—¶å€™æˆ‘ä»¬åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯å•ä¸€jobï¼Œä¸€ç§æ˜¯å…·æœ‰è€¦åˆæ€§çš„ã€‚ä¸‹é¢å¯¹ä¸¤ç§æƒ…å†µè¿›è¡Œå¯¹æ¯”å’Œæ¯”è¾ƒã€‚</p><h4 id="jenkins-å•ä¸€job"><a href="#jenkins-å•ä¸€job" class="headerlink" title="jenkins å•ä¸€job"></a>jenkins å•ä¸€job</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨jenkinsçš„ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œå•ä¸€çš„çš„jobå¯ä»¥è®©ç»´æŠ¤äººå‘˜å¯ä»¥å¾ˆå¥½çš„æŸ¥çœ‹é‡Œé¢çš„é€»è¾‘æ­¥éª¤ï¼Œjobé‡Œé¢æ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨è¿™ä¸ªæ‰€å±çš„ç©ºé—´é‡Œé¢æ‰§è¡Œï¼Œå®ƒé‡Œé¢åŒ…å«äº†ï¼šä»£ç pullã€ç¼–è¯‘ã€æ‰“åŒ…ã€å¤åˆ¶åŒ…ã€å‘å¸ƒåŒ…ï¼ˆä½¿ç”¨å†…ç½®çš„shellæ¨¡å—æ¥å†™shellï¼Œè¿™ç§åº”è¯¥ä¸å­˜åœ¨ï¼‰ã€‚ç§å•ä¸€jobæœåŠ¡ç®—å¾—ä¸Šæ˜¯æœåŠ¡å‘¨åˆ°ï¼Œä¸å½±å“å…¶ä»–äººï¼Œè‡ªå·±ç®¡ç†å¥½è‡ªå·±çš„ä¸€äº©ä¸‰åˆ†åœ°ã€‚å¥½å¤„æ˜¯å½“å‡ºé”™ä»¥åå½±å“èŒƒå›´å°ï¼Œå®¹æ˜“æ§åˆ¶ã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="https://img.xxlaila.cn/1572064519037.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™ä¸­æ¨¡å¼ä¸‹ï¼Œç»´æŠ¤äººå‘˜å‰æœŸç”¨çœ‹ä¼¼æ¯”è¾ƒè½»æ¾çš„å·¥ä½œå»ºç«‹èµ·äº†æ•´ä¸ªå‘å¸ƒæµç¨‹ã€‚ä½†æ˜¯åˆ°äº†åæœŸå°±ä¸è¡Œäº†ã€‚ä¹‹å‰æˆ‘åœ¨çš„è¿™å®¶å…¬å¸å‰æœŸä¹Ÿæ˜¯è¿™ä¹ˆè¿™ä¹ˆåšçš„ã€‚å¼€å‘å®Œæˆåæäº¤gitï¼Œç„¶åè‡ªåŠ¨è§¦å‘ã€æ„å»ºã€åˆ¶å“åº“ã€å‘å¸ƒï¼Œåœ¨ä¸€ä¸ªjobé‡Œé¢å°±å®Œæˆäº†ã€‚åæ¥æˆ‘ä»¬å‡†å¤‡æ¨è¡Œæ›´å¥½çš„devopsæ–¹æ¡ˆçš„æ—¶å€™ï¼›å‘ç°ä»¥å‰çš„è¿™ä¸ªjobå»ºç«‹æœ‰é—®é¢˜ï¼Œä¸€æƒ³åˆ°å‡ ç™¾ä¸ªå¾®æœåŠ¡ï¼Œå‡ ç™¾ä¸ªjobéœ€è¦å»è¿›è¡Œæ”¹é€ ã€‚é¡¿æ—¶æˆ‘ä»¬è¿ç»´è„¸çº¿ä¸€é»‘ï¼Œè™½ç„¶æˆ‘ä»¬è‡ªå·±å†™äº†ä¸€ä¸ªå¿«é€Ÿåœ¨jenkinsä¸Šå»ºç«‹jobï¼Œä½†æ˜¯ä¸€æƒ³åˆ°å‡ ç™¾ä¸ªè¿˜æ˜¯ä¸å¥½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†jobä¹‹é—´çš„ä»»åŠ¡å…³è”ï¼Œç„¶åé€šè¿‡å‚æ•°ä¼ é€’å®Œæˆæ•´ä¸ªæµç¨‹æœåŠ¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ¨¡å¼ä¸‹çš„å¼Šç«¯å°±å¦‚ä¸Šé¢æ‰€è¯´çš„ä¸€æ ·ï¼Œä½†ä»€ä¹ˆæ—¶å€™å¥½çš„æœåŠ¡å‘¢ï¼Ÿå¥½çš„æœåŠ¡åˆæ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿè¿™é‡Œä¹Ÿå¯ä»¥åµŒå¥—ä¸€äº›å¾®æœåŠ¡çš„æ¦‚å¿µç†è®ºã€‚å¦‚æœæˆ‘ä»¬è¦åšåˆ°ä»€ä¹ˆæ—¶å€™å¥½çš„æœåŠ¡ï¼Œæˆ‘ä»¬å¾—äº†è§£äº†è§£ä¸€ä¸‹: ä½è€¦åˆå’Œé«˜å†…èšã€‚äº†è§£è¿™ä¸ªä¸œè¥¿æœ‰åŠ©äºæˆ‘ä»¬åœ¨æ¥ä¸‹æ¥çš„pipeline æµæ°´çº¿çš„è®¾è®¡ï¼ŒåŒ…æ‹¬åœ¨åæœŸdevopsçš„è®¾è®¡ä»¥åŠæ’¸ç éƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><h3 id="è€¦åˆæ€§"><a href="#è€¦åˆæ€§" class="headerlink" title="è€¦åˆæ€§"></a>è€¦åˆæ€§</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£è¿™ä¸€æ¦‚å¿µ: â€œé«˜å†…èšä½è€¦åˆâ€ã€‚åœ¨è½¯ä»¶è®¾è®¡ä¸­é€šå¸¸ç”¨è€¦åˆåº¦å’Œå†…èšåº¦ä½œä¸ºè¡¡é‡æ¨¡å—ç‹¬ç«‹ç¨‹åº¦çš„æ ‡å‡†ã€‚åˆ’åˆ†æ¨¡å—çš„ä¸€ä¸ªå‡†åˆ™æ˜¯é«˜å†…èšä½è€¦åˆã€‚ä»æ¨¡å—ç²’åº¦æ¥çœ‹ï¼Œé«˜å†…èšï¼šå°½å¯èƒ½ç±»çš„æ¯ä¸ªæˆå‘˜æ–¹æ³•åªå®Œæˆä¸€ä»¶äº‹ï¼ˆæœ€å¤§é™åº¦çš„èšåˆï¼‰ï¼›ä½è€¦åˆï¼šå‡å°‘ç±»å†…éƒ¨ï¼Œä¸€ä¸ªæˆå‘˜æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªæˆå‘˜æ–¹æ³•ã€‚ä»ç±»è§’åº¦æ¥çœ‹ï¼Œé«˜å†…èšä½è€¦åˆï¼šå‡å°‘ç±»å†…éƒ¨ï¼Œå¯¹å…¶ä»–ç±»çš„è°ƒç”¨ï¼›ä»åŠŸèƒ½å—æ¥çœ‹ï¼Œé«˜å†…èšä½è€¦åˆï¼šå‡å°‘æ¨¡å—ä¹‹é—´çš„äº¤äº’å¤æ‚åº¦ï¼ˆæ¥å£æ•°é‡ï¼Œå‚æ•°æ•°æ®ï¼‰å³æ¨ªå‘ï¼šç±»ä¸ç±»ä¹‹é—´ã€æ¨¡å—ä¸æ¨¡å—ä¹‹é—´ï¼›çºµå‘ï¼šå±‚æ¬¡ä¹‹é—´ï¼›å°½å¯èƒ½ï¼Œå†…å®¹å†…èšï¼Œæ•°æ®è€¦åˆã€‚</p><h4 id="ä½è€¦åˆ"><a href="#ä½è€¦åˆ" class="headerlink" title="ä½è€¦åˆ"></a>ä½è€¦åˆ</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸åŒæ¨¡å—ç›¸äº’ä¾èµ–å¤šå°‘ï¼Ÿæ¨¡å—åº”å°½å¯èƒ½ç‹¬ç«‹äºå…¶ä»–æ¨¡å—ï¼Œä»¥ä½¿å¯¹æ¨¡å—çš„æ›´æ”¹ä¸ä¼šä¸¥é‡å½±å“å…¶ä»–æ¨¡å—ã€‚</p><h4 id="é«˜è€¦åˆ"><a href="#é«˜è€¦åˆ" class="headerlink" title="é«˜è€¦åˆ"></a>é«˜è€¦åˆ</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é«˜è€¦åˆå°†æ„å‘³ç€æ‚¨çš„æ¨¡å—å¯¹å…¶ä»–æ¨¡å—çš„å†…éƒ¨è¿ä½œäº†è§£å¤ªå¤šã€‚å¯¹å…¶ä»–æ¨¡å—äº†è§£å¤ªå¤šçš„æ¨¡å—ä¼šä½¿æ›´æ”¹éš¾ä»¥åè°ƒï¼Œå¹¶ä½¿æ¨¡å—èƒ½åŠ›å˜å¼±ã€‚å¦‚æœæ¨¡å—Aå¯¹æ¨¡å—Bçš„äº†è§£è¿‡å¤šï¼Œåˆ™å¯¹æ¨¡å—Bå†…éƒ¨çš„æ›´æ”¹å¯èƒ½ä¼šç ´åæ¨¡å—Açš„åŠŸèƒ½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡å®ç°ä½è€¦åˆï¼Œå¯ä»¥è½»æ¾æ›´æ”¹æ¨¡å—å†…éƒ¨ï¼Œä¸å¿…æ‹…å¿ƒå®ƒä»¬å¯¹ç³»ç»Ÿä¸­å…¶ä»–æ¨¡å—çš„å½±å“ã€‚ä½è€¦åˆè¿˜ä½¿æˆ‘ä»¬çš„æ¨¡å—å½¼æ­¤ä¹‹é—´ä¸ç›¸äº’ä¾èµ–ï¼Œå› æ­¤æ›´æ˜“äºè®¾è®¡ï¼Œç¼–å†™å’Œæµ‹è¯•ä»£ç ã€‚æˆ‘ä»¬è¿˜è·å¾—äº†æ˜“äºé‡ç”¨å’Œå¯ç»„åˆçš„æ¨¡å—çš„ä¼˜åŠ¿ã€‚é—®é¢˜ä¹Ÿè¢«éš”ç¦»åˆ°å°çš„ï¼Œç‹¬ç«‹çš„ä»£ç å•å…ƒä¸­ã€‚</p><p><strong>å¥½å¤„:</strong></p><ul><li>å¯ç»´æŠ¤æ€§: æ›´æ”¹é™åˆ¶åœ¨ä¸€ä¸ªæ¨¡å—ä¸­</li><li>å¯æµ‹è¯•æ€§: å•å…ƒæµ‹è¯•ä¸­æ¶‰åŠçš„æ¨¡å—å¯ä»¥é™åˆ¶åœ¨æœ€ä½é™åº¦</li><li>å¯è¯»æ€§: éœ€è¦åˆ†æçš„ç±»å‡å°‘</li></ul><h4 id="é«˜å†…èš"><a href="#é«˜å†…èš" class="headerlink" title="é«˜å†…èš"></a>é«˜å†…èš</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†…èšæ€§é€šå¸¸æ˜¯æŒ‡æ¨¡å—çš„å…ƒç´ å¦‚ä½•ç›¸äº’ç»„åˆã€‚ç›¸å…³ä»£ç åº”å½¼æ­¤æ¥è¿‘ï¼Œä»¥ä½¿å…¶å…·æœ‰é«˜åº¦çš„å‡èšåŠ›ã€‚æ˜“äºç»´æŠ¤çš„ä»£ç é€šå¸¸å…·æœ‰å¾ˆé«˜çš„å†…èšæ€§ã€‚æ¨¡å—ä¸­çš„å…ƒç´ ä¸è¯¥æ¨¡å—è¦æä¾›çš„åŠŸèƒ½ç›´æ¥ç›¸å…³ã€‚å¦‚æœéœ€è¦ä¿®æ”¹ä¸€ä¸ªåŠŸèƒ½ï¼Œæœ€å¥½æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹è¿›è¡Œä¿®æ”¹ï¼Œç„¶åå¯ä»¥å°½å¿«çš„å‘å¸ƒã€‚å¦‚æœå¾ˆå¤šä¸åŒçš„åœ°æ–¹è¦è¿›è¡Œä¿®æ”¹ï¼Œå°±æœ‰å¯èƒ½éœ€è¦å‘å¸ƒå¤šä¸ªå¾®æœåŠ¡æ‰èƒ½äº¤äº’è¿™ä¸ªåŠŸèƒ½ã€‚åœ¨å¾ˆå¤šåœ°æ–¹è¿›è¡Œä¿®æ”¹ï¼Œä¸ä»…ä¿®æ”¹é€Ÿåº¦å¾ˆæ…¢ï¼ŒåŒæ—¶éƒ¨ç½²å¤šä¸ªå¾®æœåŠ¡ä¹Ÿæé«˜äº†é£é™©ã€‚æ‰€ä»¥åœ¨æ‰¾åˆ°é—®é¢˜åŸŸçš„è¾¹ç•ŒåŸŸåå¯ä»¥ç¡®ä¿ç›¸å…³çš„è¡Œä¸ºèƒ½æ”¾åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä»¬ä¼šå’Œå…¶å®ƒè¾¹ç•Œä»¥å°½é‡ä½è€¦åˆçš„å½¢å¼è¿›è¡Œé€šä¿¡ã€‚</p><p><strong>å¥½å¤„:</strong></p><ul><li>å¯è¯»æ€§: åŠŸèƒ½åŒ…å«åœ¨å•ä¸ªæ¨¡å—ä¸­</li><li>å¯ç»´æŠ¤æ€§: è°ƒè¯•å¾€å¾€åŒ…å«åœ¨å•ä¸ªæ¨¡å—ä¸­</li><li>å¯é‡ç”¨æ€§: å…·æœ‰é›†ä¸­åŠŸèƒ½ä¸ä¼šè¢«æ— ç”¨çš„å¹²æ‰°</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†…èšæ€§ä½æ„å‘³ç€ç»„æˆæŸäº›åŠŸèƒ½çš„ä»£ç ä¼šæ•£å¸ƒåœ¨æ‚¨çš„æ•´ä¸ªä»£ç åº“ä¸­ã€‚ä¸ä»…å¾ˆéš¾å‘ç°ä¸æ‚¨çš„æ¨¡å—ç›¸å…³çš„ä»£ç ï¼Œè€Œä¸”å¾ˆéš¾åœ¨ä¸åŒçš„æ¨¡å—ä¹‹é—´è·³è½¬å¹¶è·Ÿè¸ªçš„æ‰€æœ‰ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šä¿—çš„æ¥è®²ï¼Œå†…èšæ˜¯ä»åŠŸèƒ½è§’åº¦æ¥åº¦é‡æ¨¡å—å†…çš„è”ç³»ï¼Œå¥½çš„å†…èšæ¨¡å—åº”æ°å¥½åšä¸€ä»¶äº‹ã€‚æè¿°çš„æ˜¯æ¨¡å—å†…çš„åŠŸèƒ½è”ç³»ã€‚è€¦åˆæ˜¯è½¯ä»¶ç»“æ„ä¸­å„æ¨¡å—ä¹‹é—´ç›¸äº’è¿æ¥çš„ä¸€ç§åº¦é‡ï¼Œè€¦åˆå¼ºå¼±å–å†³äºæ¨¡å—é—´æ¥å£çš„å¤æ‚ç¨‹åº¦ã€è¿›å…¥æˆ–è®¿é—®ä¸€ä¸ªæ¨¡å—ç‚¹ä»¥åŠé€šè¿‡æ¥å£çš„æ•°æ®ã€‚</p><h4 id="å¯ç»´æŠ¤çš„ä»£ç "><a href="#å¯ç»´æŠ¤çš„ä»£ç " class="headerlink" title="å¯ç»´æŠ¤çš„ä»£ç "></a>å¯ç»´æŠ¤çš„ä»£ç </h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€èˆ¬åœ¨ç¼–å†™å¯ç»´æŠ¤çš„ä»£ç æœ‰åŠ©äºæé«˜å¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›ã€‚å…·æœ‰é«˜åº¦å¯ç»´æŠ¤çš„ä»£ç ä½¿è®¾è®¡æ–°åŠŸèƒ½å’Œç¼–å†™ä»£ç å˜å¾—æ›´åŠ å®¹æ˜“ã€‚æ¨¡å—åŒ–ï¼ŒåŸºäºç»„ä»¶çš„åˆ†å±‚ä»£ç å¯æé«˜ç”Ÿäº§ç‡å¹¶é™ä½è¿›è¡Œæ›´æ”¹æ—¶çš„é£é™©ã€‚é€šè¿‡ä½¿ä»£ç ä¿æŒæ¾æ•£è€¦åˆï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—å†…ç¼–å†™ä»£ç ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–æ¨¡å—ã€‚é€šè¿‡ä¿æŒä»£ç çš„å†…èšæ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è½»æ¾åœ°ç¼–å†™æ˜“äºä½¿ç”¨çš„DRYä»£ç ã€‚</p><p><strong>é—®é¢˜</strong>: å½“æˆ‘ä»¬é‡åˆ°é—®é¢˜æ—¶ï¼Œè¯·è¯„ä¼°ä¿®å¤ã€ä¿®æ”¹ç¨‹åºçš„ç¨‹åº¦ã€‚æ˜¯æ›´æ”¹ä¸€ä¸ªæ¨¡å—ï¼Œè¿˜æ˜¯æ›´æ”¹åˆ†æ•£åœ¨æ•´ä¸ªç³»ç»Ÿä¸­ï¼Ÿåœ¨è¿›è¡Œæ›´æ”¹æ—¶ï¼Œå®ƒæ˜¯å¦å¯ä»¥è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œè¿˜æ˜¯ä¼šäº§ç”Ÿå…¶ä»–ä¸€äº›ä¸å¯é¢„çŸ¥çš„é—®é¢˜ï¼Ÿ</p><p>åœ¨ç¼–å†™å’Œä½¿ç”¨ä»£ç åº“æ—¶:</p><ul><li>æˆ‘è¦ä¿®å¤å’Œåˆ›å»ºçš„æ­¤åŠŸèƒ½æ¨¡å—æ˜¯å¤šå°‘ï¼Ÿ</li><li>æ­¤æ›´æ”¹æ˜¯è¦åœ¨å‡ ä¸ªä¸åŒçš„åœ°æ–¹è¿›è¡Œï¼Ÿ</li><li>æˆ‘èƒ½å¦ç‹¬ç«‹æµ‹è¯•ä»£ç ï¼Œæµ‹è¯•æ•´ä¸ªä»£ç æœ‰å¤šéš¾ï¼Ÿ</li><li>æˆ‘ä»¬æ˜¯å¦å¯ä»¥ä½¿ä»£ç æ›´æ¾æ•£åœ°è€¦åˆæ¥æ”¹å–„ï¼Ÿå¯ä»¥ä½¿ç”¨é«˜å†…èšæ¥æ”¹å–„æˆ‘ä»¬çš„ä»£ç å—ï¼Ÿ</li></ul><h3 id="Jenkins-è®¾è®¡"><a href="#Jenkins-è®¾è®¡" class="headerlink" title="Jenkins è®¾è®¡"></a>Jenkins è®¾è®¡</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰äº†ä¸Šé¢çš„çš„ç†è®ºä¸æ¦‚å¿µã€‚æ ¹æ®è¿™é‡Œç†è®ºå’Œæ¦‚å¿µæˆ‘ä»¬å°±å¯ä»¥è®¾è®¡å‡ºä¸€å¥—æ›´å¥½çš„devopsæµç¨‹ã€‚æœ¬æ–‡å°†kuberneteså¹³å°ä¸Šæ¥åšè¿™ä¸€å¥—è®¾è®¡ï¼Œå¹¶åœ¨å®é™…çš„ç¯å¢ƒä¸­åº”ç”¨ã€‚æ¶‰åŠçš„åŠŸèƒ½å¦‚ä¸‹: æœåŠ¡ Jobã€Code Jobã€Releaseã€Noticeå››ä¸ªåŠŸèƒ½ä»»åŠ¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸€ä¸ªç¯å¢ƒæœ‰é”™è¯¯ï¼Œå°±ä¼šæ‰§è¡Œå‘Šè­¦ä»»åŠ¡æ¨¡å—ï¼Œå‘Šè­¦ç›®å‰ä½¿ç”¨çš„æ˜¯<a href="https://github.com/xxlaila/jenkins-wechat-notice" target="_blank" rel="noopener">ä¼ä¸šå¾®ä¿¡</a>ã€‚jobä¹‹é—´éœ€è¦ä¼ é€’JOB_NAMEï¼Œenvï¼Œversionä¸‰ä¸ªå‚æ•°ã€‚åœ¨ä¹‹å‰çš„devopsè®¾è®¡é‡Œé¢æ•´ä¸ªjobçš„è°ƒç”¨è®¾è®¡è¿˜è¦å¤šã€‚å½¢æˆäº†ä¸€ä¸ªé€šç”¨ä½“ç³»ã€‚åœ¨è¿™ä¸ªè®¾è®¡é‡Œé¢ï¼Œå½“è¿˜éœ€è¦å¢åŠ ä¸€ä¸ªä»»åŠ¡æµç¨‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹pipelineï¼Œç„¶åå¢åŠ ä¸€ä¸ªjobï¼Œåœ¨ä¸‹æ¬¡æ„å»ºçš„æ—¶å€™å°±ä¼šæŠŠæˆ‘ä»¬æ–°å¢åŠ çš„æµç¨‹ç»™åŠ è¿›å»ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚è®¾è®¡å›¾å¦‚ä¸‹ï¼š<br><img src="https://img.xxlaila.cn/1572081425995.jpg" alt="img"></p><h4 id="Project-Name"><a href="#Project-Name" class="headerlink" title="Project Name"></a>Project Name</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤jobä¸€èˆ¬å°±æ˜¯æœåŠ¡ï¼Œjobåç§°ä»¥æœåŠ¡çš„åç§°è¿›è¡Œå‘½åã€‚é‡Œé¢åŒ…å«äº†å››ä¸ªåŠŸèƒ½.</p><ul><li>Clone Code: clone ä»£ç ã€‚</li><li>Build Code: å°±æ˜¯å¯¹å¼€å‘æäº¤çš„ä»£ç è¿›è¡Œç¼–è¯‘ã€‚</li><li>Env Version: è·å–æœ¬æ¬¡æäº¤çš„hashï¼Œä»¥hashä¸ºç‰ˆæœ¬ï¼Œç»“åˆç¯å¢ƒæ¥åšä¸€ä¸ªç‰ˆæœ¬è®°å½•ï¼Œè¿™é‡Œéœ€è¦è¿›è¡Œåˆ¤æ–­ã€‚uat/prodç¯å¢ƒä¸éœ€è¦envå‰ç¼€ã€‚</li><li>Build Docker: æŠŠç¼–è¯‘å®Œæˆåçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰“åŒ…æˆä¸€ä¸ªdockeré•œåƒã€‚</li></ul><h4 id="Code-Test"><a href="#Code-Test" class="headerlink" title="Code Test"></a>Code Test</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨äºæµ‹è¯•è¿›è¡Œå¯¹ä»£ç çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼›è‡ªåŠ¨åŒ–æµç¨‹ã€æ€§èƒ½ç­‰æµ‹è¯•</p><h4 id="Release"><a href="#Release" class="headerlink" title="Release"></a>Release</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸»è¦æ˜¯è¿›è¡Œå‘å¸ƒæœåŠ¡ã€‚å½“æ¥å—åˆ°ä¸Šæ¸¸jobä¼ é€’æ¥çš„å‚æ•°ä¿¡æ¯åï¼Œç»“åˆå‚æ•°ä¿¡æ¯æ¥è¿›è¡Œå¯¹åº”çš„å‘å¸ƒåˆ°kubernetesä¸­namespaceä¸­ï¼Œä¸»è¦åŒ…å«äº†ä»¥ä¸‹åŠŸèƒ½</p><ul><li>Push Docker: æŠŠå‰é¢æ‰“åŒ…çš„dockeré•œåƒæ¨é€åˆ°harbor</li><li>Edit Files: ä¿®æ”¹å‘å¸ƒçš„è„šæœ¬</li><li>Release: æ‰§è¡Œ<code>kubectl</code>è¿›è¡Œå‘å¸ƒ<ul><li>å½“å‘å¸ƒåˆ°kubernetesä¸­ï¼Œkubernetes ä¼šæ‰§è¡Œ<a href="https://xxlaila.github.io/2019/09/27/k8s-pod%E5%81%A5%E5%BA%B7%E6%A3%80%E6%B5%8B/" target="_blank" rel="noopener">healthæ£€æµ‹</a>ï¼Œå¦‚æœå¯åŠ¨å¤±è´¥ï¼Œä¼šè¿›è¡Œé€šçŸ¥</li></ul></li></ul><h4 id="Notice"><a href="#Notice" class="headerlink" title="Notice"></a>Notice</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤jobä¸»è¦ç”¨äºé€šçŸ¥ã€‚å½“æ¥å—åˆ°è§„åˆ™çš„å‘Šè­¦é€šçŸ¥ä»¥åï¼Œå°±ä¼šè¿›è¡Œè§¦å‘é€šçŸ¥ç›¸å…³çš„äººå‘˜ã€‚</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å‰é¢çš„ä¸¤ç¯‡æ–‡ç« ä»‹ç»äº†pipelineçš„åŸºæœ¬ä½¿ç”¨å’Œä¸€äº›å®é™…ä½¿ç”¨çš„ä¾‹å­ï¼Œçœ‹ä¼¼å¾ˆä¸é”™ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¹Ÿä¼šå‡ºç°å¾ˆå¤šçš„ä¸è¶³å’Œé—®é¢˜ï¼Œéšä¹‹ç³»ç»Ÿçš„åºå¤§ã€æœåŠ¡çš„å¢åŠ ã€äººå‘˜çš„å‚å·®ä¸é½ä¼šå¯¼è‡´å¾ˆå¤šçš„é—®é¢˜ã€‚
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="pipeline" scheme="https://www.xxlaila.cn/tags/pipeline/"/>
    
  </entry>
  
  <entry>
    <title>pipelineå¤šåˆ†æ”¯gitlabè§¦å‘</title>
    <link href="https://www.xxlaila.cn/2019/10/25/pipeline%E5%A4%9A%E5%88%86%E6%94%AFgitlab%E8%A7%A6%E5%8F%91/"/>
    <id>https://www.xxlaila.cn/2019/10/25/pipelineå¤šåˆ†æ”¯gitlabè§¦å‘/</id>
    <published>2019-10-25T09:20:15.000Z</published>
    <updated>2019-10-28T08:42:04.528Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="enter password to read." />    <label for="hbePass">enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="63d7f763d0e0c56f9f2b1fcc9e94e9e559752980106663f4de94be3bb8d5c212">d69a90776b8106231e3f5503e1ddcc136de8bd46ea761b7fee0bb1563c6f63d33ee7fe314e91a233c8e9fec56138e12922d3b2c1384fdc444e3fa18c023af9c85cd9f16c2daf3908810840b7385dfd5f0c1aab84c4580f989b88f276c199d7fc3bfb7626f9808f4ff576f576f887a539c867aaaf3a9d4427cb3b8ade8deff9ea5fbd8204acb5ae6cb6c3de25db4861b63413634d1217e38a21265a50fb7ac670177e4c200f8fe988fbca804dbf7a858a301c3656baa828454fef99ea3954f040eccc3a6a7b0c59dcd2a98d451c8390dfe249e0929b3f4c2e6026c78346ed63997083efc103917ff60286a9aac1503543810da145710961389d698fc2b8f45089b4537bc6858bdacf9010565e32ca487990a3e36bb6e08e9951315d3a59f537bf870ccc85c7e1ff85e965ee6bb2434370bda3e4873bb84c88a665fae01a74b2a326e03aee44615fa21d8a217956e5af2f3f84914ab01a5ba2bd71d78bf092409b2457ac1163e87d5f0bd3880fa2ba6380c51c78fc4cb3db302d6f85b886ffec707228bc687f8d9f15db52b00c0730a2049f5864bcbe0f3014340f58f4ed04fda6fbc9a162fc684f770ca5f68efe5c5764ee93b91fe599db4213b01d329827a165864b18a309a066b4895fa2c75a39bce53cd913898b7e37fb092156329e53b293ca07e9815770ad29555873948647559dac38cc29aea965afe6d68764e10b0b97bdebf84d227e55da76ad89993b4d7d5c460e75e30c0dcf52ea10bf6a4c4fcadde4924c18ecdadb9d690b9334fafcb645730765bb08a25817775f4f5e427a1c69ddb90d9f02acc4e5a4e2855bfaf20132442b92edcff39ece17303ac88c54bfb5b36b045f1471785d61ec1cfad9cb4512a5fda52c700e433d7dd4d9141f89beaeadd66cdd1be2cf2cd0ef141cbff8f37871f5645e03f3153ceed6ee206494734184412a0d3fb5d279f33c8f7db28c5b3db6a61c6c39dbd295e6aa7d58991a973e7c7d873214e4069b0c42de744cd6658878532c25fd2120c08496f8ecf9789fc40454b8bb5871248fe7aa4461e008c8c22e16d645f539c2864132fbbc7b6c9efeae942de5c95ee2e313632656760586c34829fc0522ecb816440ad4603b3c459250c57d4d47839dbae2e9832489a079bbbe0dca316482ff21b37d028524a66763f050145932d64a6638d581c5fe26f70c441976b14ac8cb08d037a465c78241b8db356e6bf1a333d2b704a055da1a76c1a23f80111296beab2aa84cccc0c75d044cbc755c6987a7420f385d2c9ffaf239777c6f4ee1a370b1cefe5570375ed208b9b5e6f7318824fcd64b57f2bc00fbf3466505c3d5ec84079aadef18559bcfc399441066cd6070153591dad2dd7b78e3477841e85d03de5d69f3288ecedf79536373b4d87f2e4edac9bf4837d4766d428fd98e68275bdc16b72088e35a1d466af4c2e3c65332c3e71ab5e07e9714c39bd2c9d615bc46cb65107d9b64eda01a695dc3236f38ae188a2629f4b78e4004073a3fa916249feae32a3e568fed1f161bf7f66555e3a6f791040ed9684b492f47db7322fb933660ba85f9562f230fbfcafa1897fcfac659467aee8875839e5d76df996a2143d4af742c746873dc10925ca93f8e795924eb2d9b1119478afd5df127df3513713b57c470a77ce431df9412b5de8f61a529ffdf2ea8f72c283c643cb6a31397689d79b8d48ba9538b2e98a1135085925449de687934dce3e8438311ecf1ffb778699cece8bb7d9e320c12962bd39f66140322b8ec4c36f2a13c1a8906c2baec8cfc397174a2b728b79a6d0df6b6d40124462d018a968e5e4de7bf15e8be4cb32068521fca3580ab8657560b37c79930cd42f728ef8d85a528733ea2436d869f6c26830d895e57c6922dca9e97d5047cd6810ccc9f3b3d92174cdfbae8c6e878bdefcd3794d15a53aef524e0ef2360a76df3e3e93bc2f73d56609ee24b61e7c1cab6083a86dd71deb82cd74e5a1ef6b529f1e8128e9198b029c73ea461eb4b4229b43340eba7543731c191f94b410cabf173ee6f493dcf2b3f776aec75c107ba431f8d6c148a177776eb4d9d09a31dcbee3b70b3876b0474b2633cb0bb110280aba3b80022ddc8e4fcb81aee08c234bb9497b775bc30a983823bce7d2160c538f5948428d180929e7065d72d624a197eb138e7e66f23797ac8b62f3b4dc94f6d48deb7a6dad0c681f58d628a8a2e283b07a508cc655b44f99e399e379226dcdc0e598c23a701d25c9e30fdb662c3d17d04f690132e1169518058c2e722a0378cbb01eb20c421e5776df2b6197886f8353479e58a475a6fc584455360b4f6b15f1388721b2ea78f55a644a5f74d1def63505bad8dd6f5de0d8d00c66e390cf40a663dcf159214c3ea7257c6b84c0c3cea156062f755ac590142508d88a025e2c93f5ba98d0ba0be0ac9bea30f0a5a037b18037cb9e20e19a55e89f4fe2e237fb542bd842c684f33e23cecd88d9f83d6d4ec2774b06bbc00aed9ebab00e5b633afa695a58507dadc5775c45879f59c54b9dc38fd4954bd1d6f94341e2ced97b00ca3f00799bdfc5f8225e5ce8fe3ec5f1054dab85285b297272ea4fe170d644a0807c6b039a6f973bc4c1811a6ddedea9408f8605f39cd7f33d8db218c9083a1105d669fb91fcacd52bec8df0d923c87dc78e512b00cf886a7447ffcb4f56726e31693cc7461e4aed2aa9f79816201030199000acf11e89f353d600b1630b2cd1b137b9c33eab07351e984a5ed62d28f7f0e5684335bf77dc78521f802161cbd443f7fcd43291ef1ff78ba3eb2cc45416854f200c99611415900c451e01ab65231ed046bd6a7537baa907047595e1852332b902d66f744592c579199cfa407be2d7f9492a6f7cdbcfbbacb046583f57e48072794d78c667a6be2bd5d322424a19f812d69334c0cd8750d6cf5c16e777401ea4dba759e00f8d5b3b4b633fcaa78f33650354a5f969660a0b9b4520a0f850bf86ee06a107ecd12eeea7860b4e6ca6b43aa42add0c94f952643ddf252379a19f3916a34244b6ad3d7eed5a25e8bd96430bfd59f514aadc1456987e444f6f824d11308584f2670ec673b830e4e26b3ac90bcdf18a8ec5323a644f174f647317e50e98203a4e8f4961995af1f8a74281a4862b1ff5a37d43878d314df6195a5d9ddc49a9ef910a04309b9b5329ecdc5a3b8c11f473083cc5a43306f986a1380351e2688530b2d81aec6192e4369eb6a0732e2e7c6298a028c9f5aaa099b45334e4c2f656255baeeca026ac4b7a7f84e9ddc69e9b7e55a06fd0a77e591aa21197dad7db34713979f146e64eeeb75f0f94eb9a869e8e7ca682ac0be450151dab0313fa9c8838a8adc4fb1b316269b01da1255c8338df7fe484c9cf0c4fe1e1abcf5c22e242d522f2e289688feeaef3890b9a8a4c7cb21d563da264b31ef41e21f4581691bb5aa2e3d0c4c31c0fd9659fbde166e0e35e58236da0cfb53dde1ef7a1335f86821262f53c47411938d02c6b886e6bf52f41d642079767aee32820612eefaeacf0356f67bff5cb6b3e86a65540680bb9eaf5d3783dfac49c087de7b19896343f58694d36cfee694981984c971c3930815c2ff0d15cd42e34cfa49d8cd9dab2f270229021f379dd6f8ab162832066526a00670d4c4f76ba3819a260f437c963332ab47b95c7d1f94aa1a16d6b3bc367753304c9db0f32494f0a6b23cb94cae8a8d64146c17f8d4cd83d7e66307eac22e8080023352e39d94bad40df3e7e04274a768d20b4b569747802f4d9988068ebf5719bc863194e3c7b2cf5c5686cb61d0ccc107dc6a75b518a474ddba4428cc24b1db2d5aac9d5654c07b6aca547c2af2846a5f4b15ccce5004c8dfc2d58c3fcd609880431bbbd814cb598e33c2d11267ceee19380509687e54fc81800fcd2285ff622c20cb6a79fa3d9823bf5efe9f62a091c69ae9dbd0f6f8f48a150ff39082e772d2b4d9efaae751917f00c55c40843f1b27e8075871ce2fbdd8b4621281a85a4dce0a6e96c042eed4f9743cbdcaa18f77ed1803afd61a2851bbf2e3e0d9ee3de397a85c5843fb9cb15faaef55183d26c139e7b5c279a736bef9cd56bd4c3338fa49a8845fd904a12562bed71f06eb0b47d20ddfb0c616cda8adf0d9d388cff12319165c768346537f47c3116b0d23b176cb6c18712b6e5a288eaacb2539a5164c878a38e6ae314b3e851cd595b6cf75c600f2b6033a7de533a442291fe3a37fdc1770ed8795b5a33f398e5777faa2a2ff495648054ab11941c2dd3439391193f9579f735499ae101eb1e3b0d2bb23a1824665af878ec62bd75008c72f3f0f0fd8098b8aa05e5058cbadccfd37a7515d86e9bf0f4fb8e9d664c25cffd010e8ede68f3d04df86e135853176253b1ddbaf742c26b5c12a2caf7d2a199736389acf0e551ae05c3533aa8a028cb2c4e73f23f1464404f449e9c1d0bce3fb746240be3acac812eae5ebb0e3191552a3c6dfc449cd6e8fe8cd60126b04b3e72b63ba5a12db4c0c093c9ce9c3a9da263ba8f2efa0cac3036ae2fc3c1905efd681edfd1890c0893ea519aedc62ebd1028fdfa4304fa43689288889c53248ae0f90d86cfb8f190a37ffa53206c0eec1795ffca18f8c300b790a0512083c9f5ee1533c01a69540629ffa4ace3c6381d56108eef6764fc63c5e3a3cac14ee0b2373428507f1ab49d5a831ca8fce97c5b4dd39476882b13ff947914e7a80e9bdc73f330de88b5315643103671ef3d4edb1147244771d8483a794a58d7ca12f07931144a587b757ba9ad00b39a348e4c6d0925110b5111d0fa36299ffc855469b698d370078b16bf2676a70a12666b2e468d2bdc1e39af0ad0f91f30d3f16bfe25b38c5535d8c923974174f7be37820db7bd4ddf0a0ef80978d9808799d7243e9bd37f6df7537b060d4503316aef2aa0db397246606c184017b82ce33ef7d1760de9e3986a4d198805df46d2f48b2d8043ad44ddf1b9fdc5734545f1cd16b4fe49b87910dff98958a005de18cb005c44cbd776fc228448d69a5d4c7984c6a613384557b58b2b74c7d1c32d81ade3dd1dffcdae6947b711159c4dcf5244cfa2119134fe57bded6b049df6f077f26e3e824ea0051de291d52785be38cebc0c3a8109d863ec1ca9c14bdb39a41f459262552f9329fa3b1a9757c923c357665aa74426e932331e1033bec367432228b592622245fbe666ceb4e2a1f8f1b115047a07f8fc2ee9bac6f2f3952b69c95b8798714e883d9c4907f2c290c3bc4663d1ae9cb6eb30fdc263b76ecf944ffd257788e5c55c432053ae3aec0a6c57b55eac4847aab38d29c15c7978ecdeca78f7bacfc5306d18aa5c5e3d3fb76e99abfe30e98b7be423ad872aa08da6fada3396852a483d35fe7a62bd09b83307f07e2b6eecd76b85173b1a39edcc7068635ba2f6822a23915e2f3e4fd78132b9d1481556ec49733e22ab5f2834e2289cafba4b04e82179af9cefa5f68e2b882b413285c81b2f0376716ef6428020413025c69749e77efbbc5a3a668a66ae27d990b1648628cc615726098867a14ef38cea84dd9e3d7997f75eb1e3c39622c498feda8b09623715c1d3810bd72cf84a9ad36ca0428bea008afd739a5660b091dc1931b7c01aa5c923e6ee0347b124754b2cdea479da9bff731a5fd6a7b6619bd73158ee52736bcc888c5472948477e54b30f9d54e1705fb9dafc36a3935cc80738b6698a9788e64107be5f90678c77f1eb86f7b6bbf89e4e1c0e67c8f8915823cfe79dec60e0c365877222cbe544fec5ac04ab80ceb120f32f25519bce90e6be4267c0a2970b1adff2a3fcf953e138aaf60c998d32f6dff8c8f79a32aea711c69766c78e924c15b6a7d9e5527f6e94af72508f257236670990053b9c1ba5c5c8f28f6642ee1b4e6322201c3cc74049ec411b0ab09e9ee04f680023ffd246902f9f73ba1a300ddbd7722beaffb355cdccbfd3b470d5b4fbb7f9a8dcda8525c1bcadf127e4a1cdffcb63d53b549ebb67b408d93da5b29be8ea65d01aa7927315a2ee7232342bc16f9c203e613e96032329307a4c4d792deb403ad5fd88488d1a0df1741fa076e6d76c9f1f1fda188fff1c42813499d78ac8ad9b69b3cc2e609470fd90710acf18ae708b58ea9b639da6be8a80f26f822e9d2617b716cf2b4ee99633269fdc4de1cc263f8467ba83708ea39326bdae2b5dfa7d4b062716c359c0ca599ed09dc2cdb170429b4ca2368c16af0987995a73143c3fd330b6def2170ed3e8979d40f38b4529cfeaab9d5ebecf0c9e9afb8c9cc137b1cd70b70219bc9b9ef3e0d89781a50b465a2f1aa5e3cabc91bae8c426b9622659dd41d14a25a0606a5e3421078d8a976f23a14282751645a494851b53e61f2847340f67fd49bc86ef84374a6fe0f12dc689d7c7adb96a6d29c1c5484d1db833e90b3ddb557487e05f99871c9f9d49f5919f72d98dcfdbd3a8b0d64726bb15b61b6e1c1c1e66c8f2eaf027a6457ce4342745129d32a35d242a1245dc05020218aa7c03627bd9ac9cbc2b077bbfb982a5ccf5a99dcb168457e28e02f719b5a657b5f890ca11ec6db25520f0a8f373354401d455a9e5021d09fa46b717a299f4e1feb288b227a46e90f7aa092d02a4158e9ec69d5391bf5078b50767911585309940329b48a3ddae123825ebcd4d1800997ccbce6fbe5b273d8cda28095e6bb3212ff2c24471e294ada0e24c85965385daba6fa7493329b9e5dec182c445afb9f4d73c88a628b2a66103a95ece901b388db945d0fcee096b06055deb2c2a7525f767077b4fde5de14db770be73882475207aa1835fc6ac2ab4d52d5ca39eab1f73db7edabba4425e9318c29d92bac4563df324be9cce8b99015738c476c18471b407fc465f735850527601b723d634dc0f186e31119bc319e2e76d234a60b7b7584b4ff6161141c53476dfeee7e7aec779f239fd64df80074715be8c974a6c52e0030da2083c7b2ca5b51d7d6b5e133de2a196b6e93f88eb45bc168e2c9c63e287fae13afd42ef4ce64e301b91f184b258b07853b5763dfcc4531c0122bc07a13122335fea4e85dac73f62e6ce863c2d3bb0ac5bc8d2cdd9797c3bfc0b6c96f3ca59a15ac725327d968dde49b0e8cd2c7953bda80ddcaa14a4f772d6873914a684bd343f0c245669d248bf83422f05e5e33b584146a70876920fd2b00786b933a4179588f8a8b26d384f6da7759fb28713678fe458b7fbb5914f371faef2fd735197f09488322016d4998bbf724ec125025f79925c81d871045b587e7950f5f78798fa70a1a52aa3f6e43d7d89a3dd398fd25c5de665a0f80c097f84a06929535cca4c864498b664f4c0ebddac9fd1ee411cac4eb233a211f7497cbfd433bb25298c1e425723582890c559f20e48b7161ed1a35a6b378057c59ed4c7067f244ec4e77c0c3b66511adc5975f74a6b016edeed31d20e5f4db1d28f8fa8a4f09dcc1bf7d8422c284c3851afe9dc6b665dd4444623491b30c9f234965792a22f4f46df523c86ee0987ea5d659261d12cfdcdb98a5c33b2b6bcb1f0dc600062b802a84484febbe65ca1e5f7a2d2691301924316669f75932b98317d5f83f1199a7f4164760d346a1d03f8035db50913c207e228bddb852a747bcd73a1b06f8d53e93e78326e8dee93feee014e3df6d3c651b06f97018155644d0b3cd69039996b486141498a22d1fc375fa70196444d51beb807fe897bce2bfcb5d49d86f4b569c31c14667745d3ebc282594bfe1646a3376287af900350536cf8216e92c804726cb6e78522dcd27dfe3b93a8099ae1cd5dcba6831f4e6431d668a8f76ef74c627ab4f4cf355a96fd9b88732c03dbdfe132763f0b89631b69cde7a9e1f073030223ac05fafe6905c9fd445c78cc4097cd25df0c033526db7aa259b2b3f5c8d740ffbaa7eaf67ba876915f871187de03ecd887e3da833dc65ac8c59467239e6f44437415c099be46c3993bd8f92416f0117447e69ce0c0135590112e4036033bc7a19a33b0ac8e527f3f1d75dc4b52163e902d29854058e6eb5f0b2ddd9c83f6e3753945078bc01a321b7981cc659ffc197ee6e031901bd76a42c2717f56b3f9a97649cb375af7bbe252e794bc908eb09317e9a69d2e92dcb4fc95857f5409aa7a0437a9ec97b2d689faea08f370657e2373663e8fc9694bdf615e18077adadf6ba3692d5a016d072b303e8177f839364752676982c215221e469bd908f577648fad0538065f6cdd384d8e23f1cbed541bbe8ed53fe3552e2daf9e1ace1b1474b3e3b1591643cec59a909e569f495d80731f2ea14d2b0836442f5fb58cee4754266ede3c87ab1546e1774aee31dd718817f5bf93b27873192c710547cf40064b71f0f1fd0c7ddfa70cb8392cda3fca707aad999d911a3836aa2866e6e50bdf61db5f5ed327155c90e1c0ac667b046b89e157281956549b40b57381754baeb4ca06f37012fd7981d1dd015d919ba933b806f3c31e4daa0216baac5a423bcd508bc0a1c186f53fbbe4499e23e54f4a5f7ca8a25fe316217eddba2486f38a36aa13ae31b323dfe4cc3c5c4a0a7b0b5c72b7dbb6241a46e835eb6f29ef68ee18c9a740f01104f09090d0c29355ccda9d29121abbb810c37905a352a5beab5ece665431ba132a3a3f2f8274b749d1a813d22e71108698c012d907acc42a2672040ea2f00dc19c46dfdb5f9cabf0b290e05df840efc30786eb5da933fdc73e4a1781892d515e9f51a5489f819fccb9e1e2d848a81cc8f70cdd24395fcc7769adcf600ad993fbd27121d4b31527493d50df1f94ffeb6f24899a30eb280a09c16887ffe3876dd89381399011b7944d7efeaac725111e949d0434abe714abfdc214c49cc973adf11b6a5269352052dc59811ffb44b3a9560a09d3431347ca071b976e996585a14ddbbb8959110c7e74151101f06a6c93db2f4a25456a9484f5eb1936b659dcb8d0e70e2bda33e1acabd7e781f4315c48673bdb1a17af069f43220d52f0df22c5e4d77a484de42582fe09f3a908887a22a2f57ff2bfb563fc1fb654b70487d8b5c1cfd54d18782dfdf85834a9f2a554f24d23a2b7101a323474f44646f4cd5a90007352df0b49f924caa2ed7641bc2d0f7af4312d0e0b4acb6f16b60cca58813b8237306796fa97cceb8b107273eb58411457f15ae4ca93d86e5e9dd263cea109890bbc89cd14ef2354e2db23449969c81adbb110a5125f25e6bfe811c7a9d2180841a89c956ac46226c7cd529ac73257ec1d25a4b51beb43ae6db958519e8eda48cd972b65f2ffdf37068c29fd2450001e12f6f685620024c1b9f82bb396396bbda8b906b3afe5a1c5f553d6ec49caab3b1e5b3173c34e758fdad7d424f5d35e2c4e303dd585d43f2dcb956c554338ab5f0181fb72a357ccd64a25706c81fe62d8e4dd6ff08227ff9d91743bc5b30fa67b5f5a3a123b72aa3a85e18fa230aeb5a6652933f18eec92d73058407ceb2faca27a7f499881815de343a48be3ef1789a6dc5d571845aedd53686f7d28ce96f03139d51be82750f092a65cc1983d72868d0b63e4d3bd7fbc0374a3d325efdef4356a3648790c390f0f2b225e9b4ac9befe8d1e69d75deb9a361deab5dae066dccc71478882874832ed7ec08cdda7101fcae376c2067725913b3e25b39cbe4ece8d3b2a4f4300f0dacb3fd831821fc1cb0ec6bb3c9d17c56b2e704f3741b78d850efd238d7bc017e0f6a244cff9f75445d55b28924eba0a1b4697b6ec98df0526f3ef0b14ccd10ec106de88148e75b08843c3e0f86901e9c7532f2e8369e799fe2d13b23dafd58d5b8cc2082dd3fdff20d8bd04946ef8ccf69ee6643fc27d49b46470f168939f9917afa2ca2800878081e6ec1d15491f50873c377b66a81145890f6c68848ddc4366a3349ddb7dd7f8a9b612fe0337b3d2467e7393198c5bd5a4b4b8cd24044bb2d00f2950e9705f397228e5fa38377928d27d55e81edc8606e0b7283944ab11d054971e6cfc829b54824ec9d9dac5e99e81b24a2722236f5ae8739d4a25d7cc652d0898db05244f2c1b0f1b78581eff0540d13da6e6b9af32107a6ad8d7707416d4cf258a4dce59d729d8fef3710f3f3a927268faff7d00fde78bf4ad2bf1709513fc16f258eedef3ebbaebdab73c3a50dbe47cc708d886acd97492399531c7927dbc9975e42ef885115b9c66bb8afaa8c765ec354addde9405d3b8589108871df8dd0049920d49252e6b7cf2f7168533e608c11899c42bf8ba55fbc56ad235abaf0c3adc25d4feec5ea0aad16b0c36cd41066dd4bb52eba11bcaba697d152cb17480585755cf851251da30c1a449d95a593f61f64932ae213db78d776d70838bb63f04114c06e6764695b820c47a92e5ac15aa7098b080073d5b40a2a9220b64c3202869728b4e8c65d9b738f768c231c000a092fa5a70a6e2dfe2f6bef8a740c99adc7bf0acf660e3e960871b69594f488e1a2a75a13a09baffe07873542a3ffbc2b757ebb218780c85c2f33981d99a9072b76cda809e0cbd50b4a4ffcf4293dbaefee55d6f52bffe37c7b890ab9c9014e046d1a7b695f1b12901e53f5a775790a93b505b794cccb8ffd6234e88672ff966a795e3b64845314870fbd3a3d19652ca3d5068657b70305791b667e23a8c278c40ad024db38c658c558f495dfc2c9d182264417418a4040162d951e456c64085017feaafb160ba165710072412d2b2ff285470f1c565588968af8d77279f94537639419a141ae7152ed18ffb80a3303eca0506d1095d61b74781600f190c0a15e0143deb78e7b14e0e96dbd51622e9eef85f58aecc2a8f07cc210146c268f4667f46ee36baae364e7ae941e266d128e42ad5c0dbaf8b401a30c6893f7a4c1c1efc1192d13b813163ce12c39fe7dbde4ffcbc3d855b14b8fd011f2535391490b6b02296bf457a9c4420fcd3503fb600b8b54bcfec836dc777c7605ec6f7b88b1d3830da2d082e467736172f568253fa74ec9acbab444405694340b98c7bf5c57a7626691d08733740c6281b5f0f89e49dff5c707a6a9905a8db645d1a1000fdcabb50d20075ed3dd85e2c81e47f3c10c8e950bdfed6320ac2cf1e97e200cf4f8d56a1f7d220d493bcd60b11e961537594dd69623f25aa0adcc3bab96998ab6f260798f6443541ca1ddcffdc6d4c1dc59674bc28ce492f49961519a863d45a13e690222b2be712bb60052d3f9058d605a0b97b774e2d41db419cd21efd9a1e0625cd713d4f4f414ff0a35d2f8a9f9a59f5d80a538f98e8e634e352e574fe2b2f4780e85dbad45a3c584db9fb1d604470aef93f79a93a6ed91b533a2a7599c37c7152a9ddb4f8cb19dfcb7619056724066af7b9d6671dd3323e328dc7bd47279564135d593418554e95eeb6628900eb2a98e5d2e155f8aea3de8e556c42a5be2561dc84e4e795e84a44100cd8f84f2b0730e384d74657bccb639447d7ed5e06037ea2707c510cb44be0cdf0c6ea65730db97ac647bc2605cef322037ea364e471bee3b69f5c21a18329989bd7e9bb2f1331aab74676f4313ef658fd5224a5ac04aaba4f6fcc42722eacd41ea3c6579a9dcef326d052ecd45bec3c71d8e696936fd9148ba96491740bb2433af0af50d8b518c29e0006dc26755e9068133e8b8dc648961e9d9330e5f429bebd80366b04baaf7079c8cbcf86d088c5a6a86270b1d614b16d37b6ecc2d34b82e246886ce2b648df0544b64bc333783d6912dcab553298aeeea87812d0b0c92de7ed1b4baa6b5262f3343df1c69cc0b3336340db97de649847491e0b4117a18567f881d9dda8a2c21fa310be859bd7c3d20744dc586230202c2e6a05c2ae722859dce15c1f35b1239a6e33eecb10bdf3918ea8daf18983d75a4535ae72b02be8dd2d14c7184f36aad6fe8ff5b675222ce4dbe7997e6578f2bc201aaff10c404cbfadd2b1ef634d0ca9a387bc6ea62f8eab18018008e3c260fb0cbac68bf9babc2c1359a94d62fa6872c49991f2cf5627995988c1745fea6ceb298c4bf2a98d7474a461f503769a92be21c8bd27ca34eca6d2de20f9258424a5305d57b878e9d8608744adf977c5c2ce7e36b97c9df7323d82f27290e10c9978f12689487d625b287979cf694430993b70fd2f18d27a9ba3a0332142bd0fcee4241138d8b0912987a10fc29f1eef752607a19e6c02923ac2d0a459af3c88ed414cb824a7edc1523a2c18186175abe64d8c647346143a3e5d9a1d041f95350d4ba98363129604a816110ec34869845780a1260f340b084b8dbb424039c1a8fb54e60b87d7e57a129d03695dc2e4a1847b6fc03ea67118728babb595990007dc1bf0828fdbecdb9c79127c31dae6bcb0106ea53041fc9454339f828cb40ff0056cdf0814d81c05e984908dd35a6adf24dddda9fd9f29633b6c5a9ff3399fede3fb0629b3e7384bc4ea31a37ed6083fbefa6cee0c2c6da40b207d7f497bfd9be01f120fa124607b80035a018bc417f908b26c2678736e1cf4711146c43e07a7a8de9dad17cf69fce4cc30a7126a8b9e1ec7d6c9faf8c2167eeef2d95c07a8ae6bcfbdd7a8270dedc6418193f344e22a33874921b833f243f9df39c501bede925b04fd00ffecd3fc92c2b59f4d11983221608bdb19db569df8ce10ff5b5c253ee8f38d8ac0e6f41bbe730c9e24c0f170f8e4efcc05433245537fe240dc4f42fe17685e422af7299d208e46eeec7bbcadc86aab82f4bfec73ce5812635c7ccc41b1168cef652b9241af3cf7eabe6c01b052b71d5eee2b78a6485fb04c44f09c9411cfa33902662803b1a4ae50198493e9e17c0904ab98b7faf72892c8f4948daaff7bd17236c47485e9c1045253779cfdb286baf6b162fb39c166e23141e118389564fd78cbad1c41acc0aaab818c9215f48903848fcd8dfc1bd3baf56b95f618544b09367ab16364b1c59d7bd4aca366f471d45607ea299619b4876128a88cf0bb8e85d8ef11936c2763c1aa28d77908493228b98ca222721285282a7ba395219d7e64ca2a0ef26298b8fd9c74fd0c6da091770e217506f55f5c52988119e0c0195ce158d4b78e5dc0992836938b949a9d3edeacb550585046db40e25fbb898850b3bea6bb82412515507184d0d33fddcce57d0eb78f648a9171a64067ad91fdc0ec3f23dd28a1651a9e5a353ad9df5cf975f6f13d328371abf3c8cffcbc57e39f43fb66006897b9aea4c5f9286014a6aaf6c660d8eaf83da3ebc0b7ca1e3925effaf4224f7e1c144cb27870b349d8de28d0f7575d742d694da4b8f467897d15224feed359fe35f0b9a86ccbd83122f7c3eadbea776c60a431d9fab3935732733157e938506232c37a206baaf7e00f0df94484600586f68b8cec741ea0436f870973cccd252e6a4e1bc8503ab401d9b7218d554a77005be6efcff13ded38cb52289a3af3c80542d83469f9523bff4ab0509a3d11ac901ac4dd6f25f02b1b0abe35b8993cf91935610fd711facefb55f2745b20cc53c12ef45df202e0c52227cc7d75efbae679472a720288dcd381d7b258b8969abd38f66d8c01886fa84bb20b87edaef12bad020860b3b76ba2458c7070835bb8a59fdafa27c641593376b3f8f203734293d40b97c9330304cf5fe87a2c39b445e4c35d1c5844d63c0444a84c51873bc283150a40eb405c640382b7efd54aeae81e06f85a649dff6ba047d06797fc1d283dfcf6b12aae9bd7bc3d1d932c4216c06b18f2b67d23af32918588360b5533ff2d0eb194ebe45fc8ec1d1d9d4c235a2364da6bfc93dd0109fae131c6e34f22e7d21cd4d396afd189fef6fc2440ece82491bf1b1bc672cb93176645e227955c4dcc6b6b45e2006528a68cc0bf8db04c9a3f5a2907cd47b0cd1051a2d8fd54ff606163bd14f97c9e07a4ac94bae2f8eb1e6a12335ae338f3ef1edfa6ca51c492993c1de886e2b39bf72bf0a598c1ec1d43d65f4e3a893b907bbc857b007ea30402e1ecff60a1ec1140df7409ec52bb3b0fb0f8d0d0ef867cf52af180f4e8dfaf25a744f40328e0e9bbe2e5f820cbcd5356accc253b0d26d3cdd714ed1e126cb7ea277f6323825fc2ed6ca300a72007b1391ed49b1670a7ba48732fc83ddcb17fe5a0d52eb2eb50676f5d67f103d01bf614bf3f23bacb0e022ac2a5d8347834491e993114a93a061d9439fedf21597446ea3311a08e99ec1e6d5ddddce14e3098a40b90ad47414effefc6917c95d66864bcae08a385f6040001a08c633a2a07533b183b1b98c81db2ebbe704bcd0ae3577516460f5d75526d2af4cec20cb83e1ef5293aa5ed70209d03d20560d1004835c2d9dee6c14a9bbbc13f03ef76a87a2d1d0a1ab7761eb14d411edd65d1153f0b2b72417b1f441097f9b97be48a38ebed15880bc9fb7258e0482c19645cebb6df34422fc87b5975a49351125f0165527e2f1a3807d73bb0a90230e1f2bc4f2719125c9f6c1a18d7b8a2559d7f47d07400ed9d568496cd8aebd97d14012d8003b8667567bd09ca601e7aa520e40e9ff372976b4d5d5aba95d25dfc5b04c43637534cc0622f0f72c492ffeae8453b4d012a035e09292d6bd5d147d0f2050e36b9d476945704c29f1032d344103755127e72ce3ec91b2da6d4a0d78531c2ae1becb40038b4a9fee76d51e1d08beb6286c3b19c8d3326d6920fba8eb57e08794d97def1cb74b1f2e1c50940a566f00f3625ea8b9cd906c9c25b850830055b52212c00dbdb61ac59bf5db9fe019bec0d547398968b9141ef2062a8ca921444407f562ecb79aa20197c3aa5bc56f7d43de4be568bca17c4a401dae4048f7cbe9a78b6e6c752b3faf36bbb5c43d8fac85daba9cb535543eb54df5a50a8a87fd02819d8d9d191d28f233f2a59c81c0691173bd1eec470fab84d79b16f5fa65215edd0546864e674c782b34c7a9d2545689336318553aa8ee6407218d3dd799fb80853d32b278ceb187b8df4041664892422c191899fe85548bcdaab382b94781b4e5501d8225b949ef68273b12a9244926bbb7a08bb05bb4c36b727c1acddccf0812f2033fe8f4fc962afc02ca3168875d9a4f71c219efb1f08490ab63f700a2fcdcdeadaa295eb878e965b562f214dd4bac4ab6360053350154caffb1a197288f0b180fad672b5d0a1206cc74010a52394296b883029f0193e7525d04b7f824f473b3972dd00d5da7ae5fe290c23293c364fb7b1d860c5f10a417e5cbb212a2a3c58e7371bc9468914c9214f510b7e9997dad0313631071c812cdbe32613698518cba2965ceca4c18972f8cc852cb34c6bc1d1d7fdbfe89e2db16bd86849a93adb75d1a77d1db73f2099bf33a9dde9fd9a0e641fce8da98152de57b25e8c4937b43c98193e3e0258f4a1dad2c915e6d0887406ef7b6777d6748767cb7f60bbdb370630d8e9ec4d07d83a7c0696d62b111fd7f05d5334da8d087655da14264cd3144e1f9cd1e6ac2023052c516a39f0ad61b6c3b8b2292623a42b9c2176d9c5b837b038c05c0fb20004bab18650e95269ec7f398c7235d1cff574d2ad42ab7265f2667f86d14327247d879bdb17a8b3e7a124c9bf4e0e8ab94fb6b56e66612512e4c8845f9e0067dff0cd2ac78bea071a8326b41f5a3035a2fa903f34634405423f235772d36214baeaf7a95379c8325779143cff54ad1df9985312be96a7bf0be9efb71394c218ae09c42580d9ff816db9b93717f30e8da64b957fc59ad4dd96b3b5312b7272bc578884cb21c1baae2075b739fbc2e0d29d91651f7498632543402e04e7c610fcdd20cc68386a02530196fc3fc98b5aea489b6015e18f74dfe7e4bed4537aa65e05b5b5d4aa4d2cab25af675d23f2b69caefb5b636307ac1a14550576d53bfe0be91b769be00829cb804477ffe7a83c1050162f5d20798730ef6edb35d2ce38a15852598f9fd0fcb8dae8215accf8553d2fdc16dfc35cfa0e02f9e9e3236bc932645de4e953828df19b1fada10c0af03ab636b40ce72a906ebb24ab250bdeb8efc120448598fb51ab6f30c1938a84895d9bae23b78b61d64ab26a9f2ad2502f10be977535c86e01e6f65e82d4c62db5cd83e486f7ba1295c8e1dcc9e0f9b2d4b6dc6013fc33a1f842043252566916c8f2ea92cec0757536da51505d415a515009c7dedbbf0c081ca9466667b45335b8929eeecfa377fbedad5479b5fd7ec15e49659bfb2aba111103d80e94f9fce00e59bb20dde841d346656f0f4b14d0aa333435cb645a6caaeeb31f87765cc37bc328a05e6884318fcf853a95c9cbbb38c7d024709f91fcd3695e71b39a5d8b49b2a37dfc61c00d57f704cec6958cb787d5fddabed8522750967fc60bffa430111114f34f5f979ef0f7cc958fbcc2821b89b6612bf375dc1dafa5fe9978aa33e031de0d93288aeca39b7b0b77671834bd43cd5ec910713f30997b0da7313319154bd6c9fb5ab24ce234013d698e313438cac12c5de1fd3e4bd1c28b31b5bf51518cdfb7ffc5a93fb24c2a4fe95023f3334d76a1309f8c258274a4b4158ab4ddc0a3c93a8013b7ce3f0acd1482d7ea354686718233f2acf71894ad31d6e1cdbbf5b8f77f672e4ba8ba7afc259f5610c90b0dadc1a9e7ad7ee04a0242a139b28a39a3468597ea6eb9294ad46994684aa98d5cf452c2810f8014374d799041e6196d45db334b2442cf70b751526277e35fa6440bfe02e4aa44ca4497cdfe310df136d46ced81331424fff9a8dd8fb794b4422c9ce5dfbcebd8e1c80f5b033bf76f87444379513066bea6497072f5a24d3d31318bc1cd31f7cd9465fca8f5948cd801e2c216d7dab62aba2d1041aade882e4a7f99cf71cb5d16553d5107a0e7dafa8e723b1c78bc3f114927e53467679cd0687e3e9b1d370adc6d082a1c5a15721bcc9ab3758a4acbe5dc9f733a9e371c7a9622f40307355bcf02367efd2b0c3ee5fd6302d9156da253366c90123bc0df54fd723385e939b8e5c685777129c92630b2f034035bc0999170a98d80b15de9c6711b1c5208422a3731e847fa872ab2850b3e72395c92a59d0fed85b2c4e3967d70229a6714bfd20d941b6704b5356ff957cb0a6d462526a45817d3d7fed5368bc9d1ba24a92523fbf470430c80a40b7591d642b08b868ddd592c087b9e746d0772baa16bbe21152d156441b04dccc3566fb881e076218e0ac3fbca86d743fdf98472fe60d004cdcf961e8f57a4dac628ccd5a2b260e6755e3fb746639cb35eddb8a78cb22a56340d97ca34245b494d8f4b831c53698777d25d108891a83c09c7f488744d0dfa238543e5d96ca0d23fd7d7ed03e05e71e1f6c7dd806cbb2f4e1728cc7191c67ab91e7819f834220cf27a628a0b537b1efe912be670cb4373e1d7ddea229b2e794662cc92b90dde69ff9863784476071c1dbeba321fc4e627f60a7da0135c226f0963d3903f1df9dac770ddbb71e0b8cb970c6babaff9a2e339d85b3599fe05bb889d83e3ab0d67aabcfddeb40681a65291c09279a4b0905e13fcf63324271ea04b8cbac314f5be2cd96c1f0c84fc3340e444b6765e1caf528a60362515b7208d2ea25c9015dddaf148aeb78897111bf1ef4106a4f1522bfa72c31bc68b61fdd19aee26fbc589350161ff59dbf9ed42540a566f90be932483c52e28c06db7d8016852e064c2c3749a3daa53837f2aecdc05c3720dc995f446e8f7c182961fb7627cd58ebfe685a3140bad9f5d535928054bd469c6f079e305b5256719741f46340a4045cd87f29ba78913554f9cfff5348e9ec9b5fff2bc670d37c93e00f1ca636d1eecc28de83b9220d772d7c8c0041a2e30a5b0d60fdc4107b99cf972a4e4f75751aba1067158a298ffe4bedbbaa93fb613cb7fa4531d01242e34ffa8b27e6f012d1438793c713affcb3106512689a7f2fafa957dd33e345f5fb58aa12cb7acfa2f1cf9131f8ee5a5e088d724c6ab3f21dd881e82672b6f87f6a230d204d055a1f29c56b26d4b07dd3bffcab9fbf4361bba2903ef1b006f1d2ac9d01368c9fbf51d0989247404f5da98e54e6e844f915ced473b6bcb32b99cb14f79b08f2cdb895f6fc79129fa99968edf2ef490b55dba2f574d87cfe9e06f4640b4f1ff6bbb15cf211a58b381c94f11c0860fd4ac2b2a9ae3add1e6b841f13ec35baaa9f3f579e855c2fdbbff44f95d3941a71f27b3ecf9d9978f7134e15d75546e57a28588c5b2d45ced1249cc2de53bbfdc6f27a49194f62ee8c39cf7bb95fb046980afc1df45a69ca65b0b80a98a3a44c47a537c521c9f8b0c0c760c9cb3e3d6a78391296a081b5a3f2c23f8ca5f5c0af074d97e53b8636b35aae57691ace4380835e1801fe8b9c5a376a524edae55183aec0c267922c6234d841ad661653e5311cfa432ba30111f5d4281c5528b61d43b15bede0271a033da13ecf03d1661578345ebde3fd8990d2dbbcbbd0b0a6bfb37083b4e23dc7b51ed330ea62536662f4946390b4b7c3964d8e18233d90bb1951994f33deef3dbb9443dd0271202b61ccd4390d120f551fae3bb8362616304ee3034142b496f9ee7bc9fdb1685ff9077dc5c684134692f78d2448c0a4ab2b8189427fc61ecc7c2503617b9db8ca7936e9968dd724d3eefaf4f00a7d00c17a7c95e0c545822ee2ce9d1e4e599b2098daf565ebfb97542caed22cd11f40f0bc22b7ac3336cd8b471dabc17f611bf92f8968b70a786d8fabf8ce4a90a39bc300c6526ad136cdcf3ff37d981fb76f8014cf85f623d8d2cce0f1804ac9187579520b0857b4d80f2e22be2e6b8a8587d34155d3f66ef8a1c0dbb5bb8c25ede0bb82c5ee97989dc1853555397cc71a331b8eb92557e097caef394796d492209875974dfc14c96f5aaee2841bf07e1859e993a4ad0bcd96d2300cceeac66115afdcfb92ba6f6677722635fba0fc4b2722c4929583e135f82f072453faf3b4a6322e6713d6f8dbe2de2c2de274727df0f234df2051df96b8c50c94c97efe0119e3decdb14765136380e46ee75ee05046526dd9b514c249ef1f3095868668286c90016d1368856de933af2e13ef4c76946bd05430cd16d2c055128e52cc71d81335bd6b48eea61ea25229e0d06077e65377ab6b6be06d83b2849f1f7125742be9fd98b5ce66a62bdf6728eebc528f9d20af08748403fc01f5bb2d50f60a0086e14f4cc8c81c91da7e968909f83b384b20fe97d47ca7d8482a4f0b1b5efb8e633817580e730f643d82e3be2862fc0203745a2fdf8e7c631cc865fd34471e939ffbf1e4a86f17201fa7f6934bbff7d77fa54b45ac1304f5d8501478d138c0873fcaa4feac0e451974e94d3c13e708ed04d11ca7ace2bacd0cf2b0c55b867c589b319c572cf6726c70e91804a0f17a10dea9644c2c04d64bff959409a17ddf343dffeea53dac37d0cf5f92c2977fe79e73b43ec42cbea43231a3ca6664e8293f719cbf6249501a1f1587a6f92449177741776236e512f095283783e3079f1db914389c3f4e3548c7c02c3a70e9130a6d43efd7e6f2c7ad1d1ad9b6f5346eb5a00b380720cb793bb458180c31fdb58a40ab8bc182c2a4e4d84137e235e846ecdf2ca9acee9ef724b1a61153348d39b4904aac1f828680c499500dbae9431a270fab186d1ae9f0edf743dbfae19108b9c24bf49aaa834e16ba6b28d4802e42c67fdf3b4dcd5f8f931fe14b05c6d4f4fc273947a9f56381213506e88f4abdf37b7c90fb61911de98ed412d02fffb32ee4c72a5f34045e0e8255dcf3e75d5ea01afb4299a058a78ea65150523787b3482c5a77646528c0fa11628c83784f128afc07c6d9467f198d0ff4158b46629eedf6a81ae3790c159fb4536613592ccc2db54c442362df0058d0d13913a4b6f3350ac3c05a0536fd18cb8927731329f157ace7b09e7944283166daaac99272bb4ce2b76db7711daea2830377c71b030296d3e79faed40ae7d45ee92b158205d6aa64c082ab99732e327410f3c4592db9d295976e185e1cd744e6c201bef1576281f22d11f2d254d331eeb771aecf38580546d9e30dfc03c77cf602a77d48ecfc5f3cc4d4564716faa82d7406b9b4295288761773185150a97450be5717b463e0ec3e9b74315fd7a4d25098b8b111d4e6816ff0cd5b1009537a76ae5d01a9012eea7bc91694e0b2c3f80bec2a4dcfc3a96ea34e3e95dd8341de63fe74221882d645988bc8d03e3a20c2b7bb131aa4f2c44b91cb12aa140a7679b4136cab167af5296fd41b5fe8939b43e7ced53731cb6b4d2a1eeb5132b072683fd5fbf0865290fbe4cd6060459b3cef923aa583f08ab95e65d4ade238e884bbd20ae9b7c7c4858a6219b60ed82461092122d2aa35c969b0c52cf2b2d6de3be34122c17c95a9912a2e3dc91a5fd14b5be962e669fa5836894cbde7bc02bd6acf1ff05123a370d32d75ed3b022fc34caa494afc4e4dcfca105f21ff5b6b1cd801e7912047b8527d8315f3ffef526e3e5747464cfac08259e392383ed1e1b999cdac3ff64ed82d48a24c257a9c77fbbe6c60d89a31a32b7906cb681417e20b55cf2d57ee63205b91218009be9ff14c348fad5e2d4ad924b32b8d4aeedae4b077e898359a70239db3fc8a593f94012227c3c3095c7637f38554ef30f2c2738ef4c31dc36805bb316b68ff2029757af915bb469acb0efd505ba7d7e8159d1ed53399d016f4940206aea90eb1733ad63ba90d24a58c3975eb1c63f9da1aefa56a35e5b96cf0145c0b0d529bcefc381bb8f43f6ff7e91deb1cd1963e368dd1af01c64b803add528caf815103e5c394c6a68dbc03c112bd0e7b8d45e9a80dfd7851cad841dba009b7832d007b9c36e52fb4f1946ede70fb5c6f03c62a580173cc5b3a5d27c70a83393d380362fa5608719421dfb54a95ec43c99b9e40afd7259e8e510311b386011c78a9c376e2dca0dd7e680df60179e6b9d8d4e5d22625eaa434046f25a0324c5c5f94cc5aed36b884465626104e88b594f53675740d4790a4bcf00ad9dc2ff9e680408d4391c3a31de6f8fd1ed89539b13d2f4d0918949766f5225d281036b85597f856ca7b370e2358e71fee13ab004e553b60d2a097249d631b40739238f909cb21bac43516c28053d3d368d52976c7552ecf477dfe90f1ee6d064619a952b273b2a468f0683ef79f88b65dda32b66c34998e97edb49d9443260d2ac6abe2cc01501d120d983499b77fcc901da44d50897640024f6719e56b334cb0b1f0de263a10e185e6847bf75b1f2e3eedbeed49a1e7ccfa85305ad2a29a0052e35cb20d8dbeb6c7718b0ef7c39d9d28afbbd21adcf298f22a2066fbb067cc821844b1833d1cf8a89576cd519e53d92e6626c7f5c4626893bb518d8c20f8da75c849d929298651992cf1d14bbbfec0c6fddee2aee615cfd94877bdcd7731e05f4824ac42d726777e4f44d75155351a4facbeb5ad2f18557285e965af15d9817dcac424f236af1705b5b49433f7ef74d168566e6d8fbecda2123d7a1b25e2a4f08a72bc4b1a78d61376f91e650c6ea223d284dc5443f5d855df384d538645d7b6b5c9adb6b3cf4f3ce4bd31b9f87d4d96b4902ecabbc7aa9a249e286a74353e3799b51e8a6cfcd599086f1b89bdb91c31fc6bf55615836c4c83713e97384e53f3f66d12075efa068323785d6f49480c059cbc98ae978a8f11a05a7f39ac17100a3ce997b6aaec0bca157eb08ed5329559023690b5893777c0e2d66badb0fc99b269e2666a3525ed9f21b737ec22dec3cdeafbe4264f18a41fbf2460eee02a1815707afac927e5ebc02f54cec9d911d1f69cba7d635743e5eac20c8c1b414d8150637cdce850d6d1ea5e1cf4ee0e0dd98ebb528d2160a05184f54445ed284f96ca4d6c8a97f640cbff3d3187c0a4d286436fdb8b2f351429e4ee30e829695e80d8eb399c1bcb01d28b530c2efcfada7d28dd571b5fefe91da268bfde3a7185207b630f4a6448111602f4fd70c30fc82d2b7144cce9c7a73b2fa2f6ca532ed05f334c61bec9521361c1405de04c50552fe6c0856a87bc0c17ea2514b873b2322bfe01d4a3d50bfb1b50913be2de3f161f899e16e21f71e31dc30e4d72876bd8ebc16ca44b1df527c0b6d39d5dc6bce7e72fab13e7489b2ab95f8110fc789f899c37282a9428f757fac3017e3979b86c0310e2482392fa0aaf8f59e59a6015e20f49878f0606ef56cc6c0cec4e37470cab624742b2f4a7f51d4b0ea4e6bfe45f1ae0111235e46763b632938427188cd9797809a2376d41ce3fa4a48a7345cc0d644eac5091387a35930d173c5c0e92d4495370115355c8d5aca6fb66a4e0ad202d500f037bf051fe05fbc268de307d5905909813a87c82b3d0834722a74759adbc0f9d2611a2a8f09b19c37692c363f24f0e38bc43f888faa31f219b7b8beb1b9892b533172631c4694634677d2d10da510cd3d725f9802435c6cc43748497fd8ce01bcfc3295a7da4144d67d1a0c0355849913813a516021915e766b13287c192d4ce883bf10fceb04a08cb2dae571799953655c4a73794a66b04773f729024bfebdb51b60706d34bf6437e61abd45f06999876cccb8e94269b7600c81ee3086bf447a0c0036b185fc6db77969efbdf1df131410411ddea02ab80c3a6e9617066d84f85717696efb57ac2d23a5c75d03a135ca1eb4460c35ab5836f3dea61cdea63c30ca4b63633033eaa012f66ae798574729db3765696d1d6f4b8dbb1ab14e1bb00bf10759f95819f6ee762e1cd025ec1bea45c55bce463980bf3be2f37c1c2c86055da6b88a2baf9b61998314a5ae3b9da684589e28619849f92f128c1b46ffcc9c56b1ee78bad16b1fd4387f4ea0d77e8ab09e98e10317307362adcf5e0d4214560b33eed21fbb0984998bdd6b666e5da20684977be1e445ba91f461d5ba41465d1a0a17bb06bb2f62fad01b65af73a068c5aa31141477b4aa3974f195f19eb7585f4a1d05e7b7df9aaf15edc49263eee9334c79d434fd522da3253d5014f2245133a58b6a5a33ee35c653d08573ee6b9a6e703115ab74eb2ccc21a40379674682abd8c73f1ad07049b480439808e82968608e283dcd312d126ae3020b0c5358fa5884025b61f8e07035ab14b938f02958ee36bfb7fc8067a48c92c7c02c6ee28abd941f338a85731d2ad0a9b269ef09277b1b18645b868b73a5dea519fd9c10d85e5685afed28cde4e07b3d57dfaf9443e4528bd5f0136926fa475d3953ee4e43ab6b55143577480ab973897c10b7fcea688dbd4e6633f3d84ccc5f2659d1c8e833a8f832191ba4fe053b4e504e06ffb7266308f0af4f1afe13cb7187bb878a8b117759d92d5d0c978b02ea50f3a2c6e3ed282dc4e466116a9b65a031760a5a9b6635bb2e92824d64243714fab1a0a348b0107528da091a310a849b1c73d097d14a3ba32a1c7b2b1df5ac89285be22bb6487fe13ce808a92409b99a4c55fc67a8a819082bc64c2f09f313b61afdf8491f2f144d2ae12371ec92b6057dab97a16e193fc286df6ec6968d62f9ba91febb7974c7d3608d00f266a3bd10c301d49222db2afad784d2ea9205717ddc5b4355f7dfec5b4e3eaa0bf38031631c53d77f67c2657b17235b653b9b563ceeb612ac99c7df409dce6370f003e1b84af3311fc52a917c8d690ba90eb6fdeeb816cf3cf51399366005441b1dc7647e440366bf8b0c7b7ffe33b5c7b550bb8b08539db95e5e32552bbb10ac795173f11ea17e4e973ffb84b176cadb8ecc718d0a32f5b711dde29373d4485295d5f12676d5689b06e3a5fceea15d1962d1af009bc83a21734a6f415804e74effa4fce5a714f5ca949a023cd75e65a4a13b2932c8dbe2a26a0fd2166ea8d57162dee8948b83d2e970b5b6937f10b1cb9da80ab52fdc818e879a53ce715aa0763c46e78dbd6939c57d7509bbd6bb9ea635fa354d204965176734dccbe3798e67741cdd4ce202d52a07af73cfa62e67f11979a7f25701947198a5d4bcbc27a15aede9f62b440b8bf61ffdac844af54693067ec0ad44ce2f080a7b8c374f49d5273406ccb7e8aaf4241a9120336a887e1222c490d45a5cf80d5e7385e2694b65250faa49e4af7948c4773b641e5b76aaeda731d3a6cc37766f4d5fbf8bd08e636a5ac53f3bf243e0476defc011c443a0ae4fcf9db3bb7286ac0dece5da9993e35a91b30e4f870be88cd2d9e3bca4c4043c4a649f05d3d88b3a4b6f9a1b4335ff2901678e50e91b72e1dd33e60a523db76d9c29d23ca29a9457c89d38d6274bd629da718848af98ad482ce36b2860776af7e8f2d5ffdc6498713b09ef2779951966bfe06fff72884ecad91134b6eb081127f4ed53c0b566df99636f66e2e2de3ad6f58d7ec5c439010520021295dc34004bb623289030607873e2c7e97b97175860ab121517b62a4d50d1f3430638fbc1cb5892466477b607a8917ce28b86024a326b4211d5aa1c92cca646ec2d61b9936f7f871b80cdfbe99b363917254858e63c9862d97b90e6eb2a7822068c7eae801992c545af29ac92d9d17225334e4977c256b3c575df78282b7d5899ae47fc08a1db34a93aae1d83e559791add203a098d939c3702b2747018b38f7f737196322a8c127f58a4d882928e9224e07193908d320d85bdf1724f003c0499c8c9ba197201d3199e0d22692c0e87efc471aabf089bc764e6b237c50ccd2b4a2b034b263f46227895b2ca5bc67552851b4bd658226b5485e15fa857bb69f9896ef83317c7afe98f8452ed509fa7668b9627a630f032eb6fac4d80bf07a45b90f301770d1243a28e8517ab5d404d29d0d773009d2273712ddb67aca91afaa69132a91ad92dccd91300ddb270e89a8c50d91115025270a46be40373283e62e353f1d85689101702f8e426705e8ed36ce67d8fd222017d386ea6eb3b6080ff57dabe970f235b6f70a7427f04ca1ecc38f625ed7703f53f45eb5a3dc7fca6a068206951ebb4bc8da9253008bca41b73313299246f7f29cb021f4867cd896aaccf86d85254f49b06c36554e9293ecb0af6d70ee1b987516391c667a66c1cdd2097e8ad068e0eed20d0330d2df4bfaa2de6313da79d17adb923a7ad4420a67de4f438e1d0bb7016cc48b2dc841f2dcbb01855276941e83dd4399ddec5d66ac1112181ccfbc376fadadb4a779f15afb57bafd3b5612d036882ba9b39383e87c550df080059356d963001e9c93273cc4298b60683e6b2035dfb357125fba6ede5ad957080f2bdca9771645d6d06df2189371fc62d3132213408ad1aacb2c34ee9c2fffed41597e6b8677431ce7b9d0049b098bace034e70231b55c186f94963e8edb2e65adf9e86f77f888e594dca8342332f93bf5af7d6aef6da323a3a3ba2c0c30361a4783c1dc790e4be86aa30f02bd022bc6b59330707cab5b393de08f23abde4eba8c984f4baf53a064edcc48e2bd7c64e212a5e0408906d0824dc505942f11f70aca9cd1d9be5aca9ff25b6645e586a45956407ad8b7e0b071905bfcdee5dc723158ea373f74b364390cf770f6dbced2030ff259cb151e38174ece9a3f3c7564527f179da0269f96f698f22b687b5e4d879f7165716bc4b9fa46e1e8bf68a0275678afa71d66beec6511fde705a86ae9b7820538d6ac44d5e3c64640a28e752c5aef32d555a62f7c9c3cfeeafa382620f33460e24e4ba554635952de73f91434ca10be6a0d7a1c9a3f79b55b8d415cd23c70ee415b0012ac6905256a6a80b3a8ef4a9867e98cc0c621ee53f4026e69c037db3fc6766e6b3ade6fbe8c6dfd428d4a624d500a20523a7e305e2a1153ebd5950e50bb686b45653a32cedaeb57c5a851176e82bb4730364cbbc13c6e1c6113bf1f6d17f4d0d3047fb730e77f15eb57f5f47a45ffdea3e67eac988b915c6f78af0c25090c0cfa6f49c7e4a61a0d5fb60c9a3c728d400e372086e9945fb4354533be73f918f488f1024cc8a8da2963a116bb54f986299b18ba9147f953e2460cce4704bca477ecbc6954dc10dbe22813694b2ccbcb5224b3ac686d3a7ea42dff2bcd6dd118e365fcfc2b03b9e74e7230ca91ff1b950c2c4fa0f6647e84d153af71446a03018185d04ea753dcf156f8e826bdb4bdde0e107d7a2f3210ecb25253522ad54119e2eca50cd218b8fb2a6ef86d1cb27c02a5b44096e291afb0be72bbb008563e49b54d99129adf89adecdb1dc3f2b92eba981cb83bef18bc8e26239ade9ff654e057a3c0a556cb3636b3aff0f91daae8f3c21830ffe5d9bd7f4a10c5c066160398bb547cb92a005a6edf8ce36298453fd2e5e98f4a1843647dbaffebd43411736a332cac21cc30fb9e092b442619bb74f22b65f05df3223e725c918ff805015e937acc5989eacb61f5e362b4bccb9ccfb56357bc68467b86bf673526f5429375b2ec4376865275863cb8f4e7d394052f19019c05e3df03374ec51da4c148219044f2d4d54deaf7a77fd7435e24b2bb07ce67833a53ebea35f3fc8b1f6f727c258eec74b53cfaa9439dab486d7be8443f050e650f8ee6a5f9140f35f20bc9e700247806ef864dfdef9f1d6bfc19dbccd2605081e8390f9ceb9b113236abdee2e1409a6957f9532b9013572c3b8dabdf49249b6aefc155f19bb6bdefde6386bb1594209c34d493c70e53ab3af921f06fd3f3bf55513ef0b5b7d377953fa3c95c5c2bf19f0f7f8fac3333b24e2a6671b538957cacb3ecde69322f27309a168f222e2d969690f3cd0b0f072b6703dc272c49120b44e8b83f42064b202036b2f1f50dc527ee9016200243f06f610febca18ebdb85e901ea5d709f61e8ecff3e2de9922c426c6529bccdfa269dbd940e798a2b32b1f2d4fe74da4f3694e5e1e3f7257d74535ce2d41e5dee9a0c4f477156c88146f36a99f8f6637102419f0a909c28ac54e2dd031c2aa405a003db8d8ec818d9ccd72a7150f6db2fe7b654bc34fc9e05234fdd8a94e696cc9c2b2a4b03bb5619114535bab1a7fbb6fda417ea7b7be7fccfe8a6362a054b5c0822458fa9fb92f6d125f574cc481d1611a3cadf3b6969a294698c9935861370b21cd1f8ff63dcd3847d258084ddea177727edbccb33c37db8f22078ec4ee215d16558ee03efc533c4d891839ea277a0b319f3e7b1895a9c57635bf94f2499631cdf649eb093b9907a35ea6e48c43bd597f92e1a250d4a471885292eb9604adb3696669d5eceb72f7d1e2dd5c5e2e31421df5afe6bf228efce960220ae93ad85204795dde028d93dee62cafe83d2a58f9c5fa54142e7de97bca0e77320710bb6716b8c593a1d2212094d1de9de1d053c058672921fcdbf7e7c609fef2ee64c95942b46888e5f569761e138fb74e96a0c1186832e5dbfe91869620877deae32e387d31745718986b7a68215e4fe42a730a589f759bb959eb678553c662afc0f3273825ca07262d9cbd370e7c2b92b9f6d262d36877ff8c8165628754800a71919e5dcb8fd8549f01664753ae43b09b8eee4e5de3681623298ff484ee1c3109a3a1a980005a91a257286571c527894df81409d9a270788a5054bb3c450d032b7e96e5701eb15936925440df223ec8317f46a264924849c473271dafd26942d1725f5129bc25a01e985b2b420124fdd6fdf6520385b4d098ff5fb0a5f955072cbf1ef2c11a77cab0968e027d966f89485d83d501a77bae94847d935d3c8c8710e047ae1635c00f97d8274eb050d370f13fcd28d9f383dd49091fd43fab5ee257f918b322af47458c580186310d5b4594256b2cd38a9c10033c00795152b7c73be5c35ef21330de443c836c373312ab512203e79e2b4ee4710283ca2fe01db46961516f5c4cf5839aa9faa85c67560b1a3fdee7e647724c311edbf4ede7ccd865d1fc0fc87c97a663459eecb027211778f603ae6f48ee3dfb2e4ebf010bb7e3e613ad67f2df5a86f65341d7ce7c41791ad77a27da3af213c15a82c82ea811b8244aa59c09ca5b04b4862d47b409c3fb15dfd8d9d425009e5e36235723d27863ecfa75080f879d3516179bf3cf62075926e66721d4870fbecf17059a13d1620ae18df35b1db19eaacacd7ed38e28bdf34afbd661aa8db809bb6244c32f3fc24e340c91998c361d0bb29fa8541249c532c71c5d62cd06c34e6c270fc820ab692e4664ec1ffc8973fab0eea5138156f51528f8e973bb08e8d935d5881fe9ac37bc50dbbd12190a850b5b3223de1df03612c5fbf6535ecc8652e7629decb164f9247e9787c5f51a521fd37ece05c74b0cf41aecf4aaf409efcac80a89e22e79afcd92edbe43ebde568c3fec2f5e447adc4e06dd5ed373c10e3c13ff221f17064a7acc493546ef64fc83cbc1ca9ce645c03ccb2aa195e1845bdff2c18a05c2bfb09165391da01f95ba3592cb9f5784bb813220da11cf1fd756f3eefc13fe9162a411abdda7e4e0f02fb910a6673f5759c231728111588413e408ed8f54d7583cba7160022246361c6dcd65e025c078f013c1cb584f4e7cde929a75c5cfdab58d7f09d51366f59d29b6a9e5f64e17a39caf27cba85eabd12fd04ea0778b5bc17ea601eb4ceb10c3b14b35134d3979044d5515d13895c947fc4cc5d0ac4f975d02c6fba88a7e16d43386b3dbce2525e9476d29f87d8b6c937e4ce31f427c4b1b1552dd1aaffe9de26cb9538e6dbd39aba28193cf201a475099bf4ef48215b097220d7ab5dd5bd6aa27a173ce90037a9d783ca0c723989bdd3de85dd19678988683bf619f333974b1933462182ed6030e72ecc5b495b8373a92b9e51ce513adc58dc0bc166288c4c45fbc0e01fe73b7ccfb65151ce734c5f997a08afe17126893ac5bfd9a916bea1bd645673672a2ad8d100945f6f45687b1afd8ee3b3d5c9af1455784085889d63eab018c58a063891d8f8e43a314774014278d5b1029cb67d5b5e4a133ffee36f27feea7e98daba2083307edf4cfbcc2313f4963918790d692bbfaa00954012d30f9105440afe22e22a8119c3a3a104b63095f501ac86a496b4f0b9d4b61d113353fb6602fd717ab4440867ee8d0a372d16e7eee510a40e382bed6c5421424e83a544e49a09f6f8b18f9bb39e2f3bb68d02e65afebae50e0eaffba66030468b938189ef597fdce5da1c15fede470a35ceb96d40c9f310a3a27e02d00f82513377d0a9c3628448a9a05b517342e35b2e6b1df89f00acf6836d949c42799cffa738814009a9291bed029dee846c211469341c9aa6ed8b0ef04a9ff72ee9483ddb6dcccc61192ee1e4034db9a1e2729711afbf4bd16d522c2a2f06b420d3cdef97bcd601d68f9834fa709d078ce76314e5405f46a23b65104856c1e7f62cffa45bca6fbde26cdea30962a595eb44374bde112086370646eb5d5ba87987d5329ab1dca0153db74b4d151ff7cd745d4b5ba3069c5ab10ed57e7ba9d6a8f3bea8ca4c617025a4387ea119860644ed42084bdc90a72f2539a72db2ea9d1f113f7a1103096bfe3256b15c8c1601d7063e4a398bb9d681121edc379a76b4401f1aaeb19a6ffa6bea3443200a4529d12273e74618dfbc1bf339ef212a84525cbaf3e0219ce18d17faa88c98b2a70cf0356eecadc4e62d8a48e9d3509a58277820897485d766b7429898ae0fb4f10b9e54d62dd2b024db38eb63ab3f00efe48324e606325da01ee3b716f96c215531fbb20aaac6a7f4791489663e1e676635cbf1cae32f7cbda19924bb2346619aa25106dea4e013417055d175c17f793e619c7656380c966abcd26a68451f5dec331b5e3184715ddbc6b17f53172ae5dda7e67530ef580978d7b31ae570342a1798cfefce629ac17c13ab00ab2b471f396af852759046ea066ca3745f9b4e563f5473180aa19225a7c0ab0fc4e2826ad9c5b4fb712cc784019f2ca63bdca3064d1da44e41a7f4c9370e6b342527f8a0ead69d5f993b159714fc8d923995dfe99d2514cfdbebbcb2ab68bf3421cff93e4da203bd0f22827bb615e5f6b5bf67782b1a7016f348d4914887277c803fc13673cc49a0f41ed365b69c162c6ca3e752f1f116d00f87ee7e226a3606dc7cc6a572c091f08222898a6966999d254efa9acad35cb7e41e3a14def9b28f301a4f47107dec4bbe70d7662a9c66347e17566fa0837a8ef521d3c42e46dc4a0fcd0f090307ec64e3e7a3b2792f48df92b2e6bc972b54d11901ec968dce4495a89ede3d7512bcd8832fd24611a49d78c9fa8fcda433a528e4e3a48f4580e2ad205c9ab0e589d7b88cbf22c472fd0a0eb8e5d0a7653f8d8b788966a096d5283ab8f7f855e47be75ca15b74cde2e3c81b31451caee2da0fa11a22446933a98031466de667a8714eda5008e226896b4b5de74e504fc1ebfb561d037446974078672e1125897d658499ac650c99bb981e73b7595dd262b8fa248dfd010dc7307dad0b1e7317607cc885fa27fce6a181a37b453d1bd72a10f7ed99ab7b2c920b8916f8de91ae611e4fdeaa57dfe510f9fb12ded1c57638b758e93e25ef6cd23bad0770a2b93f170fc1d0ea674bf26060c45295235e48f8b75bff010d541f9be10f21cc837bcb5ec7b3acb1cb9576bbc30b3d15c62d0850fe0f01e6c40b32fc2d79b21b0e2dc8fb449be1cd0fa60863feb875f954b6bbe7c831ff92b9be74bc1c7cda8fe864ee5f8f05c2aaf55147e9cb3fe79539f338aa9d5db4dc04eb84ec3638825571649dd51702752e55421d6d47fb299a4860aca307440d63f96e6f715c3a9869725779f01711e4ac0f53426aca3854507bb1a0b8ff5d2e72e5efc58b4e439793ded3879b69f2e526bb67c97ac38efd561171253031ad5a10f48c440c6a86882cba6c63e19b8991f7b6174efbf67e08adfbae18c435f8871bf5c7acdbffc6644f7a1b635369419726d40937cc22aa87d8903ca2f0cc85922d2c1900c61542752984b0cf59cfe3b830697bbbe455ce64633d334ebcf7840c64a69189d8e965eeab26ad3d1834427cf9c74be9967faab32f9cda3f7d98f1bdafc207c4d68d5bad05ceabae6525851ceb27ac4f25ba7433e274fda9666309a56b800af2cb12af1aa7e210fbf2e1f7ace468b2ea5826548de981c30c9e9e95ed34651c3bf7e75c7b5e0657fc562401bc92d548d58010f607c85a0ea5aee568f73ebc5070b3a8dfee847ed4fb24698d853f4cfab87a17e10be5fd63615a2c157e208f35f5cf0574e99978482e5db94c95d3667b43254eac6fd4e325b3182d2894e25ebdad95d519269f330ff0e68c6b3a245f0a4129a43bddc2e31070e043e376bec681b165f39ee43edac9eee6eaaa7473072c1836f497f3adeddc6865839b62f087a2e7bf70f98054a3550b82e241ea3a6e92d11af615b0bfa419fcd68f6de76803d7ef2faf9de42c04b10fe66e902eeb5ad7de1a71e82a6bbf3613c5024dd48fc3b0ce6cfa91e7660176c98143ca742916a6ce451509793b2654989fad22bc5e4856945ce9acd1f6e31ebc3e19d4d5f4eb135b51db9db89d5aa6dfcf91cbe720be9f42b8e562f2319faff125d23a4477cab404f605444cbfd06c40f3a2125ecab2a1946d657fac66ea939fc2441c74868323d6ec6c7540b36cc6ae53ed4b700ece5a28b4939a677606a23e66fcff080b828c7b896ad7ae1cfd24d47a3e76f2c65fa76c6414f5e8ea22ffd02f8b9a67ee81dfc23388e70f437856c3357998036d0898b75003e368fde5d7c58722bdd2ed80c5959f0d2b9f2d700fbe96ed154d59b692e80dd8f684043b23ee3a11ffaae3187a64efc111faf3f9a348f10ac0d7fb5333b814e1a4c8fddafb5549c48f1a5530ef6de09d80d026c7a813020719a98e9abc8c86079ca5347ba03690735bc10bc7bcb8a68eee93bf2b9b37feab103198dfb7acb0c3a6c7f3f537e1ffb8976ff23ad82f47b123b318b83acedf05e3ef0b2088c45cf987fb58746a3acd7086125814ad34ef06d415c0bf8f88cc49aad30b71ff5c25373a7f005e6aa6cb14fd0e9b0bf5f253aa44e7f09418e2e3c32c35611796712a00bd5f133fec45e5e1daef84eef35a2248718868f31afe1b1be149c6614de32e594dcf7fcf76a0e99d29191859f0e98e24f66d5c5dfd8ecbe42d66a07c7feb79b63cebdd3c9fefbdb2e194ac4b8b62561239b4db3072bedb607572ba1154dc88878d307d4849b2230f096707962dc5c194eb8f924d8008b7e10e297b5ec36ffdc3c4c2abc56e7c77db8286aa05c92ec8760d60246ee9336b3939ae6984593d58a71c47f463fe66867554cae756ae1d04cc17e814c9a35e14bcf9f941a617bdb97c0314812765d2013326d53cb88bfc6fb8953ba90fd04e2012c3e91fc1b2bb4837befb09d393c3c2b85bd3d9e27aaf18be13229f673bdf6bf3986672ea4ff9121044c7724f9aa447bcbd7e6807b82e45294d2f27228906fc4fa914c12977d2aeeabe48e5970ebaaea0d0b983c3b84a90ac646f84c5d784662c792ad264c4cbe4f1dfe0802eb86bb3ee334d7c5602a06833bbd0377ca5405ea1e7219bdb043e8029935283809f5b6d922583a41039e16a06c6d7b6d33ff77d521aaacef606e3193666449c6cb5e028fea62fafc49e0a8d0537c0bbcf93f797256bc2532a673efa799655d8bf372276811c2f382991f1224bf553ccac233286715f94e069676aa5f901a6506aa56fdedeacb77085e1ff882037e685143bb53ec52c117dd508c5df19bbc1a377040dc0d16a8d8e27cdcca03dcc7a3f35bf5591a9415747e5ed9fb702093581dab71d330db1383f5d65a952becbeee3a973b38cf490d679d691bc9379b8711adda2d1bdddde80b94a3caa3dcb7f70ea8a51ff313af72633e38132adcc31f62e58da21e4ae680b1d585b187adf0d551d40264bb9d7267de81240568861b777980d180cb3b9120cd70dc0556621fe01fa804687916c45c103bf4c2790244ebeb4434af7d3e786308acdac4c84b77befe794bb1503d546449b21a8b7e2ea9cb98b6129490126c20a38e8d7b0d27a46c54681ce6ab04b371abd247f60115b2f3ca00a25324879d76010ade645dc88fb26ff48fa806a1cdbef233618f234cdc6d37df01d5cdd198a948c36cd6284d14df61f1102f7711e40df759365afb1d22a202d789c99d66478ec663f14dd516c6dc595011de9e96880a1e74757536a7de5fba909c750a536ce75f193a9be6d8bfff6c5bb30aab749e773d5370569c53bc39ab6b4fcaacc0e67750f045e6acbc2a74ae7abf713a60dbf7d69c2d33b81078208c8ea352a90fe8a21c2051cbc2fec30cfd4a00d011e185c5e6e89649172e594f4e26d458edc6a17263aec848be325bee56c4f8d2cb9193e633f00d47dc449082255c805b4feaa614653d1279a8fe9cee5df1bde550d309591c10575e88b2c96599830bea93748a28e0a01a30b67dd85ae7594f1910b79306ec652fbb25242bde66b12c6b4435740702f9b0cf9494a42d0fa0ab49a62e55d9c7e0ab47f59ab7e7bc962dfa923a402d543391c406bc447bab9741633a46e69b9525788f56f69b9b84963dba3c6793656cc46152137e464ed6b0d9c4ab214e5d34fde963a1197d023476fc3331acccf4d2d1296af3022813744257f379a45d7c3f68bdc284cb3c70542d09da00d53be26de3f5ae37fb0539baa7359086dfe52e2b953279984fc8af34f9db655e2d6823fd4f22bc5ebe04e1416db2a73ac7a474018de914092d609d20047067f1ebb7ec54420b25b97dde28d6272c0121617536402403171bb107da02ed98c98a85f20619d13bb6732fd69b1855475fa55c0417d49361fd32141fd602785bb7c288486c7c21afb1638aaaf3acfa344d1610c1c95207a8e2711b7b40d50cdbc11a2f40e618e9c460c70bf852e2acaa2a5e2322098fdd30fd292e35f7eb3ee4e12f54860b10b81bb0e0b815b856986eb499d070193aff1eaa4feb7cd451b0655b36d57456fd4809ba024e07ccbd25cacc2ee09cd5925bf6acbdec90c9c1e3154c8f6ee3f7451edec2fa02ba81c688b4efd5ceb0a370daaa04577b906419db2be9c777b1c0e60fb8aef61724264711b5896514f8407034e47cefb6c19d40a7a49f0a3659c86ff2a67f5abf51dd30a83a044877d6a98df1084330e9f739ec7eeb0348deaee16871aebafae167c980dd366f3f619da2ede639604c11e5f72cf000332b92f55b70e6c49f63338c9c9a5b41c5ceafbde342288dfbf4d47333f83dc7bb36637ef5f2cd5d10631602199b073f400889b716054bd3818bb144cbcc370f8336dc1f5be94ba8eb86daecf000b4898c473f8c98393d847d8d0fe9e4843148bd451f3656a6811d9f4ff13c513ecd0fb637cf3bcdf26455957065eff618369b2ac9e722b26e2e264796ca1d76d13f93e085915ff8a88973243bae4f361dd4dba7787770b4c1476c7c5d2b7db52f2f76d1d4432d3e272b755dc3be30b02831720ee040f6a99fdaca25546fdf177be13b25b51286497b9caa236f1a615fe46afa5039107733c64ce1995941f8fcc712ea1be3cf06cc987e69c238774b2c052447995402048d2dab5af8f72b84359668d57a3584fdb4f963b9874a246a0630a79ea6e86050978a5fd208ebe4ca8fc2bf54d92e0a6315d9c8c529de51e6f06bbbe741e9a5706848190ace43b4d0cb113983e30fde06177de6dbcabb8eb1687978b1fbdfd408a597ae0710bb852c41c59e2d11939205ef01d0cd4c32263ffad3cffcb7532213b9da6356f4cc989a9c4e888f580b8ea1f63defa472e4ccd686bb6a7c2f4094572b5a37b007cde97ad5f3749e5d593b7f6e7e57d50822b4dd89c252b545291b208e67cafbf34c6a02f797f5fa26552258910faa1576e3f1b3a5f5bc3098421473576c31087a46e515c0c3967ee9e1576b10e2bb3bbaf6f2f64e7e0b78ae098e32148290cca65863fb51cf42d8160ae751935c72a2d9f0352bf20855edcf9350078c7ee6aa9b56c0aa68b35552a142055f3475e63ac691720b7fb8ab58a890df1acd0436d12d74ff4cd11cd0afd72d104fc1455d11a284a4525410696869a04fcbf0d7d2ac1a4991ea630d5b17222c7aac810840f77fac6917d72dd54cd77652c159fcefb758c07282a090566b95d8259c5d5fc124493c786dfb2808b09e86c01c26106374af28f2c35ac890aa453d0926134cfa9467b17bc17cc591470069a3d5b1e4885d9f3c11660ab9e36bc540eca976dfee2f0467e88449bb90146a4e695fb6e78da4dc78630926003abd742f34e4c6647c7ca66a9625e741d9b21f0763c43b27be558b80b92e1c8d514b60aa6c33c6a0fef064cc81ccabc798f9632c3428d4ca6f25fea0159480865328e536f6c86d731edf795f097a6c74b79bcc8de26fa8ed53736cc673d752dfcaed42040d78845de295f7b5270e1318636da73839ece0f3971c7799f47edd9fa7e46cf9d2d7e889e17f32d3f7baea4186bf4b2a641f8d4925d70c36d23fc425cc8167df1228315928b5577bc37837e243a207b40d47bb6a87d02770f40564e1e56d116adf98e4d40b1c7209354ce3879b9aadec9875c4230a7aa14ecfbb2a9b5fe1d9f53beae9a374544f30f4edd16b6dd5f8ca394dfa6bbb52462ed19db5ebf5fe18c4b2d004bf207a248b2d76ab525b6f0f0346397ef3487c1423fb8a0601cc6e01fa801aab64575533f3ebb733dd71eae3e7c0c79df6c722c6b2e4f8f68793773527d74eb3f03cafa68705fc3896a116a09237329511d0653c0eb4207741caf4d619bae31d01b50fa9021318cc9b440989bc15f7ab0d9c7bf6d43b24ca578c3ce001c321cac88cc95453e2fa87b878447f4902ed8f74c4cb46bc3f716af985975229a2812c8a6aed45888fae2d7f11adb1f93a1607d7854f81c7b337c4062e8a7b6dce9b33359fec56612f929697540296a19ae0d8cf6fe03bbe89ac94aa732f11f72b455514a9ffff6385d2bc8685e7f170c160352c6c94dc0866f0530f3b2ca431b1d039a52be80df552b116995b62fe8d1ab3f417f32efe43bde2563cbf758a05959dc4776086b900faf281993f927e1ede0c3fafad9b309824565995007b3478d66940b4120eeeac0908d3a6b62c4e25cc2774abddbc8c028952527b1015ba1650f59e4d6e9eb73dae8e8be5253fdebc391285070b09a5b8a964ef1861fc694bc0ade693de1b6071c3abe5f01f21d75f9b5aab3bda1cfb559a3239e594b7b21aa8776fa0df1f56caa5c138e3323ba24aff4cc206794abb6e6c7770489d0e4a33637eb0dc6a342b8810cb8c865282149a786a6db3a3b9ac55b95323ea3f9a81ad7668036b2b18c973666afb7a9053ffe0d09e6e6368ba0b91e72449da04f3f6e692a5f3756858fbc5a2ec63d4cc12b8361273335f65924f55e9aa02f39abb7d9315fc33463d5e39d74153d99c9fc45ed85c321eb4ec8891d1c0de7ae143418f7f602e6fc8290b413d707346aa5d38761a7aa3c9bfb965edd82024d50ee669539662c147f783e5615c2a66503b78b874a0e90aa2b8af9a167cf84676932ad5d6b13bdb5d94607fe9576eccb96fbad3e908a82ddb93432654dfc35d986edb3bbb511d15a289507d16be4967731d64fb7025731f5c2e704fea709fe89435f16a9f41150cb680553fcd0ccfa085c426a3833295ab3f4db4e3620bde78349bd550fbee7e95f251453ed3db02caf9c525dd93fcb96bf614ebedcc2b3bd10d001b9b0865b35b26a3d8b46e5a0843cd4f3043873838832500f460563daa92524de02231f998ab365670e5225b930160e933ee81b40fccc634fcd2b61beeedd2bead7d81c621e49b61b47a09cca738eeed52cda211adefac0a8df4bbabc10300d497e7d101c109b52ce17673f1edbca5d2b3c238b9af713adf915e838024ccd8f2717b79536145bace456bf68148fea6e95dd770301594603de8c7c880221e8fbc47b6c847ea5acc0feb1b5ae3228dc1d93ea34e8283225ea6ea7b5a271ef7a8c333c102655c1e009bc65adf0544bf43671fabf893e2caf24e98fc8d2d27621f856b0bf176afe437c2bd2631b5c5d221ce28ab464a0b6d33e4acda2940c9f899d235b9309fc227e9f7be91a76f455f3a9bbf21a0f9098f9678eb787370dc8e40648ee84980b7ad840b85810f9657d2efb0631b5339a00dc6cf08a5ba1d766029332f7141dbcc82f7fd2d738e37e7dd214465a2d22945013ed6766e34b9964c72b881f3573fd3b948514d4b55280018926b9c62cfe49438c3e6fa67477b95b8f7cd049276884b9e0be63cb52aeec3b0b6c9992eba48382811c993f52f23d016bc758376d43fe83fb317f8f3a8d5cf259ebc76027b3483754ebcf1c8f713c0623410b38d9c883e62183eb78e2fac2652ee7879fdffdb47f6b391fa8c24d6c0a3585e997c9649e2b2505ff1d7b48c48db1ad007f0d427c4182d5d75b4f0e9e1d6f5624d97fcda7fb773b344b63a35133d737c95f87a3a454fdf9cada6a39857db62b66f3bf5b450919aacfe6823ee77d295032141992aa33ebf3e374e4bf457864978aa9a2aa839b6f7be53937641d52866538b5403bcfbca614ac0865a8486134291af90c01ad5ec06c5a888d324bdebff182790d7f865a2cd578d73f1cde3d1db291ec6f85e85986632626ecd089512ffcc834d837ff945a1514d8d39bfd25b6c964c9b7892bf7d7ad387d49f61b58eab4098081d180cb0721d0a7479baa4dcdd1f0154eda4cd3d74546df88b78bc4b0f10d1fb21cd61dc768bbb205567b78c565564c0e2898e52102faed38aba851a5b3f270a96a5cce080b67e9fba23cce1a7a7f9edc4ca7116c446caec48adfba19b17656f29a3c7632bef960c07c18df56ee2a2a0890e46fe235df7f8192c767a65f90155cb2987934b493ea5cf59cc9b0680e1fccb1a5e305076f76c46c57055590b94906e615fb6ab77e1470afe3103a2257d8db1964a5a9ba93a87cfb8020bcae0797ec0471e2992f9f40acafb1212c27ec74d9de39d0463fe23bf127f0158cb54f6dd10697f1c7785a470e4005f75e64c192de0ef0a851356f7bea71de7d8f9ac6df8d4c719aa2a57069db03809be23e9ce322827a175bd557cdeeeff6ad1d76ee3fb1e041916eb52dacdb359f89af6e6c127e6c8ee872f6adcffd1d4b541688cfef5ef0b353b368bbed4e02d09444ebbcd8a76f211300d922c838b3c9da14b0c74217f55d54f229e19d0a63f1ce59dc615c6d7fa94ddc192f3162fc6602a08a7381631b65b190c52f65bf9400f531773227e45b96e65d587666da8fd8687d0158adacb43dd0ba393b577e742b274e5bfaf5a15a1cac06ed9c8966c4e867506e9a660b4a8e137dd6d95e6b3b61b2b45db66d25b84a52e7269eca7d1e9c7205405c467bd0aa7f99a5849971cdea5c98c2db73162d68bff9a57a0d20b326618a0e9c47954bdc6fb9a3b81183ca22b0706c48ea5c60c09818ff5e96f28354fca37fd7b45f9c688c99a660b26034a45d3de397373d1e600da36c030cf636a858c3b3e62ef61e7e19988e8c74dd1c9eabe18293d3b877d512df269e29b92d076d8c5045bc0f5ad7c805c16cd9cc61c76bf79813cdffa527cd9da55d2ff5f1429ba70f48c5cc29a725aeb398e1fd914ce493fb833edd2494b0b8ceafc994d8ffbca9d5ebbe23f5b0b43f52d4076519737fb9eaf5c4066f43e4bc656155632d82eeeaacb5ef11fbc0dc0dfa2354a84d3bb83f3d1fc1735c7e64bbaed29eafb74f6e846b6d03312313e7284ceedc209d2653a38393e0abe2d4c4b0d5b0baa7e00ce758239d5c6da40f714d491b4f09ff60bcefa8ad4a02774466be1e8d102e256863a9446f1db54cdd752de46e59769e52efe642bc1aae15e73e0d8bce04acd526cc99c7d1460af5bb4ced918bfa57c84615ce04c148a0ab2e93c7b2361c04688ef20fc53e0c9cf0e2dd875ecde24e5d49a0367cdfe177dcbc9568e356bc16fab4c908ccd82ad3340c96ac050031316e4b78ac64ad67bf55e22857d757104ba2daeaca24755eda26e7b149a9bbefa27c0043993c991ed9088c593a77ed653057eac9d6253c3cc50550cc5ff72b3cf8148a3cc1b6d66575583bd158f4ef18aee5f0a27967bdfade65ece1d33223b9a8f4b96e80a354041bb46bb3eaef57e296e4c5a246c61eacbd12b62d9fb5a7ee5035a41a4ca0f79545b94f660b9f65e0e9219ca29db5f6ae9f1f79a5e6cee5db7c4560c80a5dbe2a96571e022472fe6546abf6c2e71813624d1ec210f49e439897a4c48f14885e475e771f88076c2d1d51ba1e938f98bf2ede8cf0071b132a0ea522a778912b49aa12810ef55360e615cb98f060ab5074d73e3ac1bf809e2828ace74aa2a0cd9494cd4050151ca47d08c34c10aea5253ad8a83c6091254dc956cd8a53a34d0433b4df9b897fb6fd0b2f95dd65944a5645247be9dc93edd8bebdfd675f5bd8e61c642fedb1390567ebd19ba5b002680eef9b72988ffebc84606eb75cf2cb6c35c9bfc9b37b454013d7eb0ccc1fb51cb118069ffd04d78819f66b24c1b65a38262f6d2c2355d723d3ee5add20a49cc8e2040a866b56f32425cd0b17438370ca49bbaf314c9e780d1ec7641f75f3ad8fc2be2a369deff1578bce37f53b051b381fa9e0b24e34989e946880d9addc7aeaa7f9a4e107421eb196ffdcf5fca649bf553891c4545e5d97ee90f4d1c2a21bf56b57f9be373046a42241d8883f3dc48d331ad9e109a124f4b2c8760aec543818e59d49595d9f9bb4bb184737d29de074e98ae6b86b4705caeaeb5856ef4333ea575650a2c3a7dff9e9ffc39e76ea53c56a9e6787df571b92c6716f88941869b95403015d461fc00aead175a0b7607cbf042344c510ee3d5b8a7f049d72ec5c909a8aada76576f032737290c91e7b254d39079e5c841208402032ebccf0456f1dae6913dce91fd4df621583275087f7add099c4860e8e8475d2480d29afe624ddca62132f6b408466bde7370443d28813eb322b8af12eff00ffb622856829639ab7cba66912279e87bf7beec91e5792510fd1ce2dde911cddf21161c5f5676572fb5766d0113d25b1cc98ffe91b006734b9af9e963427f4798a8d22671e79e5ef2367017d489212800fe17ed4d9513e4b41070db39eb2de84461000f803e747e13b76320fd902d3d0fb132d46085d1a5307a5977c0c3af1a89130aaa9872ea03fc29865a846f4991fae2c170dc5b218cfe004d3a1b0c28c1dbabeb049d8831d935a3edfaec5805f67608f3f493d62f06b9aaf8a488ec52f2ac73bbc64966a0b0956360912cf175c7d5a00afec0d8db28a00170c4891d8f8f8def57c46ec94991c989ec3ee5a63005d22e6a22334d6ab0d71a423c9ba34baa92d75e72a7a6362a403368d8a2f67a592a8e36aff7e4897f0c35f409cccac9a71998845929de1e69b8e47aa551f002d8964270ba5ab7a9d8571a82189e3b1c16b8016198f42e25d35735bd88629e18fa59292ee76cc4effacc272bb504769ec7db07b65a7faad07b9c72ed7a79a6228d8372fe0dc21f33bb3e920c4c1bb1c874363d85f3f41e6ec8b7afb56097b51f2a0a48054fbb572a30cc54c0f439bec2f8efb9d0a21f7ba123c73f3cf1e1165b8ce03059a6e666bb74d0b77ea7b21fb3ef831058f74939c9b86aac8ece9c1611be5d6b99b1325f0375ca972764d8adcb6e6db3a2f0180b090465830e6c3b3ed8e3e148e58bcabd6e79b9dc973fbb439c82ffe8ddb028f1c4c0a5f841e2387a48d14d9c9e3e04ba22d6281c4bc628ea0fa21a66853ad50a6bce183f3444f7b4ae9f59afa4b4dfce6cf00546f63e2170caab0e21d9e518065edc35da1cd5815bfcc4c5706a76704814c30f924b180425a2eee931a5324dd56ca29a0c432936c7bafb69eb37720f860f48007efa0ea1c5209326300d1b04eb190814f3bf88f6240cc94e5a4ee2f2e31e144b061e9e72ae2064a1bf62b0bf7c08841e902670d7a7804274535bfd5b8a54de8044c341e071377da24b51d6fd143d911c06f172920a1fd1c549cc85a76405458bbf035668ff01f56a0482f191dec1693a028c26d7bac31029d70e444d1abf90bc9b798c1b4c7e749d912f85ec84e8868656972d0f876d21f26eff30d2dea074a082d2da2ea69c11fd9ec91612418045a6f05b105d61aa732d8a06c83ba6280b9e98da1d643cb9af8d13a0113d045f6537935bc22058ca1b4ac9234f2a104f177dd0cc14a3cf94f35a0e299aea8b470503f056f424f721987fdf72bd0abe1644896956c48f2215a4c7132b08a1d2160653f2537488eaebadb906e73f1ee1c1f35d90ed3a607a724476d1e13ce8998edc489a6f6b617c291447a0e5989fc7ef9cfaa0e325d202981c01dda05808015e01e6fd16f047d16f96859c0ed02966087393d745d6505f129bfe66a70cfff15ff23a8f8dc46f607d208e2a6d8416fca62d5f9a171cb46bfe3462152b445ecd5483f89c72094d2d9ae6c8858d6d9526049792005dae6b29d1968f1b23a7359613a03fdb8a416dc8c15aeec5361f7242b03290092718fdd4ec4a6e35ee6f9c9ebd2dcb1f1607d522012be42c6e1ba74a0f23fd90fb4a663597b21e3f1a842d45849acdba0f0694102c9452b50bcd3f5f596c194cc9214efc27ca85af242eb222f0cf2ca06f3552fe2cdd3df690c9fd90d194a82c081e735fde52b3ac6f134fe6a5ee0cb4997aba58ebd9b2e66a7935410fc98fff5a849790fc9ebca52ad600daf66ad645e2233029a16a2177c3415df8bc1b437f86f82fae6c6e67f6ad97891dcf800828b06d9b98c6bc6df8aa5ff2b7e7d3449a479ad4e63f3f7151e9b3d469c8feb55328495100c3a54255a6c767b019ae487be679e69e2ff81d14d53a6d53c2ca17993bb8420e76d840490d04c15d55cbb1e7f71214e6a0d5a108ee686e5ef4fedf2b8cdde4ec4f1a01e872e3bef81854ea23fe0648e9f62790f4e32eeb5cbc897edd7873ba85da5b5b8ee193686404c6cefbf6697fa3c45102fb15f7233bf91079efaad7b050d31ba5f3bf31fe934c3f4f8d6a75bc74a9cc9e18759c2c14edaeaf332c84bfba25191918780b366afadb5f967ea5fb9bffadff860519f27109123d1acdbf22d1f3911a06ee6a1ba384cf374edf730e7198c35759e2ac1f3878e6dedebd489812c12922d670c2ffc0fef1b94333b204e93cc8e7cb9c5150246867faa1d25fe4dbd1ac7ed4f543d06a77cc214f1d6c3d05af0831885c743778374cbc77b51e4940eac6856d536be244be070465e56ad8491337af64ec37e5bc86025c1ddd61f7956e4f2d29ed375d4e974f0def1cda223c7e780f8bb866dc4dd99e27774965193b724a2fd10a87dfdadaa6168e9bd500c8d8575b77a0dec6ddd173d82cd04bba2ba6db54a700640d0531007eaea116595fd24473986e2b94e7925d74d0f74ac2ec9fb962d6b24ceae4ecec936b3224f115b533c044297426bf55b9c5423aaa9dc8de2a7f3dba4fce33976da975d62e95f70fd8d6537358d3ccece23a1d076e4d3be39985a6cee8e7faab28109f14084b4391608adef214223dead939fa9329d0aaa41b4c43379f9f663ed679f071ae9f73dfa0b1baa151bd7e7d205c8725b4e872a6260688acfb979a8b8c10018412dbc086e9bac196e6626f21029a2843ffb72ef3fa8cb676520fd2aa8d5505a33f2efd2db5ff2bbd8585f81bd23d4a9768cae75b149aa18f269f61bbe7ce46f4c74b34f01f78f39e51b67154c2ec66750c5f0e6df476f67246fd6ed9aaf9416d635e0f2924dee6734faa34f4477b241abefc5ebb9bdf1389656ea75162b14cc9d831cc425214eb15d105717d4d7986b78984f1da683d40c68b42142ff5b180ea7fafffeb45512345e266030535575c3abc3c7029a6b0d0033a865c6b830d333ef569a650c4958dc6f0a333c91f1f9202b6108381b6787eec5d2ec236ff5cdb4b87ff2ed0feedc2459d95ee6ce5f6e366a45e67bb38ace3e3aa48e0dac2b673ef82c53c477e8d36c70dba10c838fdb17096f348c99c725c97da658bf095d270f063d67c808ce6f842242621d6089e95089a72a6018f80c851253c3522addb976c2fb4f49bc2e4de9e2fd0752469ac897712a4ac7d29fce9bab5de973a94d5da9bf727f007765e52848ae4bf7c4d494eff477b4b677e4269f96ee18c3a1f3094e31b5f859c608b5cb2184ad7d0bee6d4ce6fece4d7e3a1bb0e43895b1163612fb26330eccd5b5a84206f38bc2c58f2cb4c7db527899161adfcae20589ea8619a3b55ecc01c1b7700c57902caf4ad5d92146fa0cf973777ef9ee061a647d9c4ca7610c8b8d148dab8515d7256d282ca4eb99e2637cae660a814517f292db6ef9f65f941cfe60a9032073aa1b1117c71045affd929c7ba9949b9cb016028094cf38522d6e38c6274423dec1817fe3e8a0c1d169e5e57e2d8b42f1d32aed9a3c38fad8049e73c541865b06523a222d9808b0bc22ed9031d01cc6a84fbe033904ad9b43091098cc886aaa01aa32a9f9f56b8aa7a1b97b085fc9e3ea1cdb314c7f2bd4b9769b45c409311f8258cbaf72981ef165f4b3b3f792c9ffe47065a6d5f5d611b7d6674e609b23a83a4655368ed38055b6df359830d3ffb1894d132a730e20e1f572e910b43565252e518d4b30be32d6079ad90ed2004a553a81717c6ff27cdb7e26e3940095d51a3c26b5cd9917d0d548d3d0e5f09f150f70d34b4a4dad1a0d3da64acb80e412a3f787da4b6ddfe3e64e568d60c54809bb31270bea507ac95717e1799451e9fce12c09a3256e744ffadb52d111b140cd79b22b9385cc879a34d60f2f6a1756b36e187a57972d1177fac36893b07f45927980404db4b95342c8d95d2e4b90eaa94c81fb72ff4c1dae6fca833cdbd6f78f9ec2defa1bc8d0f4cf3f5e5bdc9c2d700dcb0e49edeec402b2707e2c27a67451234c9ad960ed3a9101d195d781b0b164c671b4d5443c01269d14c8a030f47b2b71b79b19dd5fedf6b0d812602eddae4ef793e83df4f29fe9c9cb6d15b9045746c1006ffd5a6c856bceb71d9da907f390f3f7ae1fb064e6bc7a1f1439cb60abb59f42d3dcbdc3c93d4a216355e37b2af9b52a5f52aef37c75492423b6cf6456fcb83ecf9e60d30a04719a931f4179df9c42da9719bad6e0193ae3a446a824bf3e530fb0352a37a344910c9f72bed4e6d0253d66d1c5990b361e7c0103f4496391d7e61e3e550a9217505ebfa4cd94206575453371cfe060b037ba8de049a2e7e8fd839692ed773a6a1e5c2b23d8bc65cc5018f6c1a8f3d576a8ff6873f59bce499b51295e7c84a07f6de75293557f1bf3a1b8eb3ff4cd1ca1aace8d52f5a68b0434a396fc15018113c3091a9bb6bff076cd63843b3c8ecd5cd572cb3fee362e35eaa68b98eb8ea3032dfdb9d4b278cdd9c343048d8121a32b9cb998047fc925907ae255cf5bf4b92f71f18b296739e217d9f7fb838654814a3b901879a514cb2d05fae22331ac7c2190923079d6f9f2fb2d0e9eb0b842eea52fd61203f9aa171b92c926e50b35a754c3ba93689651ca8f3d4225dd9ec14f70f30aaec9af7ad984d4b5b7a0d2399d43ed421425844cd5e51466927cd94c220165add410bc25f98a54e5b49db7e315b05155bb1d163b4605146465de3968769a30cb6b865083965cbd94e1b968f5159801f984d575c55cd5b885bb229ff19a7afef86e21beff61d932d862aa3caf46d52573dac084bd20a3b162843917402c08fa7c39ec02cc41b61ca1ae0c759aeb7e345cd4e3be69454ce3454bee8a2a5ff19639740f62c6ab149f7a76122739f335f14f011f8c426fe51d523dd4e07a4496e3692d448f442182797dc96cb3a650b4ae37afc54f51d8094c07dc7d152bda0eb3475565804bb6651f57a6fd36313b0074b8d79322acf34626387405521d1390ffa53441731b00e402e039af4c617af25616bd7cfd796bc84585347e02f0e80f5325f84e11b1525debec68b955b88a90e616ec48d56ce259403f4379147353c69181ec7754903594ded4b506052b225e229cca0708003bc157e93dbac4254485824afb8cf4594dd09664d973b13b08fb6d63c6507687f31f83a3140396b1a2b079531fef3e6a9e6bbf31cd610536fd16c2c038b39cc9d4c1b2457cae7f920d13f82fd1250dce31b89154c00f9c4d45251893077d0b0ca74c3b6dc0779638f8adc9b53da6f0e6d8f666aeea51594715568875d8dfd08d17f4ba15defd4816a7c364da62cf8c095b51103c3a9901a7dbe7791a05eabe5fded8c40b9544054a74ddd47cb23c342594196f4b5a478107e920538bfd309625f4110df5a38358f69c96b6b4d36339b6a0bf9f4c0fe18651edbf32fb1d830093b0986a87d622bd409ca280f40263ee628ddd5fcdd0a8388159c4e9e4833b563b61ca7db8c6a3497b519e84b2e1eb165cf7a310c980e6feff8c2d8d23cfcbff9acd3787212fbaaa6835423ed8d16a9c8621b967f100ed51fdf63f368d36848e8054ac6e4d02a3daf11e5777a11ae5d1bcab432eecbc03a7f2d30bfbcb7b357fb34bef7a666541bcd7c32c7d361a0b94051b534515e6f6a445b5d4eb508dde32ccc2143cb51328b710a1598797f8665cb00c1ec75a23552f7e65213af3c6f34e4ba809b653f0e87547e00f5ddb6be17430424a3dcb7cf4c51ecea36392886b2627ae11d37a708f937e00130643602483f6612f96721c51157e3bc365bbc8be5107088045dc24ca44c13b9d8afcfb5c78307e98f686e293d53fca86b6a128c3808d2785175c609f991f6c68febc97a24927d0e9d210af15eece9f960a3b2d1099fbf4f2a5e6f61b9911515195df4ea3d316743d4cf178c8d98259ef6aef5fdb3acccbc8ff147a0de080b6175f70df585066bc8d2a00a63c2768076641869ac89578fc2a6c52dd3067456b1d55779febb7feb140fb0118a35bee3111d9bb27cd52026c6a6d7b2d9702d1c02011acaf600e16695e43a7457eaeebd616d471e5a701251b92fc3ae15e0152258545ec59867482f39651769e366181137139c5f0e0f420bd2721affa740cbb07a47e01e653f2b2215c4191f2ed25d159092fe03e4a5fba7956798fefc874b44c8019e8c9cef04e9bcf9836981a6dd802a760270e010501cfa762583b855b67800b2fabdab9d0254fa2b1c3a0bfc90b219cf02e5f8be644bf3d739cb2887f6e3b5cecc078ce81490b564128cad7b0ab7167633eafdb3b57624de3a802f2563bf9bd5b175a74413504f44388d01c35adbbebc2feb65d86b80ad01d910b90ec9235d2a6a0fd54e7f00d42cd85f151cd4aa80bceedaea49522b206f69573babdfc9a9f23a3af99ebdca8eecdecc49e910a672f7a17d807f10d591f244e12495d4961aa1f012ab63052a5b7271b36deee68c43b79517137d3a377b0b29a64e77b56b424d03323338684a8340da136be58571d94dff3bbf5eddd9e20e9cb6d2b774af424dcccb65901b40c1673f77797121966a4610d75d78585ec580c21b27ef9e8c0065237922caf5b23b5e3c84040338b1bb90f6951bf40a96b6a2e6ee4a4be7764609019597b774303e4035a83cbd48508ab9619cc05d4fbc228a0dbe4ace075e8d9a05504be163718dcfdb8ce298170d0b52c18b9607ccd9097550e16fef81424f2c3205a80a39c0b47e339e9f6bf47ea0f6ca78f7d8aa2379ac117db62d0c0c80f5d98820eb78342c3fbce5e4432897e0f5f8c22e77d5130d16b4b049a860fb7d171db35dd0e218430e202b3a0a711eff2614db5a114018a2535ee3bfa7966d933c11d4f090f6f9e18fe2876f0a91ad44419a0430f2f848866b924a27cc5806b4d5f08a58db8ac780b104b5c8a8d13c6a7c8cecf4e9d4857d0a414c9913c516bdbb846fe1e636202a0ba9ef3fae19fa71197fbdd3afea8864150ab967d5064e8bfc2199b7e3a549804062dc11630cd85cb521fe7082ab67a9e295f1d0eadf992246130ea9b78fc6e958dc19e10c97b735fa4a145e1fa1b0a52370b55a8f904582356211c91aee6180b0f553daddc3f599eff8538191d18c8a6c1a7dd1d1dc99cb36778c4a1c7d09191375ddb634f248d4eae6b383b783b73bf36f8f715b0d29d9ce5aa2d3e56064fbfc3c9cb55fbd23ab3e80d31651e098ff42e0378fccd68974c97217d3a3f521e190338f1bf6074888d89c477f495dd790b450f494d5c1d9e298bc78b255480eebde8148190f74da4f93648a43b5985cfd2e19ae519cb92a0236934b39aa58ac688e20301e026137d2c81684435c6df5f19d4b7cf50001a6cc0b4d289ac7aa7159b44ebc4aeec0ec61d22d22a61e0e0d58624fc274c27110ed7f735ec8ff1b118be00a67f65ac040bfb5c4c9a7bd50c1d67b60ecab4ff193bdad0dcde181d90286261f283a4b5d6da493cbc617c43139756c5e2e2926f6f33435e20ea6f276e9214bd332f5c429c5dbd84bad8f9e31ca43a25d1d28a0598fb8b81a3c77cacdeb99e851e5962f6aa4930f6137eada88458b5c0f36e2c7583b7bd95b367b7b45fb323e047eaff0473f182d696c2ac9180d087c61a89b5bc8ea7e17cf876f608b82e3dbd7824e72ddb76c4335809dd1e325daacb9d65d81449ae007bf4440bd620a180dc2e5e9cd5373888ed5600917cfed693905f03965a773b0ebfafc9ed402445e7e4f13404848ff1cb1d1be971d87c18ccd89b2a17f266e45d1242b42271b4f050441c6765cda14d4d19c4819632b5b56d259bca15c4bbe38437910094d5a815e2c6af657afc3bdf30318856a34a6af9ce1d0e946d58b19b3643816100e8815953108962116b7d165dc1f9feb609427d1d0d37b3cfa2ecffdfff8bc07956807260c10262fa7950128af159cc0037a4283205d88c91575a6e04057b53f09e4ba125bbfbf4adf77a1df6b531821ab5f6fded441db43b21645a9422cd3b7459b0d9a761e62db95023294bcc6b50f857a126614abcbf794b4796d2cd2665fa105866455cc86bc1e7ada8e9b3b7bb28b4295a3043aa7a8aa8e436e183cb0c6f517a6e0c15738e4ff1aae66fa57070668ea27efdea46249524f4df3ce2553f0f84c9f5f2a0b791246ab4f6e212fd76cf6544088547d2d9d372788f6b40dd2502b9c8214f0ed2ca0eb14e2a401ee479dccfc02fda295603aab36addee6f0ec67ee2e7be2f71ab1a441696999503bf0486add98bac4b05d543842d9666c1d95ed9c7054eca1b817fc93a5d0e40cc975ff2760af31feaa895f55f106cadfa2331af3bc42e25360ddf8a7bcd2061395534b6976fc87357a1e87a1f885755c59a418faa28862ac1d7441d73ac47e426e1cac66f68b290534d0284d36721f9306708ec0ccf30412cc8d1eab8bc1094e39708df8147d62ff251418cce646f073ddef230474109f9a14a854b42756f4cce902df8697417fc5282d5b5c5d97a7cda7afe532bfdbcaca61219f0e1fe53fc0c6639691522881d5336e0bc561d9738c3edb5ef7900f8916b7f1595c56cbb32d7c1b21fa461c9845f6a7a70684267b84ca356b21a546f40c594ca7b4f5fa7c3e76cd2fe79e63e94c5b919aca860033a4e55b926e0a78cc2a9ac3fb5df4832c2cfb55cc000e429977f64f61a90a02b4ce2dc0f2949ae41b44103076e2276a687309341446fd90e842eb2c7f3247ec4dc3ecee27de1ecff43d2eb4dcc8fbbd354b29621388d64ef9b728a398d40f239ac8f86ff28e15b85eb6e6c5ba8d69d7d45b61bddcaafb4718719b3a6664df0a7d9445e6e97d6f63eb107cfc272bbec967b6f96aeadbbb1231c7ac4b3093422c1b538b4f6947e1290a161d02690e52d3e97bda60812cae98992e9f9e91ee285360abb9757f2b681bbf4a2d8009a532a573261d8c103e40679f034108e9477a958d9a9511892241247a8fb88a3bc03717aa89df561e588616cb8ea9c3f27e05773366b62e48e7d95a5cb2bbdf8fd38abbf59174c1719774ba5acea40861747ab08c75487ea0ea1f01e26fdcb7cfeec8b715472f28f88502dd1d64d7752c51fa074289cf74a57e5445eb36368bc4b4d82b026f6989168b501f796ce2fb1bf7914877e811f120ff14ccd5e31cf79c8594997c35105f46b9dba6244aa2e0fb1cac3475255be54e7d306ed4cf7ea7ce9952ab494029ffac0c1428a970fae4c3227b362cae02c4945bf26055807e4fb780af803f11ee95f16260212dd5a9ae34e8077325aded3f87c297904c9312fe44d4eabed648d39d07b141dbc8c189a79c629b95118df0c56466cc4b69e1093966e4501befd6fad7e2c6dade85078bd2cfc71049d8f6e901bf7e81aa0f75bb8bc036569c55cada1583acc1da2e170cb0e59967525e6468520c254eb6c8a623f0823e3c43194331277ca9d7872bfad9e0218b24a5be452079b00da3ba0aa367a4fe3fe1fcb5e50bd803a9efbb4784f53e45e62368adaec1cfe6e893d829d3eba3593046c55e579d4c89618dcdedf91b60572ce25b21922c8ed7e60e2c5ce903723d5e66fe93c68a3a178dfe469566fc598c66e1c93f46a6983c41c02cef77f1748a2361f83e30236b4a87fcf5de510d4491e767deffa952c648f4ea278693fbc23cb0d11692716473e4b1768171a5816cfe823f3d6bb192d4cd24afb14edd03d2ef10e7cfa738ed5952c92e062d1a61dea5ef03a2317ca3f29477ecfdb3bce72c601e8327755a861163def9161c15248fec7baca697001160c53ade936d68323d5d1283ecceeb566e81ec3d8820a20aa32a323337aaf5f47a0d5d72d1f3ad134072e2d9e613cb7a2fa88c0ce591a7ec16c2657e03a854ae41bb609b7d7ade7921a0f26c5daedd11f00ff1657d378930596f0879cf788520116d74975c45dc0c10a904751655f99a4aceb44f40e5cdd1cf5016a3668b4eaa165406552732b2d5c05af12142a5a643b5481492a6bf62d6292f26fbb5a6f7fb7a0db5e05f0a4fd5b7e4e7236cef7e8a3fe902820022966c3b3455ea35567f01b3a0ab195ce64cbaeb6cabf19e67d06173965d71edebf47a93d8fe16f9233f082a44795776034e83d3f50b088a58e9b90ae3d03ab145026c64f75996869e873063bf9a67c32868ea4616abccbe1fec35d59c33dbc5cfbc2ea94130411876e9dcc2cf1c3da5f9b0c4423a0e8f3468c1b73aa29b64210159ca58e462507d1fa3f15da7a1d35998318551767d63e9f3bd12f79a1291f8a1c871088716c9e11462d6566f75fdf17d76f624ee8e5ca300c56940f0ede28b0006911d442de6e5c97493d7322df8544b22dce97b0d9df555a977d50e3c86cf897a6709aaaef5c8ade0dac23321c129a92f2783809a66dc0acd3eb8f17b30178a420bf03611f7ed95c919fac121cd205f1cc25f8f8b70279c6b0a0ac88455f080defa5eadb5c50e5b323ee07f42ad1c6a7ed0b1af6fe8552d7c348a708ba20c6e1324bfd7dbe8fc483389b129951db98fe144c598b1f48baeef47c415ad222a3a71f649af64db824771006c10d445670b5df045c5cc134435ea48c949e977f864ea59595159e442f10b0bc27983f7ea93b71b43de7c98690c4e7e5bff869686f02a319fe9d8088fbc19806a07ddd996196dd86dd8608d71a266cae9fc248539854dd0839dcb901d497e2da8ad12617e4faa63058845993efd155ddcef621179c12b2038846516a7408c8c2b0a93632ebece80077e140c379157ec1f5d91d188905b1e25c96f92ccd3d9a3b24a90c114dd27e2e7a7e73e621ea68562fe0ddaf579d17cf74ef2fe808e80e5d03269dc32f2ef81fd566f8bf1177929b99cc23918e26c9eaf2ad76a03cef19bbd2b8ae3b31c37122cc254360fefba4cf528040f2f00e3ff13cbfbe90efe33084037df812c7a002b15e3369e64e41bc681d4dbf6ba091e5e62879249aa500e9b84c7e59968ca90197de22ba27a28e6f6769ef966109ab3584e5aaf619a69c73d5b8c118436fceb46df51d844a258c1cf66da67ade71c12f7ae52c4aa648d0441dca0ab026502a0c89d7fea70c4b96eb88ed6380e3f07fdd7e7efec1539c5d14e9663ace901ae94bddaf2e4721d820c92240a911dee20d97ca8a03988951f89f2b3f8cdc45b51bc5d99410658ec2e1292641b5b32ba431be86f49c14f2a6848920d062be91e0d71808e96641d32003fb8b5b7c7ff7552cc1d587c52343432a4b74ecb2967e345d1e4f989112547a49f5cc9f29317bae3cb12d1d7a9b6414a1a62fbbc64f03c83e4c02c1686884b7648f1ae1b72e1362dddf2470ed3e9b0d921884d7cd8f60dfecbc66043bab5c48acc1dd1f5aefffa99763e752b4c88bcbdbdd7cb499f871a77a32279332b6f6fdb2316bc458669678283e4b5930ed8b9da08acf1e2a1765bdc6171c8e714b89521cbdb551078df90b57b778378968d34a2c370f059a7ca88bed93645207edb77246829246019b81a65d6b5bef47267393f6b94fc85abad3b20e202dd8b96c1403690be2dfa8ba124abc245dd7a290a18cf897eef43f65422b34344e5cfdf70d87f24b8032f3b966a1ca5c5fa866a1dccf0a082ccea8c75585be5fc707e79220cdce567a85976b0d44e1dfcb39949595e43b08e1f4e97ae0a17f11c979bcf92068b15929d55d3b0f581299860e9148bb8a3e5f1ab58665633f5da3404676455375c82ed838c37f54983707d3a8e27bb80189bb8b13482d548a9eb8f34a7ee72e03082eca7f04209868725b995851f0363329d035179feeaacc5bfd950140d50a37572b7bbd721dad3cfd2f48928f05cee9f2a3f9f9edbe805b7c3845f29de643375bbd1fca8b86fdc619a71573cf522c3c754f898c04230fb74b1193f7c5aec54b902a550852570ca01f8a8d185d6348c7dd7681b3061680bf8f2eb200fed3266ae81db3df6da6577849a137447b59ea37e3c8b38cb0e98e8abe83d646fcbb192845e0c2c0df96d6054b5f666f6bd8b30a610778f56c88ae79dfce38287fd1e42655fe932a7882d68112a0606a8976645f86032984cb05dd8221b1f4ec3bbf3cfcb96c1a388a25e0e07bae9315b0c30d783cce9c5ed2db857a3920c1e4aa97bdfd4d44418b86c5697333b84fc61fbf095b606e4a57cb05a6f56e96f54e47ec242cf6a795182d2f55de1eaa9300d4485ef2fb9f852b5fe7d3d3890e9dae637e1a7b78dc4333f20af24852aa78ebaee351a82cc0798f7cbb22e472affafcd7ab044efb9c9c0ab336a07972c3510af3d508d3172557501c091422c8b4c4fdf484ba2adc4af583e5699d6399208eb2f92e8c657a33b0d4ca8c308341cb4eaea60f6f267e3ccf0c940ca8b47ecd713623a6e761577b3c11bc6fc6a536d457dcd946ef16eca6e5908159ba0e4dd2bb1e56cf417aff341f712f759c0576e2204d8cb3b4771aeb27440c41781a26c8821dd5be7c7ad2d8c3a6616412da01035bbfbd3bdf44ae605b7c4ec4ac2b6620ee4368b6e2e2b2e11acb6425524d471ecb498e6d7bc8e87834049a14b718b61e145cebdf57e49f2b214f61a65bdacac93b0a8ec7984fbaa95137f2f4bc5e347239912307fd33faef9b0df9e42f6daedd5dffc9edbea0f1f55ea25d0856f1e49587a78b1b6eb0d954e384548004468e2a8bdc24d446a92ba6253192bdcb50f0ad531d8a49fbabe33119a2de336003107a4b17ea210d25a75e23a4e1f1225b03a8305c4d6fdf23af12be53553e2c94ec20efeca83f6d5566004e8e25e88990e3ded90d899e2107a1a06f558e7ee1f3a9845c046475da0dc142e75b9a2d49b91e60d26d86536d542ecfe292b992e4e57543e07dbf8ee57a7b55d6a5c1fed0a20793d11cdc5fc8bdde07cc6bf79a7c54e95579cc38fc41b85f3e4564e9fa04f2c720780b868663fcdceec14c19dd92740ecc98eca1ec06175cd212156f75d1218ac24eefbd360dfd1ff8503f3fd201f2e5ca56d375cac13233a022ba27bfc8554449aa612c1429c5ad8bf2da257becaccdd457a02830540f6dd512c8bbb2f176bcf1dac957cab3e0c8eb490b6a1028b125d9fdd548cbb47407bf73410560cacf24548d8da68af9dba126ac2ea0e131326d163d2a7278132b258a8c252dc72d35b9e124df101ba547c8c534eeb33ec7a67f9a6801b02edd9c8c3706c18142a18d8efd6930bfd730a01a0c425667fc35ace24d7dc3ed777002bc852fe77a4b003292198a855645a60f35a5f4ecacedb92b1ce1e238d6c6cd8aa190ab323e67f9d5a84b8c52d971836cc087387cf70ead72a66693d5cd01cb812c001b9619469c9b8976ffe568d0f77d5a1a18d62686e4eccae7cc82396308f76e8f2d6120396270dc6e1791f645eb7c3c11875e1e3f40789ff039c2ed1586a3f5f643326a8588a7d03d35fb5042c6247801f62bc6d0dba45731dc9ec0cdc405ca565db62ce9ff16ec0768495c749e6050ca7d516d9c6c158448b253174fbb68289c513f046f730b72398c0f313341a3d3e6af9ce367fe5897f2027b0b8f669283eec5661246e3143c52db59e61713601260cc8f1d9ed7ea97cb5f8406a4db938d8ede3cd83e1d747892b5b15718faf1458512dcc85ead776cd7b293d34fd4c36394720c77a05373721bd4b752af3132947897c4a067e65ed278afa2092a16590607b7aedd5c20b15d268415fc99055cbb34f8c702bfe1ea304e1671e4ccc67ac69b53d1535ffd1100174d4d607dc6367229435345bce66ed8efababe687afc12f7e664e21a29ed51ca36d02a85ed05c87ca80d9ca180a217e040623b84ea08b213c1bf92c309f4c43d31aad241a6af79b6e76bfcf1e581b87895ce5ac23c58a62b7ae2a2ae406a3102b93269a73d586cb3a4d9ec9278a73f987241bf5adb9c0fd127ad85905b778a18c42f2ae7d1b34ada5af12a10d165a8f252eec732f4d4127c24ecbb29522e3baf3894da0b7634af87bf3e2c2d6711ac0ff30b6c9bdc8166e6c4eae53beb30c16ebc9b1149f70a8fbd1ea48210db86d570e43d4641e668295d287715490f26f93f8967a50c76ad14cf56bd296192b30f66cbe2c3b97267f53048337f6f1fae397dccac4fe1492cb755a3596e110b1feb20b0dd90f18c520a8050c7afc635366116afac5a3854b654038e204c21290d21a197b349db858c2f939420e829af9b87517ee68f597fd9e54d4a9bd2f9462c4b9b29b1b6d14d931eea1b8fa4cd73897ba6a9acc1e48be23a6af8598ea40db40be62b60ef5596913c5677c62fc1158a48fb8ef28772268b33254e44a669bb32da7dbb6f37702d7dd1d7f078c53a8c056a2b16d8dee27db74076f3a15956bed99001eaae32e2dabf1a17afbc48e441688a26ca0cad8824548830dc0b261bfada4f5d0c019d713ad4c613591c32d7dc7a07bedc40978b2b69aecc71c6b2a83bea1d70a57957ec8b9a93db5d163d260ac8bf378cddff3a767e72c63b32446c680ae742db4fd6c712e889465476414194d3c1839aaea928c433e62de7494af13113c1167eac2e9d210efbec773a0b298321c481e2de3345f6b76d695d14744a15f5bc2a011ac981ab10d724718efcdc5b8b2b4d7f1f51d9765a37ad77d7a7522ad62740cc4eadd27ef828311a87c4a6bdba3abca6833aa14937ef6095a9ccfd932d34fd473e6e1e0f83097740d41f1b9cf27034c4be73e639585cb9fc388b34cbae203b09f16c4ea530bc221b04d369d11c2fb8deb850dbbfc5058f347ab449bfa4900b7676ed126c23af2fe5d16516be76f24e258c44ba762745b59cd97cf2f62c78fd5ee8060a29bf8f01657246ac1a02431008ec8a129ae5027edd1005f86f35579523aa130cdf08caee0d29eb27f62fb4208247c044d633c4370d7869ff681ac6d54f6a792229b038ff6d3d738d48d2a7b538a1be0a1c54ee1db4600e4331e1b137fb0c17cc59d988f11e1789ebec108821ab7b875814978e373f2d404e210b146bb2bb9a7999985a1da815fcf7025ba288ce618c3eaf01a174ff593beb84ef0b2cb3d0b4aac397ccaed61dc7f496cffb21ab9b78a7e9ef9a4bceeaa8fdda493144f2d82e6398782e84a8e37f7b9fa7c614ac1746bd95c2990c5b3b9d9c7f9859ff7ed422067c76695e126ae04920744ad02d565b0a48859598d60e160a54e38c88cf6f7bd8553c38ddf22732c8189b1b7c295eb317583b744fa8178ea7d410b2f1ed29b9014c6dbb74f5d5e07f36125c822e383136405ab2c33a66e668ed0e35abc8b05d1e42f3dba568ddfa4621a785b3f1b8f5edd958e6f4a08281719545ff44d3a13ea1dfadd8cfd975433af9d45e4a452d1393a517660288d3d22dff74cbcfa6fb5a001eacf41e259578c108af643b4e8b1e65584e21aaf9bf82de4357398dd4246b06c21ae2cc2630ab96bd7bd6a4560b3f58aab2e034c3bf750b99306047ea5ca4e91fe7817700d136d938af146aaa3cc70c6a62c0b013bac910ee366596438bbf31eae3e4918d5063dff8fbb13a0a748a2767109ad31511bbb16a8e9639c461d8d5f292a42267abec564adf6f3a883a7d9902c03feaff25627d7e3f7343cce13cdf9c0f2db7a33de87b0c0be7c18ed08fc4098c40989211f468de8b0ba48af01a66e4c0db7376a652d736dd0929d51ca1a1eea39a5fa09aecae7026dc7bda5888022cb8ce51f724a59dedc056def893a48702cdebdfca3bf95afd501faaa4fe8650da90f1763a89025861a495e7af95586caf345f4adaae25402f25a1d2c8f6d3f707e4b641b2a57ac28cc61ec7c7fbdd275d17cc5df159f84c78330a1cdb4afed62db6bcaa6a513765a5422e3d33e8af36ed449617cfbbf8d66368aa67f021d03da7ebf7cc7ef1123ceece091abc8c494d7fd698c5866e8113cf98044550169da6a6178a6e8661e5e632ad110c39bdd8293032b5c9823ade2ce510d9c5b02d10a61e479a9c71cb5c6a03ef80841bb6cd7779eb3732f8855e7f347f295331707dd44d67b132d1ee47eb0a5a8dc26ba0f7a0c7c24191e6d7c2d1d19b76fc287c46b4561fed12c1fb31bce54d36c463a7a6a579c652c0e8b68d979c33409e3291b17c62e5bc2356c073cd7e9c886bc2c7fbabc46029020a1e8fd5d112d8e16605f60eaaf229516c1b8897058b4988515f454d2c87dc2799e08ecdfdc7ff16fcebcf607f17c8559807ef9444c22f4a499b7e50644e990e187ebeb61740ea75e2b07cc4271ca3c7b3533173146b37b2f090930157446bcb33cc7d3b55783ebeb7c6337c91dbdf5a77b89854e7a79518af9978154a5a809cb821db09b6b4e1f69bed5682b3b637e37ff47e092987246892ed0955ecec6110fd4cb44020957f7f61e87068fe02f7144af80c947bbd374f0ef5422941dadbe8788bbdc96cd81ba82f279050c63a5c155b3c9a5e46858dc8c35dfbf0a9f0a6d4d70bcb8f4b0a8737a0fb5e966b7040a576f7e5e10ac921f2fcc0f28495860fdc3c2a54468434855f8c025caee10fc4771fe30907b966de73ce758048e4d3bb9a888ff26662176cce9463deb2bfef97c51c9ab025879acde2399cf9c451bfd4391131727a68dcd98ce115e547d963db59dae728cfa7207e72b565382f4ad9de7e1594d0accf2a814c96cb59d975492c5b758e63e163126396fbecfa4855a76e2e572b4591343eca03c52b0f8f0af01e47a909ab6f0899e65db8ae7ae93fca0da9dcff343b09f9dee13f54167f5d6c8e38ecc8e9cf669d8c44cb4590c217997dd5f03c78701231de01273ca957a196c7aeaf5d8c9b92bab7ab16e60d405340df8caab58a2fb3f063f3453a5d90b1a85adaa824907004bbf449cd65be3214ad44931ead35e3f037a887908bbc71e47e416965d4b4be45541cd6dac6bef9386e0e68e19778c5ce9cf70d1a0bfcb1ba92d3ece0875a1d1a8bce8db8e833ab4cee9dda393663de10aecdf93d097055f4697c5ff255be066957302b280dc55697a3da5dd39fd0e4598ed93871360e98af2aa29c5a566b5b51e3b8e184874a60e4e832547acae017820c60cc7d5219964642c28e48ea11816f4c170262e12ebd3c2cb94b98269b75c8a2a25f6580a64578ca5723a631dc1555824a2b74497bf8aa7d1add6d16dcd3c749e00756a73916c6f38a7a5ca389748e2db53b626f892baec455e2eb2d59d86c80002b3db359b6253d32e2def218f0eb1e63a59f5e975bb2cd0ad464c339b58a2836365ef7acd1c90c2057dd4569f91c31a3ee0280334133f60fdf193b07209a772ad2ec754909305177b8ef91a89c827cbc4b66d3e8c50d67d0359f6f257ff78e4be69be4510ab991b659bd57024e914807639d9a0124777810f32bdd0a2da429367f5c2cff21392f7751e42e31e761da3f8873fd36768beb5a8ffbcb72866ee2d2a6e605f5ddc6d1f91b5bd0afbed98d41c85ceca33ae8ed93088dcaf06ee53d356d44544c49daa417baef1f3b762a69865c604514ffd17be87817cb639fe062d4050e7e83e2ea94d85b866d579496403464e8e4294b60c5a760f110f11d9da371fabc6ca92e253500a580ac0bc09f59bea7f16eaad0e9de25ee839b9497066cc32fbae28ea76f80d5054dcac331b11764e6b320c663c1ee691849f3006b2bfea3bf9c75739be3effe1058d612cc194f606b2f06b61e66a8facb40d96cd943f0f1e182bc5900a634b2f67c8c459045532b7eeaf0fb6630575453a00c3051bf522b0e1ddbe835f1b07692c4778989d601f0df0e2fa4ce156275cc0014012c842d689b39ddf22690c7c34322f56c361385e562e7d229399c37f4d5f9263f338574842be39c98b082a6fe8d25bcba3589a90e6137bafb4fe142c654cc99892131778b54f48940c00ffddffbecfee9a4a6869d6a4750fbc92f1d6116c91b6364dcc4395d95af2676f2937df9c8e47b65eef21c0745807c5f968fd7da1db1317220634cc1beb3093e870a24f0c237722ed26a5fa41e6732edf036bdbc59260de00283bbe8847f594e45edf7ae36318bad34284d86c6ae9f03b0d0415fed9901562b66faac6fb2c80d933874e8e3354390aaf5c16078272680ec34e98fbfc62a1dcec8c83e75b43ed7ef598aac5dc9529ea94454d725700688e8a3261c1666ecadd2338795a3df7f08584383c8c97143e9a797555a376dda733be63217100819be68e0c3643970d1b680d2b6ef4e7b0044feb8cb22457bae40e193d67c66d539de35357b944a0ccabdbb49bff0257b3a9d05bfb7181b3c219a539c9ac6639979edf60df6d20a0399bca3e709b22d74500eb928ce12626c4f89eb8c0770a5870763bf56f31c9164bee8abd26d4244f6497462ad800d550c68cf476d19d25da3ecd73f19adc516958f083aa1fd3ba6b065ba0bf6ae27d21e21867bc7a9f6115ff7b07574c23d012d9041bbd915a74a1c4952f03575a9b00b3200b6aff409ddc192c2b6fbba41404b29bc3b77976d9519a4e1527dcc70f33e55facb888c44f8bd65e799d039dc8561e4cb08996e9ca861ea674bb255b160f93a3c818574a71080323b0a1e9e7299f1d8f37ae9496dbf1f4a925bf2ae70a796b1bc940645c9ffd2a4657129a02b78100ff1a27d21a56fa94bdea462c2bbde987fff57a325d83d73949b257180a8d889388729adbf2d6641c06d28b7b20b947835dc10acf877c430fcba39a70248a1a83485ea3d7cf520fbe954e9c1f121c2ac3b5ff98b39e5d3186362a9bfb9a3c75e18af947bd49ea23032a9b957990d907901fc2fa0d64a22be245d005483852e992a2b4a2f810ac761a94fb9fe9bf4b1261c3f6a0e169b589f2a47d0d1a109da2481f51728540a5657444e5bda24f3681db4e0f7b0f68c3051a2e92726c51c886da05ef80f393db58fa718eb16ee8ac8ae62ea6b1a20a9ab9e58fd3514ca9aaa8962f052d96266d54eb85b72b1279ad02894d1978a1b76d1502aa35b840c99542f13d6dd5cb2e3b1af381ad6493d0ab53a2a5d85cec64ab167a2996aeed3dae097eed62f5ff9404ba8c3b79765f7bc1672947ebf63c6ea14c1812b12b7dff0a7c8dd8ae1ac347ce22750c34b93b5343e7aa6567ec13db875faeaa13e208c6b5eea7d8b4a48774371348d1fb597f88dc6e8a17e5c5434dd0bde9ab947679b1023816782659c659e8ad8af3f1ae996927576394b50234156ba54cb677df86667bf0c73edb89346730f6ddc60b4f07bc8bad929d4e44b53fd779b408b82fb84f014b77338f630e30df6b5551565d4e634bce3f6c811ad929af6b036b9304587000488fcdf47151e37ec8563e8fcecabaf031960b468b987ec1935150b0f323f926a5f51bb5e2d0e5f8526781c7816f33fea25be45b74f68e195ace55ae972fe72964fb9e2f1f61a4e1b25fa336eba67b2833f29b80b9bf7fdebff7d3d4a55d24c05670a1a2f9812eb1b817422fc372d42a99109abf39ff6760f84433d2734a920b1ac77fa0e068931d5ea5eeaae9b16243ef8ee7c398017287876b720eb7e82a2eddaa9d330788fc41541ef5a50fbe4f920180e18f645511658af21029823fed5ce322a3d8f8d86800135b209d5384086282c00cef49d22ed5bb199972478a4e5f15e640a8bc126a71dbc0ca234185dedb44fd9d6d722e3ffe76c00fdf450959c36b2af5c394f88b53f5edea0034346065cc85395d98e851a77399ab95200ae4f408ab9ed13ec8485a960da78bac7d6d1a3f5fc755cb8f0c29ece9d826dd65628973191ed35042a5c4b1362ef247b8289e05d090edd8b11546e5e19d2c38c5f34bf881ff4201fbbe481b73ac4e5b2f6c9dd2d2bcb11428f91c157cee10e4eee4c7b639f861dd0aa3928f005017cfad78d0235c4a1c528030a8c76102e52c897c0777a9d974e65e2aa417ec794f7a9969398b7cc7ff10a9119d4ec415064e5f638ff22742b919838d2cc687fabf687a5d7ddcd0fdc25d25b5e441fa1972cd34282fa3dc78950b3e49798375f787d32055bfa7051dc772616b5ba6b79b479a91e7f0524ad4f6a56bb92c28a0aba4d71019afcd0f67348994f009d7c559cf452f38726474f07142480e3d0d9a7e2c2106f5a57af1ac82391e36277023372c624a40f723503009a58e38945d8c81182b09fb1651c3c4c2c6a71be2ec13fb284d35ae0333883f93c00632d65c33a11a6ffe5b07dc4e3f859a342940c2b5173df8c51acd11f96f84babfa869b58cc8fbf648fb5a0ef7c221daaa315fefa65aabf4f134c861612e557c17a8e13ca4f4b646080c9f4e1a6f6c3f0baf5d1f7f1597b83175dc915bc7eae41b0ef754024c4e309ac3f67c9dbb5d643e89151c6d42a9a6070b40c547c33ee96dcfeb2cd5e91f335d8f3536b4c86e0ecabb00d7ab89c13335a0393398785776635175775a3980b22b4587b2993fcc1b67db7d82789bf05e64011a11d9dace35c9d866b3f65bcb6232f6e9c1378a6239e35da8d2b18ad999ab1ef3aa01dd84b63191cef7edb272de9ed9316848ab0937750718b6fbdcb0c688a8cbb377783868e69855f59549bd3e14f13787b1d7396eb2ea0e8a7006d2bee3574bc6d7412de7a0cac3e8de50999d1707534f23c11700288608db4471dabd4de5bb50a5d173206a6d40788870257c826674b6dac39d3ea3c63432e30d2510b5e077998067519c961f25359fc29e81531ec9cbbd794c564db4ca142250ed998a0f64e821243c62af64d1c066e1a16644dfd6429c999e467fcf2279f286d552c3d0cde8b818301848a4eec9c67ea6d750bdf1246858f2ad4293aae4f47ac97f5c9e33de19dcb680e15c8db991e6019ec818341df30753f85b52f6296e1f3aef3871472c0c3fe07a9a47b6b8515cbfee3ee330ba09935a39a5249b9ff586b67ba0d9220d95429808c0f58d675954d914f8a3bc87f2dadfe5d54f7742ae8287d3fd34e133623ebcc8261039be78c9226cbb84a9b3f7393052bc5405d7c8da6c735ed181d8971011429a3558e2ec3d0043b2ba4e12a660a3a25b47dcd95e59275e29ed3b2806710a3b3dfa67ed0c4a6c7507bfeb722937f9e8459801baffc05070792f87bc8bb3a76b11befb78b89347b8c3171325483f5dbca8f6e357ad191f1d5e4a220e5513d4dc3f97404b02af98a5aaff6eac2786ae256f1d4bf78194ecadd41efdaf1d1303203c830eea950f6a942f519139c63d4f066fa76830e5f2ae1112c50a4c1b4a25adc9671c9b6d58aded558e5b64f6bc83e92d79e6ebd74d99c2a6437e129fe6020f9a6a023c1a66eb0980955a092f6898fd659e441baef3913b09c7bb5fdd4317366b3b36df8a1cb6c4a4efdd2d4f887201191c8f9ca273465777208b082b12630c9104c36a1f867dd46687c60e38d92f2e880759656488b2fcd71935c39eaea4ccab069cc9e51301b74185af9a9df4a5247ad73d164de90e578e3c3b5402955c9f04d60cb59c0182ff24e921ba05ce32c601013a1dc3f10ba8f89be05fbf22ffe514336f24f33dd939253f11c7afcc32d929e0c1354a4042d4a1df2e57a7c63338b691e145f5bd89c8cdb0be058b46b61355c9076baa17193eb75f6c533b3c70fe9a4cc9501922b465c23ffbd7504cd4fdf75957a65f5e8be9ea32636419da1188044c530680949bbae14330518aa482cd199c79b268b5ca7c6b503556e0b24ea4b31959f0bf0be1b64b88f20e610d37601871a0e8ce71d4a34890d6181c453cc916a6eea8e675fc31e9774cb6497952f8d473b390496f1e2f2b88090d10c460a1f32492366a4098ac46477863144fd7cdf953ee8840458ec6fcca120a09198b9a94ed3f6dbed94d0864ea44af08e76c3865d2c8b1ec83009f20175ec608621bf710831039ce1ded3a8b779e0972935ad9ee42c56fcbb1dfb851419b8087363dadea93807c1eca92ca0c615b60d4a44ce839eaa4ecffd09afc43ff2d2fce1a75be161555cbbec403a2d03ac15aa8abb948be497fd69dc62d34b9d6783190d8c3b834c09484a4afc6b72c1f4b6615b7654d18b2381c639c32c9cecb93dcf037f980648a2496d7ad09651e82c74374c6ac654c40d11c1af8396b634ecc1d1252064878491d007ee73e676d14714a17b0d6f3d4d0f3a5e3ab1d039e2ec8df8a9b07ebc3e407bd60e18d8892caffbb4d5b82142212de48260258d36d3e34cd4d1fd05fbc8dac77070ccdeae75b640c8a4d7aab1308d2a3b2cfa680e59cacfb64958c52da083b3c0e2d2f8b3cdf2fdb9f97b861cb099693b4546e0c8a5f867279bfa9b5bf143b29ec83ba422fa5eb8a678a5ccc01fdbac92f3b23d32ca1ce1d5040c6b258b39dcfb539df819f05bb1c0e55cd264d523d5988e6ef3905a9659cc936574341c5aac56810f75a3f2de72a43efe6140624fbba93b23b54bb46c6d612931fede1db14897f519c8c645f2917412edc12fe4d7c5e0a0e1061a4a5e95797ac42d6be3c2c066731e8c14143dfb01cdac952ba7f7ac098c34bea6bf3463295bf3e345da229111db7d6c59c6c123314eb0c6da67225aaed833b4b7433d2f32d4dd8d58e71233e8fdeabaf0d265f7150300ddd74a33f2014d3feff842ad3b183f359a538b1ed83522e749c19557112a583dbe4755196e485e8aa1ca69f8f4989d4b4a8983d99836281e9f3d660ac48f85078a5c39ac30836ecf771ba2c980d81724c76740704b6dcae96de799c34dab826fc8d81e5dc05ae06ecd3b863aa8ab4a399c6da7dbfebfd00e0c5250133ab0232bbeecf6562b1db42971aaa9137ad4681dc7d988406c6badc695d9af1a3c6cc31ff43bd8f079a70f0c481a7b16bbee900d9ec5f2436afabc63df19077c08d87b45f371ee9f2005670decc2c63e2f30423a945a9d8c56416605cd727274447b9bb561152f32e26d8e44db11a56ec2265c8e87898e2eab8b8389da2c9758f1bd2022190e9c2754679cea56dd20c698a8e82e7b0ea38e87dda46e1eaba2ec8acd6946839579f60b138001e38bf3401ea7b4434c30ce520f738b603cb81017df4939b107a5ce655e0317d624e56c9de85be22fb08b93f61cd13c527ee489b56d6416dc05560774f37a190d098b0bf35db9af0935954b050eedb77af0cac4c607941870cf27c56c80d7d038fdf3e9aa588521a1c3728b41b127edfd2211f20b48601b29e2386ff358b35b2bf7c7da7e134cc5cf3e00119ace98798fc4ba6aa20f462803ce736f52342703d833c911e417441a1ce2d603a4fc8251b98c4d522f02f1ad8a308ea08e86ab0015d865a83285dee8fb9079ad775cd5bea7d7f845363161b683c4ab9e4182760764bd0cb8d83667f855c8c868080d5d87b401496081a355717e472e3e6b7a3eac14878bae19b1e9a326bd5c0a2e700eda0146c67c079d5cd203930da9555fb61e2c2c863d250d2abc6a0018afd8615e472f049a655c80848e3b7e15a652cd222f384cf0b1b87dec7388610c8d35c3ac7be455e0dc1f199e4734e5d7f0e8d711804a885d75eeec772a8c4535d66bed52760b124c79bc349b74625fa8539698d491588cda5e86fe9e92206f4469e695d37f74a920018fb19f32335c269eaad93ea27156d11c89494b27156c60fab7c93794287809eb50c1bde591335c706de1260d140f2f3834d5014f4b191154d804c773769184fc5f22ca63e7ca50cd6c98789b7932e007573277c18ca1750c02279cb8b99449eacc861f408c3b0dc86728e66aa7d57b474f082bc8fb7ca2e9b51b4b2d3fc3a7ac87b56818f682dcc06effc5327b04326f1f47902c1c08c0548613771bd6ef7f4e94062f4b2cb37a7eece071618bdaefa8f474ce0c0cfcebbf25822bd2c177bf7aff1917b7510b2e3254073e2c2bfb4f79c0f49cebe788c6e5ae13c5fd14a68d17dfac140b9010759e1e31f03ad2e127001af95f0478970a3ab2577139ba50c99c455f6f5e85d51f6d49e7121483842dee08718b344b95a3be1a09d0f9532c2828a7aac4bc7bad3639d2c3634d3f11b340a02b3e89356f4b0960da555471bbbcf4680e601999d6537789d8cf3759f13e647adf474c9f068bc24b8558319abf3a92cff1347ed2868eefd59725e3aa4f5b360c779fff24d1e04baebeaa2e11077574f4283a7043757cb4e5aae81464e59301c9b562772b736a4d0d4674fe774a8d6c045654a43bd69e64534d1541533c0cd880c6d01035731486093eb7daae580261b2b31a71911f0ea70a00df2f04313dd928ef6abe64bd889d0c5ad98b026aa3b8e0cda61d3bfa62f8e005c1708248890f4e0a00a1883f4682d1d693efdad535662012053cfcc5be24138f1a387f66be13cbc4de5d6c9028c09698da07bef82ce400a4dceea179bb830487db524f3fa12b02defa68b9196af7c183f198eb4b006374e587bc5358e7ddd74c9003dd2f74c89fc266c783e8b83db43589217e2bf48ed9501504d662348b9cb226be48b632082f55302898f47072bceb2621cbf3c08a19cec1c284ae9dbc434149697dce710ea9450d9bd438f5b780068179e28f0ce2709cd98d6994a88fc2cc03669ab07447e829230153d810ed2c81dcfe3289b593c06df9fe4339fb1e1848b84065f870f445f9ba3b398607503a742e072d72fff43df06c4b7e98ec7660c38f6176b16d9a81de6ab97c79be3d858d177a07583f155aab3c7a9fcc99e89b82bdddbbf3a3c8388e4e3e9e4018d8a2149e7a31ad5bd768487005c73c8399feace9126285b7bbeae9e07b0490dc605b2cd573f4d22c1e1b518409ec9d46292f1f0117e23215f5f5cea62635dae7426f9e4637a971b1befd91ee1855ffaaec8c039c593b0866ed258eacd2da9bda783accf63ebfd3cd1a816cc90cbe66062f2f05bee010ac0bebe849f0c4352b82410e975729e3a30ab8487be2c401a2f8bf84e77538c24912368614b10267f90432b62fa8ce853de23896b7763c7d5f1294dfd05dae990d67b3d3779adafedfb182ac8e48eebd16fe74696d9aad62b0cb1492a48228c2510bfcd1193dc1233f21b279ce0cefe24605f28189d0def6a07e48d768698283563eb0bffe7db1e297e4c82caadb9873db506fe7ed5f6d5ecac65c21042e37605afd074ef21fbee122f300bef1783b4d2704c042c362edf80363270e503c7151ec370f7d7865086458346aff8cf3ced5b462382096a6d9371100c5d64d9cd2e663bb26e5c451fce5caa093c398625a70f36f242a214fceea669333547820b8d13ebdbc03fc440e7c655037954f43c8d6898ef14fc55f5305a25e0f124fa09045516d8bd5782221f7fe7323f9629a82f9464f8e11739cf3a0e82ce793017a1238570b1eb690ad09fa7a85e059a814fba8a61225c3b17880a4c8ae9f2dbdf5e46dbd687ea76fd0a69bf792e35f391609e51d02f9b62c312561ed3f8f176d5839be8355d236c86920258a786ddcd042ad4a0b66fc7be38a669b3df79511dce5d8f6f26919393cbb7aa09d88c856cc428906ab0ff8dd5e29956bf6dea7b73b47b7eb1eb90936551d2111ad03cb65f37dd44da75694527bc4e980f444f03202b9826315adf248f760868034e7a27b5b7264652e8fb00d4ab1125f77c4cdd06acd9aa4e99002469503859057049bbac4d480993f9decc7ce3aef58627ace9f03ebf34b6b75e8e01572244969c1d8a81a5c25fa7472b1f11d4a336f8957c4f28d3b953ca17c8311bf165ad8ff5c11b39aa6d7ab33ee5c4b21f0cb3b77bff457c39b7edfff22e45abfe043ae9f1673979fb48a751e5bd5608bc6b713f8b6772aef61d44d8fc4563eb6d506db95cd99ddeae4f3d8848ccb752061caba2b17d24dae8fc450a5b6e824ff5c230bab611e35c584eaed4a07a7de25d44bab916655bc594925ba93ea6352d66b680b07854370d36aac513d4cfed52fffd9f1474473f9bb83a6d6c1f21bea1a8647489454353e6ad8aa5b277e8c828d713a14e1ab512059a50567e5d7a8ad0fb030fe33fa47a1bf69a1ad252445afefa0be518098f9a943f02d364e586db6d5dd39ce047e9e89234a4c59fdda21ec87b81fa252803d2c825b617cc733eb3e633427f7d0541d9f9afd8723bcd72b17e2085de721378c0668b326ae80bec0d31ccba5e010d2fe366a5e1cce0e2530c38b1c3cf6744aefb81734f88557209d51e11e992becf7ba199d2af2cb4a002e53d0490ee470bab074446d5d8ed96c7eb082a9c174cb58190c67c589070833d1884399cc02d9d66b14f78c50885199c42d2e7f2d4fc0254b9bf4a8d9fe1f93d3940b0fe92a440d229876470bc35dde9d9c0f5b1f72fac288e81377a3444d10640c16a8a16d87647fb89971d04d49842ef06ab8b7c2b628e89eca32e9a037e5893b0c662614838815463e0a8b23da5b97948fdbcc6d2eefb2abf4534b64cd647eaa3031905e47e26b038930442c674f60704fcb6ec9dec3c40edd1498b980918a40954b65506ddc088997c985731bf4bab322f2ac3dfddfa49cf25f1b1d19d1da883ed1c392f934f03b030762c6775025e82f1cdef0775e19ef9dbed2a5c5271a690f79490bf2fe7b389108e808a7e4743b7130cb85d195925294c9fc6d4d45868ae807844cd1eac12ab26f48eb4a2873750c7826fa4f353eb34d1bdc47f72288d07202ebd833be15e62d7a78f5ac55ccc411755ceac4168970af3b9bc062df1876300e1727c1f74aa0e4c3a4817e921ce9a3cc7760f73bb0926277a751286ecd976e52ba4a710ed5c311f159f96e4885df4b21cd1120c7cbb6745325d166d9828c0417412c3cbdf6385c4dda85ca42b286f78509993d539134b337943c84e5c6576f2075714e7ab6c35cfe012002ee014ab022fea7e1fe488c9ad3d069e3e240ef5421a49a68c8e32ab19580c6e87df03e8dbd55409e30fe66338a8d6a597fb2333e5870e28687e7e87abe51e5e4e0e1fe0567e85c22a1f583809dd7cd7b075dc2f61a907c846448ebf4737f489974f8092336def2dfe645c1334e8c1589c3e138a926e6dca295fa6d67082adca33e440b04c25b5873f0788f5216d2e7d97316df62ce83e9ef7ead267cb3dfd3cc8bc1665e493d7da1c7453ea6f728b240ec9dfc070f5a04799496d2f895537be3b7c3e344ae5cb2bfddafa81358b6803a104ea4b6b186e8cbdc2eff629ed8b8e1db4335a09296c55695db778f4518bebefadbc2ae520dd0aae7e7a23f82e89ad02742288bc3bb14fe10d65160c7dc3a55c0b6d0fd5b5797ee9825e7576ec23295f2322e16d0f5ed27914872395fa6c363ec68d57a46dc8724b4dfdccf54fcc467b076cc8b4fa683dffa8411f0477357942f0c471d3332fd833e3e57b4dce302b419428f24d58f6cec8784e83b1e418bce5d43df2924045c8f7749cc92ccea95a0040eb31eef5b43461361c50a97ee01fb26e4d25c696b48438f8fae7be6ee84c86b8327838cec4d968c6e31499b9b40ee0c64aac95c28d7189f862097eca5cc203a4ed42cfae391bc69975649e3890e21912b581e258fefbd301b624244ba3842943882344ca611f93440f303d1e6792271b2c7a061ea6bfdfc61a3a57c0f8907340bec6f85983f62e16ef0bfffb3437ad5877138ed32a081b8cb77ea558c58695b265d742fef6b9fffc9dd5f1203e07831fb36a8f913ba101051f80605e8a5e0d15ef87ecaec1f16e9751626a2346e78aff141f386b76e7e6aa6f49104e533fceed1a7a247d2a08e9af06fde9a0c8e6b12a7d102bbb24a37837fe3b832d411ca0cd19ffbe76641ddc162ac392445ff8495b2b1bb7597023d449e61d60175e662e4092274490ba18d3c10d626f70c85c4ea0dec92f739f875b427619a82b213dbaac8f41ca5c8c18e44fc74982ead87852cbbcc5ad766718077fe2a1515af89f84005d4ee31d897a9fd7d03464f9374cc62f148a836a4234f06bc0f23c736a68310e9ce3905cc9dd6b6fdfc9aecd68d66938d6b69bb42d94abfea8733a45d47fd058c97398fcae6922181dd01549d8d05ece272a05a20183365acba769b3619038228bfc5a73e4a1e76ec5ef946c2498a31bd2d1e4df7d5758553cb752771cb11db4c000083aecaddbb180bcafc449f36aedca7739a053f67ec7ec2b6e63f7c7fbbf819cf68614630a0db45284070335e74ffb10a58b187d1d8a0b94101633483fcc0466d6f0945f83190fb04bcade34b236e72c396db45f2a469da8bc98dd8a408866f6ac96415f5fbf437af3f4d5943c7f5c4215340fbd8249066b9f6cb34085a252957f5a1ce5e4d15c64386ebb029180cfd71286b88ebc30c3111e051fce7547b2ba92d5a07fe82495394930e8d1a3fe7f77687007a972a4e1f9f3d80b146b176b3df4ad799319338e78fc2ba2f4796d89d6af491fef8586762d94cbed2080fc02870378eb3b1f6434b4e9cc4cdf361d992fc2abb8ea511c1d15639fca1554e45c171d1b7b9d9d2441596da831085f9cef700bc23c6709b29d7de4de8f8a34547acd3978de4f602b2e389f01026cb9238f0fead81015c40d1a28b7b281b2b00298eb512d4ad00d4088ca4cda6f92faf86a782d1e14c13d8b213ed58f0d5ac87e15d575622f720532a0f924ae006d191f433a31a26f971a2f846fa3f74545c009ba9eb194679cf42a8a10ca9e319e95835df7afa6dbe1e71505dce2241949971de34cf708a8ab80b5b662f682e5394d0425e312c664c18b44eda1e6d0810effa3dd9732b9c2c885fb4c0f1d949786354fb0203a26fdbf972c4052a750793e740b45f0830364c15a7542a1330d6dd09f77b57c29b35707844d02ad749f26fbc83814c1151445c2ed74aafd5148a9c02ace47127ef02bd22ff99facf574ad522e0fd2693a40dd7b033458186a420d324c2c4ed76ed352d0589bca754e4f374408d5ea0c346cf3433266797f8426cf90aec67b36c1966ca2180a91155a902752e23ec524062b186ca9b018a2a34c527fcc7b5c2c6a059190545a1e0805dc1a8cb8732eba611955ea60f04c38daafa00a484ea8eeb65e0cf97f6c198a3c4a1755fa5ebc9c0d00e4315ff12c79f0fc11d0861fe6d9254ef195c29675a86c18739068819a4cbc47a2082b512ecb727625dacb9b14b4a24fb6dea6c8714fe2df0ee0e5b30c41f40ab8402b772433fc71775b5884f7efa258c31359e4d288d2dc5a97e5669f8889e86ad499521769ddf2db34881b4ed97e7b6fad543629ac55e10beab9eab01b626aaa1b353275129a3beb5ce7d0384c8edfbc22a4cf3aa780c8bf97181fc01214da90295ef37c416c23f5f3c89425daf62a0aed3e5824cfc4a6373bf99fe27d24f9c38955e0fa0f291ab2aeb36467d9f44ccab73a408135094096960c76ff2b0c559b35e9a0d8a271fa15fd5defbcb61cc627dbdd5e183083c74db2ce5725a3324fe577a49bad3dfe185a1b839078f083e1baee5e90a509238d0edefd140c0fde3017cc5528dad2e9066267c43bd09f19353766200ba97b4e260704393425c56e95d0b5343f487d32c9770b6a47c1e2a59392dc56de6d48a09a81b208fb464545c5d19f083fdb779079f491fb22568321e64e77b92eb774e76105551a8b9b8eda3c2433a84f943cffc4e1a09ad81067ca7b74bac9354771d1f89b11aa340631a3824e08c2f799b584bf6561c737a06b32ca561e9bf5fd8cb708d33c56c2724e98c1f83073e0509164c454c1fa3b07bb7608c9f0833ea9936b628984e257b90887533f417bc5c95bfb0178323d75d93d7f88bf94228029741ab968c2dab88cadb59e9d37573d619aba5e89ea829fd7fd4a9ada0884144d9dc41b5bd058c7a177cfd013f981fbb3e5946e587cfbc6c96d04762a76c65148ca1b5a173d78ff5777de8099185cc72a9b17e049e90ea883553d10daa3011e437f960883368c9e6e3809442ae01a1fe446cdc0d81e0301b9bffefc23a13a7cc70264379ac83827466cf9647581b00a2674583f34bbfa43b854d877f87331070a3a568d3279bfd58c1b79b94ffa764f5fd6bef71ccc3c31064b00f9d05fe839739deea464ee3de654dfcd43be34fef2ae70e1f197e7865104be2aef61888242520f6b3055eb335574dbb840428e2b55af72c98d9c3b33d3a8355ce73fc61f1e7f7105473e7de81f380a469822286cbb0881d07aae66f83cdd7034a04946065eb5bfc91e290bde667836fef6999979405cab47344b03697d487c1a296b6cb00ce397c2d00883b524aa0f71bebf1c8573fafca77b547908682097ce3d12354530f2e736370b850dba7f64fc56b0fc65d4d74d8d6fc2d9e7b0a0d194aee1c18300f4a909d29c848cede27d5012107532065faccb2620ec9d274bb01f57415ed45c2070c08fafedca4d538a12eeb4d1d1c12acf8cd801022e84c8785f3b4bab7e8cfb1d89860e386f17be63959de35ef9212e375d51b74ce446540169b3bea3e3f3bc9bccc4d3e96a295b857bb2137c9c89b0da0281c74a79021c4a2422daebafbb1c38ca8f445dd7ec30d0a76f2637c2a02367222793d73c21cef177972c37584a2e9262b57046fcfa8ffb30cce9d6de3c4ab9c5060729d8eca416a54e04c8412a535df8cd74016ca62a59beeac7286443d6315f1bf84c113958d51552285ef17ce449e2e5f8042881d1f836cba58e6f796b51befef16d60ae07087f8d31fd11dd1fb17c2cf73d90923bb6a613c5147d59255653814b9899a124dd78d00d18906326c7bf64ac492a5d3dac554c664c622d53d8ecd8a3ad973657604179c9fde633e8311f9b77f2d276ff000696c7d878bb0dec147fe4cbf0ddb2d264184ea4390c4aa33a794564ff28df6064718d25c0080ac794e4dd9287118fbcf495e441152d9f7e9e9b5acfb2f31d7fe95abf0d6cee71f6d9d89fb6104d381141fdd7d1caab3fd7a1d8ac8790a54ffcf120fd17838d2e6b23cab99e378c60105106b94b39b25d38e7539f9ccec339a1f48b4b6894efcbcc09b9eb114fdc7def635f5862a995db6993aaa363cd05140d8dfd59d1479607233d4856def33da85c5e45cf28db829ab8a8afa8c402657588acffe0239bca651b2611d022b8c177f0572399acceef9a97cc8c405214588272ba333914255d9481b168ff285bf5fc9a2b5e1ffebb128f9802899d4f5fbfe2335a95f0c0194aca0a637abc45eb1fbaf11a12ea1457d1c480ed360178c5a0725bade75d89e87525118aa7321f8e61b9a993401a046427933ffc45a7916ead1275ccdba6f8c46abf72ce13c5effd627e293bed3035784b4a69b3f588d5e3ee70d64e2fb2813210755485189feb80c22059b9740ddbe67e91c83ebfc15405f9f1dc8c55362ea64c103697f7b55d98b0b589292fdfa5500ccecb9cbca521da11bd809b14d26d27ecfd504af8b2b7e9b824865222ecd895528c04d7ef41e3e766a98eeb328ff57008694b67972eda509bb888f11c61581e9c53947d80352876da81fa1f1003317065cd026a5230ddf219b1d8d6fdc3ca4ac29a1cfa7df53ccbfb193a898a3f9c4132c2f3cf6f14952038b903ab93e6fe8e4de619aab1455bb59b9262aa15ee380984f39243f5a9e827cc5f77687a327f9deacbde849b9cac37f663ca85128b5f0647f6d83893d7391c0e06594ad9f51ca0db4b33b75914cba63ec488116b124fa524e035a3c2e9aeec75aa8612a5fbbfb2ded1e809ede99865ae6166f8e204ee35779ed76692dfec016ecaef905532312fa8c41f5fe3d91d15920fc61eb1e719abd6af717ee51ac1e85c7a98931d6febb8ea18132dd4896cc6b0f1642237ffcfe2003282958023d11700e28a2b2196904267134415f6c68537f6a4dad2eae4971bae7ecb9a4539e16764bc45f981b8a74fd4955a1e73c42c85282faf941b0e554139047568c86d2ba8809f5b10f7754e02071555b4e2301dc6b7537074e1a5ad6138fba87b9e907e87871a19045eb82d26ca418ebfab248f8cf448a62e38453282e447abc1409a2f5330afb5635f4899fadc1d5a94e2ef49fc151f66a802f2710d06d5cc77eb0d48cc02d0101d978c16c73f2ec604b357bf80f5546b9c4e469602a3c12246c0a5af85d8674e9dd8e9045a558ec8baa6c656380970dca2f39def4777e54feb47f77eb772579af988ca230afb2082881893f0b643f047e06750564bc2690c79519abc05e05767d5fd9cae5c2cab458b9221cec74a289ffdecd827d8db0a3f7ccde11de468a0c6b85a9bad95d2ebc189b4c9de73554e8a7e841588f76d3994fb98308f4a608d33398c355000685c68368c52586e08fe503273b98f6ca07f935369e8b933ed9e8d0121c1654178e7c902e555b7b8f1d3214fbe67675d501ce5aa0dc208912e47d2eaae678846c3ca07903c1c3fdf8b7e04958bdace6571be362dae4412125ff9a7cf27874a70538897b4e64a2886bb2436f0544bccf83b3b9494c2f13dcd9d38e3a2614351297a6ed2aede45f8c14045b586bd5be4e97a2c7abc90508a4306e4c8018770152d1a2f309fa5b65d8bbc7f7a4a61f373d030638a7cc5f1b92fb2b14c62fe673aac58f219040acbd2e31715f449cf7f4ffa30c6a06637fcd69a6bbbc019519db4121639e62d0f174b0e6030481b144ea105b44e4920178acfbe50f0acbb21cb6fda80b92c48aeeb182f625141127c20261deb451b0b8bedc696a6df3784e11a42a5687a59b24b3a48143e40a9f799eb570d8ab3c30cc6ab891d17df6c02a7462f4e3657f12c194971a0882f51dba24c0c2bf163ac63d29093e6ab703596acb1ea29dadb40f0dac2d681e7764e626aa4ff3eb3625359ff752322b8966491296966e61fc0fbcff84df89b50274027cb889f7c62a83c15d4aea87b42b3d946f97d6560f42af607b837b3e1ed443100d20cf48b60c4571799c0b3553a72a158b22b1ffd32c3b950504502709685d0630d6085185682a8faa0fa79306716e8691e89e91beacfba7bca15003aaba16633b9cfaa309d3f9e9d57289d605d97469fa89695a53cfb03f2b5c631f8983ead6c85584d74b67fb4843c10f5f3a7f461babf4196cf6bdae30cf1392255916d719db4489d9db1df8ee1336256748b2fea99a2c7ea5d69dd3200c42d6e6d53c12a6eedfe32c57827242f95f6707724df056f439bc23f2198fcdec3896081d432fab7bb6f651367382730b2a751d82594f5a4e98ca6bb0c63ae107c7ee41235c3b45ddcf814d573745ed357d7ca319469a8778589e19e07e69ddb94d57d9d97cba749f2357722f6bf0daf0142e596497b02aee4bc916a97e63e398eb3b4ce099429d91350a752e96814806e578780d2615dc006d4f3d76bf3fe3e3c3fab59055e10717e52627e66243d411b736dd40a0f3152ec4a841785bf6a285e76b9b682ac604d2c44c567cc6b74af2768fba8470310455ef9c758744178d0a399302e5b6b4de1f5959beeabb241ed9db6046fa36dc4808600183299c6060d110fc69405b14fb6069e76f78cd81709782365156c79d55b359419cb4adf326a4fdb0124d5411fc34b27ed75e07c73518f57b9cf02226849e6100314e717eb13d420c6dacec997928100e786e808eab38ab182d3eaef44f3c5726a0c2a7b26cd3b06b1d9a9193320950bd78fe8d666e2b45e2a63ee6b3e012613866a7a95014e9183ca0145c10f9766f4dcedd882b448ca176a9fd80536c3ffee679b8337b65f7e90166cfbbfbc945ad9465ebeb0cfa46e48e0c1cf0a9d7a6c0cf78b557604f88a4d7188b636ae3b5d0367e85ee2a92c54eb17f208ecd4e245f258c9c52033dba73a3da2a9008ba6ee2c40d633a78765ea9a463663e3bc0aa4b6e6d9f4c60313857beee9cd1c8554154cce9195626c87ca9008458771f9db2e5e4145bf09d64b0092a69c4d2b35eaeba3454c8ac5667524163934f1682b3f19ad8e8879d1d9083929477666f1d9c68bdfe215aeaf1a6012c28be212b51d317cbe5565811c3f2626cb88e768f4f2a19765789b61d278823d4f9e1f2e3b2321d07cdea83a8ed989680fb5c8d696bcec9dce448c774d8c1d8abc4d70366d2683865f218a0094377c4ae80cfc418a6a8f61721e21978b9276d6e95ea4e32856e0cffd76ea1e58fbce2fccc5867fda82653cc5d75d01dd9aeb35d05dca205fee09ff3bdd680c0971b98a33a0f9f46323dc13dbe75e2dcf78e2d7bc88eee6d85e91492fc8d6958fedecc63f6336701c2de7c2b3a173f89f5c8a96146a624ba41563cb83fec57bd38f666c96bfe88bc21a35182888e472e2928453fe8fb82387ec6bd15726564d39ff75a640d01239e13eb51c5905151234897e4dba0ec023b04a3cbae6d739b62de5831068bbece42bafc3a76a6c27a0d1f1f8fa691524741d9a3822bd4746d68ba8bf26cdd3f7224d479883fc0e2b6eaf1869821d8d9be96110e879059c65f4b979f7a19ca5c036c00e314284c192a6473b4fddc1e127e991d038297b9603bbc2a6d681c1ce635f1b328a0567b7ace60952562bef0d180ca885630ba8d80d4b59cad49f439e43fccc8a75f15ac29c237ce2c2fb52d624c887c93efdce520bc41f9843930824cc8506b5f50244a0bd4274dc0bc6301a709387045961d1c1d726c44374e02cb94fa87ad64f92197a03f9a5b79a6c9c78bb28a252e90564a6dad9b43d55b9063e27f315b6de257a0141efc84609b223f49859676952ac0b4bfa97cbeb7159e472d993d582be79b8ed3901667eb97737b39c13ebb9a7e3ad0a2119cf68a7bda7b03b2ce1629d207ab2380b9130cf0cec3898c9bd802f485cf2348e63007c3985ef5afebc4fe29dccdf8697621e3e9d5117e7b082090d2d91bdf9ffd0cf7f7470a00860358ebb3cfcfd0b9e928ac7fcf78e626e3009d4a74eb169e845998d2056d76bb3123dac796c46d7bb89cbf4c0b31c4340a696b9ef44e887e477e0562bf40489d1527b34300d6848e4696d598c22fea72039c0788b81f2244b4ea0be28edbe23610485099be7ef6346b6e524b75af97bcfa56ce7458ff6760312720e27387575c36b8c305488cf8b4be97557f59a534f12f19acd40b0d02236ed084408086d379376b9f14c0e7d5e9035309d7c71e416b0e3b9c6ea49fb07fbc1ee1dd113543aa03825979b69e126b76c966a90a44b7ef78307d8329015b9798e95688fcfc60ee89a0ec29510e1bc2c4264feee9723f80565b6156576d8fee4182c7818bc8f81f3aaa66c629358909edfa1d03ca9608f04c1ef96e3f6e0789007c4619f229b3365fbda1055fad7669a21e817664a44dd1aa75cf4c3a1de367e98b0cd8dac9e325802dcac80fe6dbb2e857cc1b1849fc5c14429979f6178f3d4d721292ecf0d009a45d737c612fdf1c39678d07878dcef2fc5e540e9ff9bba8d7c8e1b27dc1b6835e8114ffc297fa15537b47e18711504bb586e1c6d098718a6a050ba5b3d0bc9cabfc34adfaa91efbe77458362c8fee662d23097e5f141137b20cb764767455fce1c2f157319705217b910135a598d8adc06188754424eb795bf1ec45938e0e79e746d80e72e485fde5dd6bc37b7653fe7a70ff949edd35c4d78d6c9f49f74491c112146454e23318f5ab814df3cad8e0149c85c13cfe0017a6d86f9aadd8deec0f37889c6cc2acd41ee2e9655ef363556f075ac74e5c270b9e3602e425a66a1ad99b376e37eaa64515ebb87166f6f5abebfca30e5b21af1573711cdf76876496c549e8c9ffd3cac8faf93b4be39b27cde7ea5d6bc361953157d504b9ad3542e4b9bbed8990b3fa47e9294c9555177e6b8467910d1cabc9c6f642d63d25e9ff2cc82412ffbc7e723dcfe5a7fdbd9635a65f1219d21b60bde035864e107ca2f48a63c40d16b58848241554ac36d4aa9bb82261c6eb45b4603f1473e5fc9599dc500c6ebeff29ba9d9e46f25e55c640044f033ce1c6c3b8fe3ef979d90a95ddfda6026747ed99dd2cc360eaad84621d4e463deaa757d5b31b4a07eb2eb0effea04147ca87a3cb5c216d25ca19496c528a689e22aa896bae0b455392fc9f54d663ca93841a1f35c70b4626a34be8cc7276e414b9685038f5e5d1bc034642475beea5f8eada5818942ff14337124a53c31fd3d03fc8d922d34410121115841a353dbef104ff1ea266f5095d11ce78894cf0b7f76a8f412a81c90bf4ccaf09e819a428492d4455571baf192a1ff312748b865a618785f2cb84a030e8a7848d9722d3aceb0ed45c00cecae381e876d5464f4efd9855d465a951b03bd16789f14256c87ee1dfc34c3cd786f66ab7efec0afc721de408c304660a52a7d559284b0e08bf35e1c40684e565a6042dbf5d5a3bff4bf68aa51160109c39bfa7a4b2d5e647b12644968faf139696044e1d63d8c537be1a4e97714ee675ebd317388fa3444efefb57cecb1aa887a4a54c05445f46e123f6ef69a17c2489fb7f5d34bb057b37805b44187f466307c8faad39998647fc345bdec956f8d2f4ee53a2d3dc272d875a33eaceb915eb96eb54f8083fc58751c480d6131cea0a7227babb42c984c126efff4bd15c8899f82d5e41c14bc7dc025b68c966a97b86d32f6249790b19189447527438db1b488f93d0d3957cbb8e103fc49c2c330ee9f0d72b10f6383b813267415f36f94a3a1d0ce7184a47184819f2f10b41861fae584f9b5177a10c836358b541142a6f8f0de09598be87c38c7cf38fcb24a91d417756d6dab169d1d8fdcacac5638a788a3a3ee42c0d7254e8c507871dcb7fd0677d8adee07ff9cae602e27fd6dbcc6d41197d030fd846f671ba5ab242021086ed9eab414056655ba81d89cc1882c9392c4c06e588d980a17733882e8b2f9bc743118687b8e0d823276d2e0abad100d85df6d7609dc604a1f9da4db8af087fa1f6163b234135dd35391e3e5be41f7cfa4732efbd68b768d5af34406946ee11642ba296cdd18ece839165b22db7a3122dd44161b6ed73a7d424c80722a2e38b4965b5780f280870b71f2ed700d01f36aa20c9841112a7cea86a638763ae64f2c61ac76ac8b0eeac66409fc948395fdb5b822ebc6912f42512d993341cb141de0738c6e3a6ee3f8b8312c2f509d1e3c4ac849fa467baee7789d05ba9062dec2a504364f5bc0a53d06c7daf583de37032fac214889fec163a5ccb2fba7c3e2272906b71fc1b635c033c350299f97ffa19290928f3ae2d8dfa46419a02379b480294afc5315d84395971c73a1eae7891a724d01a69c4910c1607cc2882b769ded6a60950558c1b33a64f511508d4c39f8979876afc424fdc53098e56422056638eded40a94427ee269262914271d7ab751a53fac48d80bc350122f626e32c8ec2b17616baace79bc4d18622fdd53d8e416324776c6e9cd9bb722248b1b3fe982121d7944c90a8ff9bf7ee91ba5a3176f5c34939fc6e804135d66009a0905ea27bbe3eaef96b5e2bd47a526721e4bf87f0dda6e100a10de5ea10192834504daedabeb8b2d7a4ede5dc91aa3ab01e1e2f4ddb649be3fa0723703a6bdcb304367623e1a7048f85dc0028f4ff05e594cd6d7f0eb591d20abe8ae63d85acf91bbae6d9ec1a5caa25d4645566ab607bdb8cac3cd3b3ebb7f11aa7ef961d9218f95af4e687f66c405bba4e3547b3fd287626531e53f13e686b79d11cf5881aea9bed84e6918cfa77cc29580d76b6a65aab4e4a7c702815796d966ed60a0ff1154ea2659be96d3cb77c824e40b4e58357d545ebbc48be0c7c7e1ad01bbd011c52187aeaeb82533d6748026982b2931bb4d7a262ab631130969eb7ee03aad7f5f5d7df4e5aaf4754cc033fc85c8189dccc92b00fe74f90e4cf69e6913d042c899970df9f4c0f45f1b9a543d8c12e1ecf212dc55290189cf1f68cefb7a265ee44a699dfec0a1a73c13fb36b01f1798c4e5c32b03e90c29f0bfb024071f4b0e2fbee637fadd4343627361434ff93733fd3f2c3846c457835a7362e419f24c02ba39a81885a1a4b81ef1ff54bc6bdf0c6c3a3b9779ccbb64a628928ada56bad5ba21d9083613ecbdbd2f0b5ed17c327c403a28eae13722d28a61ed3bc00de334eb597176894b280411f92b8b45ef3e6275d3973f80e6fc02dc612706711131384c41a453063250f63346694678f3f2a162784712bd1110566de4e1ca1500c10edf8ea152f53f1681755f63aa4ce33ececb3224109139e0d2f9d0459fe64edc2d1959346c4638cfda4928a90d7fb7cc0dffbb5a85667d645672a13a18b218ff213840e108e232314a07797fbf6174c971c732ac8dd350cce0f5a1e14a2c2a4fc7a49e2752e40c73f0e5046e66e195455a848fe51000ff5d60708f9866133d2ec429642e2853982cfbefa691f432aa7b17f4a95050f44ceffb293a0903d26857f8c4dd593bdf667253505cc095d08f00fdacd3054fedc389ac842f6a59f230f9d345312a3b3abfbdbd8fe5e121ae6a6b955cc5833823c6f35c2bccfebf4d6b3b4f2da5d7e9fe4852f943fd0fc9ce1a13a0767265985c180bd4f2b849c1ae8ef106056386a296c5fccec1798a8d36816e4c08e42599b4b1e3b694a4a84ac655d5381cc4056e6d1dda8a0647b2806154bceda5b5a2cc338cbc6a4edc2dd4c9e39fe4e230d45cba12344deeb4f7b60b99a66b97737755b569c5161c12b08277e2e0531b46383e3a6445c452df7c35939dc527e95f38d9216e4f888fe36e89fe13b0d045fbf63449369cbd99595f79ba3db2e95de910666e9930a72b5a56fd477321c86520512ee1812ee3dbc091e41b6e3228fbb6844287ff7ddb0f3613aed91a97c4886b31b915f205cdbe479b1ca5b2082707a69c0bee66bfe51bd22e9e2d63246e528d2df0070a25701460a1deccc0e95ad54133d3a6fcd49dfe172bb0238ffbd87054692e94780d1b1ccac24a4266aee4882c95f1119dbaea4dd4861037d1ac3bcd42197e867f3fac5b4fe30b4d6d49607a563a766aa6692e94918404ce2140465af7418904d73adea156094d87b33d630c3ca3b9a2faf9435019f6f36b7f09e16d9ae97df29905d0fac666266ca73a2e33e07bf39a2e05c3f9abdb61e1406a2b8a258696242c4ba36bbe5f8abd4ac0262034d05e0deed000ff75fa7541b5196b8c150539f1601362b787a8a9728ba9cc35be6694181db938ce137384badb2a8815f0c80966b527288c6490971fb720ba2fb74c1cdb86da4528fd671669e8fb451e7cd7ff26619a135a98cb79a4795695b7c01a59988e2e7d27ed003bbaeafda5029a9d16ed4ef7428835996f679ba0fcdaf281f9a3d38f939bf18d5bae5484a6d9702f5568156380f2b4c522bdd32e4db496ea46e2a7f36a2f8f69e699735581e2f2947022af5488a10681432349ad7f16f51e6befc83aeb7a591cd046a7495e93e09555c1c6cb8af77251f79e7db08869f03b17225c7c9a233230881b031410d6a7f613dd872d5e531b042491cc74773217910373a46e104b5811a357234ba83faa628f2cd1c159278f0ca65fdcc682be3ef7faa18bab70418abce7d68c4faee51230e8e0b21ac76471dbf3015054fdf9ed45ecb9e91e9ab213d04655b6643ba1617e5bd8bef751f08e0d32ad2f041f4f91fd61d5c3c825375d69a66a29ae68a2ab71fe286a29483e9612d135d5a26188e353f7b772d3898c1d2af501c5c7475fdebd430f97ca4772445fb40f877be5a362bf5e96be6c2aea1cca4b8200fb0fe9609f9db70d2fa81a746ada0b24b6907c2678ca4c0fb4037a752a20941e00df859bf7d231fbd6460945dddaa84d1966e509793288f1037871dd2c7cf808aea19412dfa05ed0514c6b3169d1307622eadabc4fbde0f4417ebb5698356da0d7a07e126ecdefcccb9e737bb2c271a4155e2688a34c685019c244946a7f281c6eeca357310d8de06aef6fa46c35a7890a524f8a94036de16cf661a2662a52c03ba948da9ac826d4ce5cc99947cb70b629548522a948fdd5ccd4a55666e20bfc6e58a0b4406af2e39238d0a73053f380733a2b1d8df4fd78cf414691a74a908903426da028a8096c850142dd6642a303fd6b9fc16865665c2890e1549a206d0aaf2fb098e0ab05aab05d75fa41339a4b7dcb9ea0fff21d2dbc5884f78e5167831aeae2f0d138a2b79d328f26d90cfde805e09bc2cfc5d98d57b6e3565aeb15bc6b1ff0ada8300a952e5855220b5c85c8134fff32105572c398bc8da7598ce335bebc38987ae89e591d4f22f480edbe6e938fc7c1b2591257f742db33cc7fb072d62d94d177b01dcf35a9ca74508c42a41a3d32f2adc0dba28659f244ac8aaed2c8bdffb88054f4cf065db87e9f71be52b659db54537907b08684f1538e382b456c711c5ff74326d98a81f806f68e8060d4562e756bae15d5e08909ffa6453aa19948c999c3c0c1b0cef8e7f282d7a6c4299cccf9e01b6402aec23d171e0d47706830a78c763a84fca77ebd055b762a07b1054caa3b1d92107f86da923bbc36912231b872e2a6ac3bd808a118fdfae0e057b4d5ed0ba068e4208a29565c1ec6f92634a4c162a08408ada4cfaf10679e382ac210195e31347a0c9c161fb8c6c4087878ad3131b3ca1d322fd8f89ebea65a8f3e65c90fb7aeb943979ae7c11086b051660e64cad531a194d35874bf217713050ad6b55deea0ab3f53321d118ef72d31040f54ea1399d47be6d5bf20d6f694540b6634c5cc5f609655c6402b8b0beb9944b3ba7ef5ef6c2309230efde16c292727276d8f42f924657100502467afc891273659e048c0ce2e7839597bdf75c94fa5ecd9903aca3221a07c4c4232df8aa402975357f95fbe1d5177d369b06e452660c851c6061d684b4fb7390461cb6f362ed89858de178e82d2cad2a7fc947efe4d956c0093841a7c72b2847c6e86c8f60184cfd53ad4b04b660443018fa43189f254a65307cdc6607c49315fd3d05b94011df7214b833b1d9b6de8ded105b414bbfb7cab705fcb9a8e8d85679f8b30ca42903cfab948d7ec8db8ddc60b7206d77742479718a2097c40f412f191b053086e7d64c18426f0dcbe23bfd3fda3fad9fb85be6d2680684a53b284f538790041d3256b509d4aaaf43508e2a7453ea594ea9848f15cae6fa9499e728e4a6b2d7836547bf16d339c2e6eec62a28e4a03cde59339115dbf903b54ad299c6c80c568fab52a310e9a22a8906fa3df36ec091ad82cd7f770453a55e757f5b160a5d28972eb263f5edb76a2cea1805620b89193d9c13d2a97a7891234f7dd542463d8c2de7c3000a11eb3d5d384788f368e3c5c037ff5c800ba9834f8d8b33b435a0b0eff5967e67cb126d1fbd7c295d1ba84eff0c80ffab78fbba3666e5decf734888f4e6eabe4ef8dab575acf303e57bbb30d2194f7c0df0e312dfe99471bafd19e827115b95890e9180b60222226036b94d0aa36619f59407ab90905b90039527e50059d40392ea7849489dbf5f72dd639e11e005aff12764631fd449a4fca97bcc471df4fde3be0b9f5f6ecda40e4e9213e408274e99644d189b156411afc85c68cfc7e9ceb0ad64a6e4b902335977066dc6d0664d7f2b5522e55497d0731a5ae465e6afb2abffef263e0c362fa7c7c991650f073994ef2c58792859a84d15791e669ab22ec4868a72ba2f2b59087c691bb36ac709421d918442fd0b2851b48847c53eb19d280aa57014d30e5801720ead6f00c37e3bb8da9be8e5f55c9d71130e04d20f869b6cb3591338c4086a631fa6f86d3af786bc3ef05d4f411f628d179d792cc9d94a759be3c604de529aa4021809e10bdc9e64b46878e8aebcb2a2d0643772d73336db56eedd98caa856b3fd30b3563d15ef6d1a36f678a2d229dfd684e01808831b5092719d81d69ba2eb546fe051d9fd224e8cb90b2134380bcee342990835080e79c3bb457d4a2e651a7c3a658c5677fcfb1d77ddf1f18c3f07fa85aa7fb2db2bd918f7995d0def7143680c2f79febe46940934ad2be3d72b906db24f44797f54e857d67fb72af28e764ccdfa47f734e187255c50ad36e3a72a735dfc2f04e105cc5410a0f9afa4b21a153c4ef24905befa11daa24193619508782c3c4be45654199abe8d4b91b83ad441900faa06410f28f6b7796adcdef08a2419173fc9a86e03b6ffd8aa4fc1ad4210df6ff9958166d01dfa381b59216729f7d7511c76e4ce62f17e932ea41bbf62b4e9b1675cc8fd14fc44952576d060a9cf6db5f9afdc18ffee5aeea36ae45c10015935a5a564531b2a48fff6150e369d73f0b588f2febb465a6e6fed7a87270bd25d804f93e423940ee383aa43de587ae33ec609b21ea31c8fbdea83fa14642e9b5557e06347fee11775f142a165f9a926849ac2b202cc0ed1dc2b8d02cf064c23f69188de467cc9ba23303d53408b0911987d9dd144a3d63c5ef6cabf5dca6aa5e4df821011899d8e50c9b4d804b9b7b524906a7fea4748f4d8ae6980e9d73ecc794bf8b9bfac3e2beea2bec33d6fac48d978541191f217cc1492e25bc340f41f49fdf4f273f594123410446458a75a1412c0ab93fcc0827bde0bb835389a800d8eec4f5a10a96d168051fd9a56abf43e0ce00027488f86cee9e4c4aafaf97ea445e99045032f466eb137fd3e2834a812fad1e049f4aa7c72c7f6de33452c0823ad146e0496f4ef5fda8f30a3e592f2e484388119ff0957210699e9ddc2faac5672374dcd68786391022a82e248a0a6b4c1a94bf49dc05ae80c9ad5fc551730047106a2c16cefa6cfc3a27482ee6e1e3b440e8fbfbd28ca8ab99380ebe751d8489954daf868d0db1f5eb492a1593171b6a50ff2b36a8ff8b15e3834ed7b944d9f7934b4d5d646ab9b0f087db4a4181293d90311517aad4f1828c7ea95ba963717e852514f8d35664ac0fe275e386e14aa0794a7d73b0338429cd49ddd4b5303c21853bab4d65fa39e06c4bb66f953b59f6899de173017a0ef07addb5fd546162e3df7f957bd7da3b7f6299f98cc4412b31fc8ad725381dd1385f093aae490f09f678b1b049dc6c64a87216d15d24deb4944b966aa5cf5fc8ca2b28c60a6118a2f5d74eeb3d3b8c673d048141bf25a2c5b3e3516de4fc179937a2536bf6b5354e0cf1afe8ae3887164254a7a22f25bbe66eed23ce73734a580c2ff58f45bec809215f63ee05f999f16d94142aa471b2809ec462b9626536b941459218e32644273ee397d5953d1a59576e9954235fb483f04e9b93cf9ae4d7fd947b2d118d82427d98f71f6366a51e6173d4e8399daec08a0776a0d915ed033c0778fdd086c22daedc98f2390dd1814f9556f41d89287421a5d0cb471bceb8f406c10cd320871c8ce7c102b2d50b3af970010383bc1217d385b9c869a19c64b69b41e20a9b5b876462138985a0ded5457aab27f61f9d03c0b7d75f010caff04895aacc4ed973ca349cf592d4c9b58ed1602ea169c6dff75817698960aef7c4379447dec3d2307a85046d6cd2328794c130bb2a92f70b966eabb657d3868abf25a599e1a361fb011fc6dcb4fbec8f0921e5fc2a3d743ceed9276e1a6d31922603b40d7e0f383b60c1fbc487d85054a98a3acacb1827b1137c15317181f2ce66698069f5c9590ff6d0ac95820310f868d6e7508795149ae4db9d151b0e29f2e20bc2a0caeeb317cbd930b4ffbde3f2b1fda7b968910739b4752083f6aea2be2cfdecd4303dbb2503505fdd17d19e07a80e23e7ad7ee680c9bb7d6038a10e73e228ae48f7b3e6428be864fd66af685a3aa06becc05bf88b42437d31394aa6bb8767e209f3be790f17a06050bcb6016571ed85cdcb0a24ca93abc6529edd17038e0e0617f90a9e4722867a8cca2778dd87b55bcf07053b44dfe18230a0f85a6801fa1f1ff158dd932de9b2e5dcdb0e96545bb04de8046fed5819ddd35ca9cb6bae7c6a8278325a95756bb7f06880cd6f33d56a1ae53923f5236826c100303caf1ba763bb681a63ad40a26975a4568aff567cf9f9c7cd623398d2672a6dce64539d634572f5bd5ec0b33a3369847fda7660072c5ff7d7e89555fbc6ec9b9f2f9d750bf6f0eee63a8d3590379b7a4f39ae289b5ccaf4be3c2857da10d9d9cd66b6205ca2e10a106fe905c6e944a976aceed7b08ecbff80271d5744e34ce30746425b30f65bd3b1c3206f0cf334b94c635de2904c7a4ab185ebcd024bc8861c12283467eb7d038f16fd7cb8994223e4044d1b3d1842700e0940f9fcff5dfda40869f1d34b26d7e1b6e848fad6b0e19a2aec81ca71d6c55a0d0b999f45bbb399a4d19ab90b82d1ea3ee34d9e1f6a76c9aa45102aaf242cb889970853106a0bfdb99c9615a98d6d36c4fb4a72462eaa279f113a5c3a5d181167d1e2faaeb5e004af75bc7e3b1233b22d3d7665bc89fb15314df7849ef9a959d7e8c76b2b2bf086ecd18415ff65b4d81a83e50cd4ce69c40926042ff42772b126209c4dd6c4dba57d8999f192271a14e883b32bab45afc95e1e5026c8766bcc040742261cc2a8f7c967b696eb672eeba11eb8b8464aaa06147062c5ba679aed31c161a12ea9684efe06f05a1e669789e346ea9a7f6f4d8b1e888d8652741ee3ed1866394e58c6f7d342c9088de425950e302b43ae7f8e375c16694956432f8ecfaf2bccc79b6a17159e26a58b14efd74c8f8491444bc9ed37b93a8a3c94b7c48da93c74d808174cab781d0fa4aa4be18f6bdd87575d7d0f9eadf893d30053414a297ea9931f1180f86ec81d24595eadd8ea1d2fbe141068e48f1ab0225238baa2c76979b34e322ac2b525f9e6ba9f774c2e89362f85574e13585a122dcc3c486d8cfae87d6aa70980641116e918a55eb343293b473fcc042628f29f06351265808bfd0956f62737f8dd209e1c106040ab6bfe5b43de9258a4b14307dc242f67e0c3f89f9d204cf4edc4e4a7d1ea125bd8230594fba6e04a675b7f35bdfcf51716fce375e5758eea66d473aaad4e41a7d479dec90fc1d74cac9b433fa568392521aece760d7de2d698be19b2284392408c2649b11b7a46f9809c3c35f05b8fef360e28d116afd03820a5a7feec86def4df68dd198ee2a4956ee8abada775c6e82bb417a64720b9f5dc40257ed5778199f385c42909f15cf82285bb51827e88461f8e0673263d3d985e06a76f35766cf65014644af74a70a372dda42ffd28c0bd444113715be552fad6427e2521824f40bd059b9bff9d5bf9e49323bd7e92262570c70229a8845f58cbc02926d7fe314a2390cb52b71e42fc51ad31a5973c194f5e579d5a203532fa9b696086f0062061feb607a3258495040e85690ad7e0408958becaf6be9a717fd1f1756159688ef742a27f3e2efb4275db0e305635d73b1ae1cce88558e47762521d99d82ac4cab8977b37b94f08091327d0c9a9d4b3e9054a900ba6dd5812d9c9de7a04c18106a70c137ae7c500f310372b3cb1653b132a911b67b8ccb89498ebfb89c5b82fd33aeae3998019ea4545c5584d9199e3ecc65adee9598a1ff4b02cbff8fb92993459555802d66348a5cce699eca10dccb5eeb64496880243890a7f7d5481d30ad9783f74cc378cec00a97a7eb8a04c32ecb97db5124c647f4c047f04f5ac0a73459696ac200e2556235a2bf18bbea72b707d5674aad25b1eb1083937712ad8480d90c068bb5d4b650662d92b1d8cd3224941e3567fbb8b417828f73958adce348195bc78701bd6ef557a56183fa1992385affc56c84504571487d5a6b1b97498ba8066be56fc7a57410e76fdc25bb9d2b29fb675be48a107cd46650f544e61d0ed42945bfea07cc8144fff79293b0a36b180c78b22c3d1be51d4b948d76a1b2c3d48a0d99418dfe80c496829c5503ddf4e049b40231f8719980be2a57b199ee7872161d9b23be428aad8c6da243b0da1cfc2cf8a37f5f12f464c5a6c164116bd26d67a2201828aa798fc43470bce0bff5725d61127f6a651d89860afd972df8453ee92a452f36823e4363aecfc02d332d0c9c742fca1408046a513997541aab4df1b39271b10fbd0017f71e7625cebc808422752dee32167aeb376cb196236c738abbef5c7c383990f6adec8c0db094b66ce04c4424fe2ef097c9d5271187c49a162eb2fc4920fdc1b288d9817b14b72e2852e0bd597ffedcb0142913a59b916bf63d9069d30fb88875c6b251b7e5b9a952c9f03a05fa86281d9578e6f03fbd07ab59028a6d3a50c29d325b77a764f5742cd8c7694486b130a449a8a660a3b332a7d26435b5e51e1bf452dc7e7507e46206618581afbe3a09ddce7a9d851b64f884707d35478fd7f5725ea0c8809855727e3658317955d71516db17fed7e4d57c402ce30601b9935a77839d797e62a0c3f67cb331dad6006962fd1e14e5dc57a85be92cc06477dc3a9d978a5458f5de74400591239c813ae456604f67d0f691acf29424f4cbe073c0b7f5519bfc4a8bd68598c986b2c82053a670608b9a0d0c04cff32a1a5993114cc4d60bd9ff219facbff37e51cd64e2f0b288fe504f7cf5b63a943b6aa4804e949cce351060c4db16858239b41aad4398e2951e17e9c28db68219bc73450794e77ab0034fb7c24a8f89631e8db7782a74901668a50bd11a083ae743fcc2b2c9092b1b203bb1de7610b64826f081d54614dcf725b1b33e96d2e3eb068a0e3789bf1180cae0acda57deb0c6862f39b9bb1c0103c1dbff46593dbb89751f7d1637a9987a0d2aa7242b1f25c1bc25af55440c6d9a99c702e2cac592d29d0cab277c8008b68253330eb7c2b0878d084a2ca2502fcecc23e231784966f21004b5a2a43d4c641f4de6ae14ea6f13eebbd99b8262f6c8c8d3f087cc627753eae8aa8e52d2790b0e3f174f1e147915c810a029fc9a697a92b02e334ff8e9d40cf56953c9e0b65957031a72789740ee38663e50cbf087f8325bcd7e216b3e206fa401da5c78475ea230d50708f3db367a74fcfc6910932a5321f5c36acac71219aedd15b90b0a7f81dfdf2cb047a509e73dfe8ba841284a43d4152fa19ba511622a02d485c1516cd1f165d29810a38a8d5160d0dba0a4ab3e80f33b8769619150cb566587308f0b4f5eac35ad28f7a2f3a70991ba919e4ae2dd5d2c652016afa7ef37bc291dc375a0c0d5761dd3c9d074e96da1e1df4ef69efc05cfb10251598f737397bd2c1c475a268a80945013f07cb3b1e0d184bfc8668424006cb34f7bc04e4beb0dd03e3d19a9f9389b2918413d96ab2fc103e41e2413b602674e1a1e99a1aa9e3ad404decb51c8acaac53edfa97e984cac4da3c11eece6158cdbf838a6581af91dd7e07c24c373bc7f02176afe343c0db62b79cc122e32d7916eea1b1a3088a0126975e428e2c00fce2110f671a399fab17af47a1020e29d46870a0523aa3e371f82f82552e3b4233304c298c51758e3cad695b807fd807729b53b447a8afef751468e6fb08e1164ce970a6bbefd0318dabe4ac6a7ec01da36ccfb150f88f3f21ebc2e9b8cc7fcdaf9b272f7cf7546f287db058490eb514769955bda076f60912f27ecb423e75a7ca88619adf20fcb13148a3d0cf39fe79ada3a9c0b0a975e1a92f65ccd1b9a059ddde43309bdffd6bf39c386864508851faa708760fa9a141e4be84cd599fcc132be8947f91ae6d74aea4ab8001d355e1abd077ca2d40ec82fb161e3608722f6501f9e0442dfc89ca1356909c5c94fc63e4f44bd37c01934c7ef4c3646bff316e5fd3dd54403adbbae1ce7f1e354eb2261eaae45932ac355415eb13fcf37c7e7011037b7e58b7445442169db3764b2f2fb7d8b4c71a1e0cbf617092b2693ccdf2c13b8d65a1d36419294ce8a3da91fcfc43981be7de980d3162d2613730cf4399f1244e249727842d4bc98395480e8ac607c2d3119b5424252544db45b971151d83dd5e2f0c06793f5bfedb69d84477fcd612fd662e636484f06b0bc7d16c28609ce97c58b7cc06beb632db6cff7f15f3c6ab8238b1d1c99aeab048104e847f66cda50cb3d4ed7dd5b1bb893418f1a995a17cb7456d62755c222943f265aa2bd1a47bb20b032bf9517fccd5b9da19a7c0b7eba2b9ae5e1125f29875de614d13f1494e9aeae5188b791b66fdb11e5f14203b66b214eba548d61aec7e016c766522b741b002b4efe442240a815eadcb65db3a685e0918436f69206c76793d9d97b818525cd315955ea03fbb379d81896ace48d354e562f44930dc35d1c65b48929ca848a11484e7519a5cd5ede279c84980264252f0af95e6b1de455474861212b6f046df5d67c4e887955265fb04868dc45376e17c56c319b43f8ec9b675cff44cc5fa7f5d066eccfc440b33f27213580c58b8ea771090bdf570ced7720131435cd358153c7dfae1b264321e1a56ae1fdab01cfa33aa1c4118b22c8d53e95b679cf78b042316c5654f8d8c33d350461c39f97273b0cb6998cf5a09b6c0179476f15e36473b144f43099afed514283f2f66cc1d9ff1489478a9d34f75ab551de2175f39a9d0f6c0a5d55ce7fbe82cd069d937299a6ca3bdd2054406b72867dc05deb81dff113b0f5170fb01149fc85c97f98f2b2f733edf57d1265c8a88059f73f01a454dca5037fceacb9d3841abe0cc17ba6fdaf6293241c1494f2e4ab90261eb7105a9f0e96e839cc00a628be9b496911e839f316c3d02e87845938232c0baea72888b828c5609e82d0a5ef49926ca6084bc003df9e38be8bde0d1353602129349dbade02459994aef2fa10e78119ceced5f4618efc061d8a8c49ea6f338c6db15f7edf2d58922481073bab9c7641c04a1f8d42a37f0ffd47d55fa23c3eaecdba1d1bb1b89f194c6e0158d9dbfeb897cca32d5bf92060ec2adce99431d950f7a0243aacb35faef143626aaa77598a0768ba5895b6eb281e15f463cbad6bc0329960fa8726e67c12c0c96ae33b65d40fcb7725ae72d2d02ceaaa055d83493a31f28ec47fa69ba25334f1934892d13e38aadfb95d54d87d2cb1e680dbe3c81f5884ebb0a4171c23db6e72d61bae1e8bc06f7d6e98fccf9fc621269251847ad337813b7d660e7c202559b9e9e2cc83ad54829b8fce1f15e4b76bf803f219564c574f9ee88ae3b2e41e3cee2e6cca59eed6c9b87c9932a70cc69a0371b31d1d4ec78efb7f6c8a083737ca6b02bb3b99cd710de7678efe841a7838bfc599e46eeccc432ccfca3735db9af25f015e7b678236bfffe8d26fe9de30d35d6dd1ec1e96dbca5f96c8f347f0df1f3ebb1daaa11010ecf6b3dcdb4e57f67995f87db2bf18eda042cc7025a3ace7a429d21188e051679833553d60e8a1dfa5629968f2909d90796bd00ffbd2a3bf7c0e80466179011c63c792a90ec264cf41c231a6f2bfd6c1b17edf6197a19fe043a7e1717b2ea20833ff87fd6b1529877a6053494a913343f9b45b1ecc908eaef6b4ea21e41da813ff06e7220f9caf8f530594721c420160ae589ca2fa09500aeaded225f77db2d0cca2154389e8fad27bd2e60a194e95911a8198511d570b46e0a5da7a1d31a41a4dc982797c3938ed8a833ec169a5d32fa721840f84e439e5770770a1b9ffc59f812d0c918b37938cac6932705dc40f523b10aea19c109b38c8c41ab787078aeb8036a2d93fd329f954f38170a59317fa37d0244970fb86810acad4f12a12b07d995d057455e9cd7709021dfc8cc4fc219b61f5e8ec36aeb547491fcb333cf0529a043994f8963e8c3c63f3c09c902a15bfa93769de45ba4b924da031c54b8f56c3a320b005af3f9496597634b03675560459c5d199b7d00bf707f3381f0ba1d28972c69f1fc2b3e5d024a6dbba0a53211289903d58e89a1f1845493c32b5f18f659ed719760b1fd750b5c5a9f3398e2c395f22a65983a6188c921de647233d0de9ed289d1f4d5fda94de3c71cb63b37e1b01a38b5ba351de3e6987bee48c0a8edf80f11cb1ec449cc9e022b6d8b866e27cd096d7178c8c61c8fefdfdd3cd15def06b581c15949fbc90d09eedd9ea138c7f535f7f305c0a164b76b15077ede87bcf3a60f2334065076d9ced2100a22df39462385039788</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      è¿™æ˜¯ä¸€ç¯‡æœªå…¬å¼€æ–‡ç« ã€‚
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="pipeline" scheme="https://www.xxlaila.cn/tags/pipeline/"/>
    
  </entry>
  
  <entry>
    <title>jenkinsè¿ç»´ç¯‡</title>
    <link href="https://www.xxlaila.cn/2019/10/22/jenkins%E8%BF%90%E7%BB%B4%E7%AF%87/"/>
    <id>https://www.xxlaila.cn/2019/10/22/jenkinsè¿ç»´ç¯‡/</id>
    <published>2019-10-22T01:22:52.000Z</published>
    <updated>2019-10-28T13:57:20.321Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="jenkins-å¯è§†åŒ–æ„å»º"><a href="#jenkins-å¯è§†åŒ–æ„å»º" class="headerlink" title="jenkins å¯è§†åŒ–æ„å»º"></a>jenkins å¯è§†åŒ–æ„å»º</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¹‹å‰é‡åˆ°è¿‡å¼€å‘æäº¤ä»£ç åï¼Œå®Œå…¨ä¸ç®¡æäº¤çš„ä»£ç æ˜¯å¦å‘å¸ƒæˆåŠŸï¼ŒåŠæ—¶åæ¥åŠ å…¥äº†ä¼ä¸šå¾®ä¿¡çš„å‘Šè­¦æœºåˆ¶ï¼Œä½†æ˜¯ä¾ç„¶æœ‰äººä¸ä¼šå»å…³æ³¨è¿™ä¸ªã€‚<a id="more"></a> åªæœ‰åœ¨æµ‹è¯•äººå‘˜åœ¨åé¦ˆxxxä½ çš„ä»£ç æäº¤äº†æ²¡æœ‰ï¼Œè¿™æ—¶å€™ç ”å‘äººå‘˜æ‰å›å»çœ‹ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªè§¦å‘æ„å»ºå¤±è´¥äº†ï¼Œæ‘†åœ¨é‚£é‡Œå¾ˆä¹…ï¼Œå¦‚æœ‰ä¸‹ä¸€ä¸ªå¼€å‘äººå‘˜è¦å¯¹è¿™ä¸ªå·¥ç¨‹ä¿®æ”¹æäº¤çš„æ—¶å€™å‘ç°è¿‡ä¸äº†ï¼Œè¿™æ—¶å€™å†æ¥è§£å†³ï¼Œæˆæœ¬å°±æœ‰ç‚¹å¤§ã€‚è¿™é‡Œå¯ä»¥å€ŸåŠ©çœ‹æ¿çš„å½¢å¼è®©ç ”å‘äººå‘˜å¯ä»¥éšæ—¶å…³æ³¨åˆ°è‡ªå·±çš„æäº¤çš„å·¥ç¨‹ï¼Œç»“åˆå‘Šè­¦æ¥åšï¼Œæ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚</p><h4 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®‰è£…Build Monitor View æ’ä»¶ï¼Œç„¶ååœ¨ä¸»é¡µé¢æ·»åŠ <code>+</code>ä¸€ä¸ªè§†å›¾<br><img src="https://img.xxlaila.cn/1571707794737.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥æ ¹æ®jobçš„ç±»å‹æˆ–è€…æ ¹æ®è‡ªå·±çš„æ¡ä»¶è¿›è¡Œ<a href="https://xxlaila.github.io/2019/08/09/jenkins-job%E7%AE%A1%E7%90%86/" target="_blank" rel="noopener">è¿‡æ»¤job</a>æ¥ç”Ÿæˆçœ‹æ¿ã€‚</p><ul><li>Build Monitor - View Settings: æ ¹æ®jobçš„ä¸€äº›çŠ¶æ€æ¥è¿›è¡Œæ’åº<br><img src="https://img.xxlaila.cn/1571708048469.jpg" alt="img"></li></ul><h3 id="jenkins-ç›‘æ§"><a href="#jenkins-ç›‘æ§" class="headerlink" title="jenkins ç›‘æ§"></a>jenkins ç›‘æ§</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰æ—¶å€™æˆ‘ä»¬æ²¡æœ‰ç›‘æ§ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦çœ‹çœ‹jenkinsçš„ä¸€äº›ç›‘æ§ä¿¡æ¯ï¼Œå¦‚ï¼šå†…å­˜ã€cpuã€ç³»ç»Ÿè´Ÿå€ºã€httpå“åº”æ—¶é—´ã€ç³»ç»Ÿè¿›ç¨‹æ•°ã€çº¿ç¨‹æ•°ç­‰ï¼Œæœ‰æ‡’å¾—å®‰è£…ç›‘æ§ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ©jenkinsè‡ªå¸¦çš„ä¸€ä¸ªæ’ä»¶<code>Monitoring</code>ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ’ä»¶å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç³»ç»Ÿç®¡ç†èœå•ä¸‹é¢çœ‹åˆ°<code>Monitoring of Jenkins master</code><br><img src="https://img.xxlaila.cn/1571708499625.jpg" alt="img"></p><p>ç‚¹å‡»è¿›å…¥ä»¥åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<br><img src="https://img.xxlaila.cn/1571708561404.jpg" alt="img"><br>é¡µé¢æ˜¾ç¤ºä¹±ç ï¼Œè¿™ä¸ªå¯ä»¥è‡ªå·±googleè§£å†³</p><h3 id="Build-Trigger-Badge"><a href="#Build-Trigger-Badge" class="headerlink" title="Build Trigger Badge"></a>Build Trigger Badge</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤æ’ä»¶ç›´æ¥åœ¨æ„å»ºå†å²è®°å½•ä¸­æ˜¾ç¤ºä»£è¡¨æ„å»ºåŸå› çš„å›¾æ ‡ã€‚å®ƒå¯ä»¥è®©æ‚¨å¿«é€ŸçŸ¥é“æ˜¯å“ªä¸ªåŸå› è§¦å‘äº†æ„å»ºã€‚å¦‚æœæ²¡æœ‰æ­¤æ’ä»¶ï¼Œæ‚¨æœ‰æ—¶å¯èƒ½ä¼šæƒ³çŸ¥é“æ˜¯ä»€ä¹ˆè§¦å‘äº†æ„å»ºå†å²ä¸­æ˜¾ç¤ºçš„&gt;&gt;ç‰¹å®šæ„å»ºã€‚è¦çŸ¥é“è¿™ä¸€ç‚¹ï¼Œæ‚¨å¿…é¡»å•ç‹¬æ‰“å¼€æ¯ä¸ªé“¾æ¥ï¼Œè¿™å¯èƒ½å¾ˆéº»çƒ¦ã€‚<br><img src="https://img.xxlaila.cn/1572059619062.jpg" alt="img"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;jenkins-å¯è§†åŒ–æ„å»º&quot;&gt;&lt;a href=&quot;#jenkins-å¯è§†åŒ–æ„å»º&quot; class=&quot;headerlink&quot; title=&quot;jenkins å¯è§†åŒ–æ„å»º&quot;&gt;&lt;/a&gt;jenkins å¯è§†åŒ–æ„å»º&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ä¹‹å‰é‡åˆ°è¿‡å¼€å‘æäº¤ä»£ç åï¼Œå®Œå…¨ä¸ç®¡æäº¤çš„ä»£ç æ˜¯å¦å‘å¸ƒæˆåŠŸï¼ŒåŠæ—¶åæ¥åŠ å…¥äº†ä¼ä¸šå¾®ä¿¡çš„å‘Šè­¦æœºåˆ¶ï¼Œä½†æ˜¯ä¾ç„¶æœ‰äººä¸ä¼šå»å…³æ³¨è¿™ä¸ªã€‚
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/tags/jenkins/"/>
    
  </entry>
  
  <entry>
    <title>pipelineè¯­æ³•</title>
    <link href="https://www.xxlaila.cn/2019/10/21/pipeline%E8%AF%AD%E6%B3%95/"/>
    <id>https://www.xxlaila.cn/2019/10/21/pipelineè¯­æ³•/</id>
    <published>2019-10-21T07:26:19.000Z</published>
    <updated>2019-10-28T03:35:08.785Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="pipeline"><a href="#pipeline" class="headerlink" title="pipeline"></a>pipeline</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€è¿‘åœ¨æµ‹è¯•k8sä¸Šçš„ci/cdï¼Œä¹‹å‰çš„ci/cdå…¶å®ä¹Ÿèƒ½æ»¡è¶³ç›®å‰å…ˆä¸šåŠ¡çš„éœ€æ±‚ï¼Œä½†æ˜¯æƒ³å°è¯•æ”¹è¿›ä¸€ä¸‹ï¼Œä¼˜åŒ–ä»¥å‰çš„jobï¼Œå¸Œæœ›åœ¨ç™»å½•ciçš„æ—¶å€™æ›´åŠ çš„ç®€æ´ï¼Œ<a id="more"></a> è€Œä¸”æŸ¥æ‰¾jobçš„æ—¶å€™ï¼Œç‚¹å‡»ä¸€ä¸ªjobå°±èƒ½æŸ¥çœ‹å®Œæ•´çš„ä¿¡æ¯ï¼Œä¸éœ€è¦jobä¹‹é—´çš„æ¥å›åˆ‡æ¢ï¼Œç­‰ç­‰å„ç§ç†ç”±ï¼ŒğŸ˜ğŸ˜ã€‚è¿™é‡Œä½¿ç”¨jenkins pipelineï¼Œèµ·åˆæµ‹è¯•çš„æ—¶å€™ä½¿ç”¨pipelineï¼Œæ²¡é—®é¢˜ä»¥åï¼Œä½¿ç”¨jenkinsfileã€‚</p><h3 id="pipeline-å¸¸ç”¨ä»‹ç»"><a href="#pipeline-å¸¸ç”¨ä»‹ç»" class="headerlink" title="pipeline å¸¸ç”¨ä»‹ç»"></a>pipeline å¸¸ç”¨ä»‹ç»</h3><h4 id="æ¸…ç†å†å²build"><a href="#æ¸…ç†å†å²build" class="headerlink" title="æ¸…ç†å†å²build"></a>æ¸…ç†å†å²build</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ™®é€šjobçš„æ—¶å€™æ¸…ç†å’Œä¿ç•™å†å²jobçš„build å¾ˆç®€å•ï¼Œå‹¾å‹¾å°±å¯ä»¥å•¦ï¼Œä½†æ˜¯pipelineå°±çš„ä½¿ç”¨ä¸€ä¸‹æ–¹å¼ï¼Œè€Œä¸”è¿˜çš„å†™åœ¨æœ€å‰é¢ï¼Œä¸ç„¶è¯†åˆ«ä¸äº†ï¼Œä¼šæŠ¥é”™çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">options &#123;</span><br><span class="line">        buildDiscarder(logRotar(numToKeepStr: <span class="string">'8'</span>))</span><br><span class="line">        disableConcurrentBuilds()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>buildDiscarder: ä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°</li><li>disableConcurrentBuilds: ç¦æ­¢å¹¶å‘æ„å»º</li></ul><p>è¯¦ç»†å‚æ•°:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">buildDiscarder(logRotator(numToKeepStr: <span class="string">'8'</span>, artifactNumToKeepStr: <span class="string">'8'</span>, daysToKeepStr: <span class="string">'8'</span>, artifactDaysToKeepStr: <span class="string">'7'</span>))</span><br></pre></td></tr></table></figure><ul><li>artifactDaysToKeepStr: å‘å¸ƒåŒ…ä¿ç•™å¤©æ•°</li><li>artifactNumToKeepStr: å‘å¸ƒåŒ…æœ€å¤§ä¿ç•™#ä¸ªæ„å»º</li><li>daysToKeepStr: ä¿æŒæ„å»ºçš„å¤©æ•°</li><li>numToKeepStr: ä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°</li></ul><h4 id="gitlabäº‹ä»¶è§¦å‘"><a href="#gitlabäº‹ä»¶è§¦å‘" class="headerlink" title="gitlabäº‹ä»¶è§¦å‘"></a>gitlabäº‹ä»¶è§¦å‘</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¹‹å‰çš„æˆ‘ä»¬çš„ci/cdéƒ½æ˜¯å¼€å‘æäº¤åˆ°æŸä¸€ä¸ªåˆ†æ”¯ï¼Œç„¶åjenkinsä¼šè‡ªåŠ¨è§¦å‘ç¼–è¯‘ã€å‘å¸ƒï¼Œè€Œä¸”é…ç½®è¿™ä¸ªæ­¥éª¤ä¹Ÿéœ€è¦å¥½å‡ æ­¥æ‰èƒ½å®ç°ï¼Œä½†åœ¨pipelineä¸­ä¹Ÿå¯ä»¥é€šè¿‡ä»£ç å½¢å¼æœ€è¿™ç§è§¦å‘å™¨(å‹¾å­)è¿›è¡Œé…ç½®ã€‚è¿™æ ·è®©æ¯ä¸ªé¡¹ç›®éƒ½å’Œjenkinsè¿›è¡Œè€¦åˆï¼›è¿ç»´äººå‘˜åªéœ€è¦ä¸“æ³¨çš„ç»´æŠ¤Jenkinsfileï¼Œåˆ›å»ºå¯¹åº”çš„é¡¹ç›®å³å¯ã€‚gitlabè§¦å‘jenkinsçš„æ„å»ºéœ€è¦ä¾èµ–Gitlabæ’ä»¶ã€‚è¿™é‡Œéœ€è¦è‡ªè¡Œå®‰è£…</p><ul><li><p>æ¥å—å›ºå®šçš„åˆ†æ”¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">triggers &#123;</span><br><span class="line">        gitlab(triggersOnPush: <span class="literal">true</span>,</span><br><span class="line">              triggersOnMergeRequest: <span class="literal">true</span>,</span><br><span class="line">              branchFilterType: <span class="string">"NameBasedFilter"</span>,</span><br><span class="line">              includeBranchesSpec: <span class="string">"dev,test,master"</span>,</span><br><span class="line">              secretToken: <span class="string">"<span class="variable">$&#123;env.git_token&#125;</span>"</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>triggerOnPush: å½“Gitlabè§¦å‘pushäº‹ä»¶æ—¶ï¼Œæ˜¯å¦æ‰§è¡Œæ„å»º</p></li><li><p>triggerOnMergeRequest: å½“Gitlabè§¦å‘mergeRequestäº‹ä»¶æ—¶ï¼Œæ˜¯å¦æ‰§è¡Œæ„å»º</p></li><li><p>branchFilterType: åªæœ‰ç¬¦åˆæ¡ä»¶çš„åˆ†æ”¯æ‰ä¼šè§¦å‘æ„å»ºï¼Œå¿…é€‰ï¼Œå¦åˆ™æ— æ³•å®ç°è§¦å‘ã€‚</p><ul><li>All: æ‰€æœ‰åˆ†æ”¯</li><li>NameBasedFilter: åŸºäºåˆ†æ”¯åè¿›è¡Œè¿‡æ»¤ï¼Œå¤šä¸ªåˆ†æ”¯åä½¿ç”¨é€—å·åˆ†éš”<ul><li>includeBranchesSpec: åŸºäºbranchFilterTypeå€¼ï¼Œè¾“å…¥æœŸæœ›åŒ…æ‹¬çš„åˆ†æ”¯çš„è§„åˆ™</li><li>excludeBranchesSpec: åŸºäºbranchFilterTypeå€¼ï¼Œè¾“å…¥æœŸæœ›æ’é™¤çš„åˆ†æ”¯çš„è§„åˆ™</li></ul></li><li>RegexBasedFilter: åŸºäºæ­£åˆ™è¡¨è¾¾å¼å¯¹åˆ†æ”¯åè¿›è¡Œè¿‡æ»¤<ul><li>sourceBranchRegex: å®šä¹‰æœŸæœ›çš„é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼é™åˆ¶çš„åˆ†æ”¯è§„åˆ™</li></ul></li></ul></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰€ä»¥åˆ†æ”¯ä¸é˜è¿°ï¼Œå…¶ä»–çš„ä¸¤ä¸ªé€‰é¡¹æ˜¯æœ€å®ç”¨çš„ï¼Œæˆ‘ä»¬åœ¨æ­£å¼ä½¿ç”¨çš„æ—¶å€™ä¸€å®šä¼šç”¨åˆ°è¿™ä¸ªï¼Œä¸Šé¢çš„ä¾‹å­æ˜¯ä¸€ä¸ªæ¥å—å›ºå®šçš„å‡ ä¸ªåˆ†æ”¯</p><ul><li>åŒ¹é…çš„æ–¹å¼<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">triggers &#123;</span><br><span class="line">        gitlab(triggersOnPush: <span class="literal">true</span>,</span><br><span class="line">              triggersOnMergeRequest: <span class="literal">true</span>,</span><br><span class="line">              branchFilterType: <span class="string">"RegexBasedFilter"</span>,</span><br><span class="line">              sourceBranchRegex: <span class="string">"dev.*"</span>,</span><br><span class="line">              secretToken: <span class="string">"<span class="variable">$&#123;env.git_token&#125;</span>"</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œçš„git_tokenéœ€è¦åœ¨jenkinsçš„å…¨å±€å˜é‡é‡Œé¢æ·»åŠ ä¸€ä¸ª<code>Environment variables</code>å¯¹åº”çš„ä¸€ä¸ªé”®å€¼å³å¯ã€‚</p><p><strong>æ³¨</strong>: æ‰€æœ‰çš„è§¦å‘å™¨éƒ½éœ€è¦å…ˆæ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ï¼Œè®©jenkinså®¶åœ¨å…¶ä¸­çš„é…ç½®ï¼Œå¯¹åº”çš„æŒ‡ä»¤æ‰ä¼šç”Ÿæ•ˆã€‚</p><ul><li><p>jenkins éªŒè¯<br><img src="https://img.xxlaila.cn/1571644117201.jpg" alt="img"></p></li><li><p>gitlabéªŒè¯<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éœ€è¦å°†é¡¹ç›®å›è°ƒåœ°å€å†™å…¥åˆ°Gitlabé’©å­å½“ä¸­æ‰å¯ä»¥ã€‚ç»è¿‡æµ‹è¯•ä¸€ä¸ªpipelineçš„jobå¯ä»¥ç®¡ç†å¤šä¸ªåˆ†æ”¯çš„è§¦å‘ï¼Œé¿å…ä¹‹å‰çš„æ¯ä¸€ä¸ªåˆ†æ”¯çš„jobè¿›è¡Œè§¦å‘ã€‚</p></li></ul><h4 id="parameters-æ¨¡å—"><a href="#parameters-æ¨¡å—" class="headerlink" title="parameters æ¨¡å—"></a>parameters æ¨¡å—</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯¥æ¨¡å—éœ€è¦å®‰è£…ï¼ŒparametersæŒ‡ä»¤æä¾›ç”¨æˆ·åœ¨è§¦å‘Pipelineæ—¶åº”æä¾›çš„å‚æ•°åˆ—è¡¨ã€‚è¿™äº›ç”¨æˆ·æŒ‡å®šçš„å‚æ•°çš„å€¼é€šè¿‡è¯¥paramså¯¹è±¡å¯ç”¨äºPipelineæ­¥éª¤ã€‚ç ”å‘ç»å¸¸ä¼šæœ‰æ‰“å‡ºä¸€ä¸ªç‰¹æ€§åˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯ç”¨äºhotfixï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç»™ç ”å‘æäº¤ä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„åˆ†æ”¯ï¼Œç„¶ä»–ä»¬å»éƒ¨ç½²åˆ°å¯¹åº”çš„ç¯å¢ƒã€‚</p><ul><li><p>å­—ç¬¦ä¸²å‚æ•°<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œç”¨æˆ·å¯ä»¥åœ¨Jenkins UIä¸Šè¾“å…¥å­—ç¬¦ä¸²ï¼Œå¸¸è§ä½¿ç”¨è¿™ä¸ªå‚æ•°çš„åœºæ™¯æœ‰ï¼Œç”¨æˆ·åï¼Œæ”¶ä»¶äººé‚®ç®±ï¼Œæ–‡ä»¶ç½‘ç»œè·¯å¾„ï¼Œä¸»æœºåç§°çš„æˆ–è€…urlç­‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parameters &#123;</span><br><span class="line">    string(name: <span class="string">'DEPLOY_ENV'</span>, defaultValue: <span class="string">'staging'</span>, description: <span class="string">''</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¸ƒå°”å€¼å‚æ•°<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®šä¹‰ä¸€ä¸ªå¸ƒå°”ç±»å‹å‚æ•°ï¼Œç”¨æˆ·å¯ä»¥åœ¨Jenkins UIä¸Šé€‰æ‹©æ˜¯è¿˜æ˜¯å¦ï¼Œé€‰æ‹©æ˜¯è¡¨ç¤ºä»£ç ä¼šæ‰§è¡Œè¿™éƒ¨åˆ†ï¼Œå¦‚æœé€‰æ‹©å¦ï¼Œä¼šè·³è¿‡è¿™éƒ¨åˆ†ã€‚ä¸€èˆ¬éœ€è¦ä½¿ç”¨å¸ƒå°”å€¼çš„åœºæ™¯æœ‰ï¼Œæ‰§è¡Œä¸€äº›ç‰¹å®šé›†æˆçš„è„šæœ¬æˆ–åˆ™å·¥ä½œï¼Œæˆ–è€…äº‹åæ¸…é™¤ç¯å¢ƒï¼Œä¾‹å¦‚æ¸…æ¥šJenkinsçš„workspaceè¿™æ ·çš„åŠ¨ä½œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parameters &#123;</span><br><span class="line">    booleanParam(name: <span class="string">'DEBUG_BUILD'</span>, defaultValue: <span class="literal">true</span>, description: <span class="string">''</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€‰æ‹©å‚æ•°<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€‰æ‹©ï¼ˆchoiceï¼‰çš„å‚æ•°å°±æ˜¯æ”¯æŒç”¨æˆ·ä»å¤šä¸ªé€‰æ‹©é¡¹ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªå€¼ç”¨æ¥è¡¨ç¤ºè¿™ä¸ªå˜é‡çš„å€¼ã€‚å·¥ä½œä¸­å¸¸ç”¨çš„åœºæ™¯ï¼Œæœ‰é€‰æ‹©æœåŠ¡å™¨ç±»å‹ï¼Œé€‰æ‹©ç‰ˆæœ¬å·ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parameters &#123;</span><br><span class="line">    choice(name: <span class="string">'ENV_TYPE'</span>, choices: [<span class="string">'dev'</span>, <span class="string">'test'</span>, <span class="string">'product'</span>], description: <span class="string">'dev env test'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶parametersæ¨¡å—æˆ‘ä»¬ç”¨çš„æœ€å¤šçš„æ˜¯åœ¨æ‰‹åŠ¨çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç‚¹å‡»è¿›è¡Œæ„å»ºéƒ¨ç½²ï¼Œè‡³äºå…¶ä»–çš„ç›®å‰æˆ‘æš‚æ—¶æœªç”¨åˆ°</p><ul><li>é€‰æ‹©åˆ†æ”¯éƒ¨ç½²<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent &#123;label <span class="string">'agent-node'</span>&#125;</span><br><span class="line">    parameters &#123;</span><br><span class="line">        gitParameter branchFilter: <span class="string">'origin/(.*)'</span>, defaultValue: <span class="string">'dev'</span>, name: <span class="string">'BRANCH'</span>, <span class="built_in">type</span>: <span class="string">'PT_BRANCH'</span></span><br><span class="line">    &#125;</span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(<span class="string">'gitlib code'</span>) &#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                git branch:<span class="string">"<span class="variable">$&#123;params.BRANCH&#125;</span>"</span>, credentialsId:<span class="string">'gitlabUser'</span>, url: <span class="string">"http://gitlab.xxlaila.cn/xxx/kxl-eureka.git"</span></span><br><span class="line">                script &#123;</span><br><span class="line">                    build_tag = sh(returnStdout: <span class="literal">true</span>, script: <span class="string">'git rev-parse --short HEAD'</span>).trim()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>parameters<a href="https://wiki.jenkins.io/display/JENKINS/Git+Parameter+Plugin" target="_blank" rel="noopener">å®˜æ–¹å‚è€ƒ</a>ï¼Œä»‹ç»å¾—æŒºè¯¦ç»†çš„ï¼Œ<a href="https://mohamicorp.atlassian.net/wiki/spaces/DOC/pages/136740885/Triggering+Jenkins+Based+on+New+Tags" target="_blank" rel="noopener">è¾…åŠ©å‚è€ƒ</a><br><img src="https://img.xxlaila.cn/1571651950634.jpg" alt="img"></p><ul><li>è¿˜å¯ä»¥å†™æˆ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">parameters &#123;</span><br><span class="line">    gitParameter(</span><br><span class="line">        branch: <span class="string">''</span>,</span><br><span class="line">        branchFilter: <span class="string">'origin/(.*)'</span>,</span><br><span class="line">        defaultValue: <span class="string">'dev'</span>,</span><br><span class="line">        description: <span class="string">'test code'</span>,</span><br><span class="line">        name: <span class="string">'BRANCH'</span>,</span><br><span class="line">        quickFilterEnabled: <span class="literal">false</span>,</span><br><span class="line">        selectedValue: <span class="string">'NONE'</span>,</span><br><span class="line">        sortMode: <span class="string">'NONE'</span>,</span><br><span class="line">        tagFilter: <span class="string">'*'</span>,</span><br><span class="line">        <span class="built_in">type</span>: <span class="string">'PT_BRANCH'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå½“è¿™é‡Œè®¾ç½®äº†å¯ä»¥é€‰æ‹©åˆ†æ”¯çš„æ—¶å€™ï¼Œç„¶ååœ¨ä¹‹å‰çš„è‡ªåŠ¨è§¦å‘å°±ä¼šæœ‰é—®é¢˜ï¼Œå°±æ˜¯åœ¨å»åˆ†æ”¯æ‹‰å»ä»£ç çš„æ—¶å€™å°±ä¸€åªæ˜¯devåˆ†æ”¯ï¼Œè€Œä¸æ˜¯å…¶ä»–çš„åˆ†æ”¯ï¼Œè¿™é‡Œä»ç„¶åœ¨æ¢ç´¢çš„æµ‹è¯•ä¸­ã€‚<br>ç¼–è¾‘jobå¯ä»¥çœ‹åˆ°<br><img src="https://img.xxlaila.cn/1571903055002.jpg" alt="img"></p><h3 id="å¤šåˆ†æ”¯pipeline"><a href="#å¤šåˆ†æ”¯pipeline" class="headerlink" title="å¤šåˆ†æ”¯pipeline"></a>å¤šåˆ†æ”¯pipeline</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŒ‰ç…§ä¸Šé¢çš„åˆè¦æ”¯æŒç”¨æˆ·å¯ä»¥é€‰æ‹©åˆ†æ”¯ï¼Œåˆè¦é€‚åˆè‡ªåŠ¨è§¦å‘åŠŸèƒ½ã€‚ç”¨å•åˆ†æ”¯pipelineæ¥ç®¡ç†é¡¹ç›®ï¼Œåˆè¦å›åˆ°æˆ‘ä»¬æœ€åˆçš„æ¨¡å¼ï¼Œè€Œåœ¨å®é™…è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ°å¤šåˆ†æ”¯åŒæ—¶è¿›è¡Œå¼€å‘ã€‚è¿™æ ·å°±æ»¡è¶³äº†æˆ‘ä»¬çš„å®é™…éœ€æ±‚ã€‚å¤šåˆ†æ”¯ä»»åŠ¡è¿™é‡Œä¸åšè¿‡å¤šçš„è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œé˜è¿°ä¸¤ä¸ªåŠŸèƒ½ç‚¹ï¼›åˆ†åˆ«æ˜¯åˆ†æ”¯çš„æ‰«æç­–ç•¥å’Œå­¤å„¿é¡¹ç­–ç•¥(Orphaned Item)ã€‚</p><h4 id="åˆ†æ”¯çš„æ‰«æç­–ç•¥"><a href="#åˆ†æ”¯çš„æ‰«æç­–ç•¥" class="headerlink" title="åˆ†æ”¯çš„æ‰«æç­–ç•¥"></a>åˆ†æ”¯çš„æ‰«æç­–ç•¥</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ†æ”¯æ‰«ææ˜¯jenkinsæ ¹æ®ä¸€å®šçš„ç­–ç•¥å»ä»£ç ä»“åº“æ‰«æåˆ†æ”¯ï¼Œå¦‚æœæœ‰æ–°åˆ†æ”¯å°±åˆ›å»ºä¸€ä¸ªä»¥æ–°åˆ†æ”¯å‘½åçš„ä»»åŠ¡ï¼Œå¦‚æœå‘ç°åˆ†æ”¯è¢«åˆ é™¤ï¼Œå°±åˆ é™¤å¯¹åº”çš„jenkinsä»»åŠ¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨â€æ‰«æå¤šåˆ†æ”¯æµæ°´çº¿è§¦å‘å™¨(Scan Multibranch Pipeline Triggers)â€ä¸‹æœ‰ä¸€ä¸ª: Periodically if not otherwise runï¼ˆæ²¡æœ‰æ‰‹åŠ¨è§¦å‘ï¼Œå°±å®šæœŸæ‰«æåˆ†æ”¯ï¼‰ã€‚é€‰æ‹©æ­¤é¡¹ï¼Œè®¾ç½®ä¸€ä¸ªæ‰«æé—´éš”æ—¶é•¿ã€‚å¯ä»¥æ ¹æ®é¡¹ç›®åˆ†æ”¯çš„é¢‘ç¹ç¨‹åº¦è®¾ç½®å‘¨æœŸçš„é•¿çŸ­ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»åŠ¡é¡µé¢æ‰‹åŠ¨è§¦å‘jenkinsè¿›è¡Œæ‰«æã€‚<br><img src="https://img.xxlaila.cn/1571973819297.jpg" alt="img"></p><h4 id="å­¤å„¿é¡¹ç­–ç•¥-Orphaned-Item"><a href="#å­¤å„¿é¡¹ç­–ç•¥-Orphaned-Item" class="headerlink" title="å­¤å„¿é¡¹ç­–ç•¥(Orphaned Item)"></a>å­¤å„¿é¡¹ç­–ç•¥(Orphaned Item)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯¥åŠŸèƒ½æ˜¯åœ¨ä»£ç ä»“åº“ä¸­åˆ é™¤äº†releaseåˆ†æ”¯ï¼Œé‚£ä¹ˆåœ¨å¤šä»»åŠ¡é¡µé¢ä¸Šï¼Œè¯¥åˆ†æ”¯åœ¨jenkinsä¸Šçš„ä»»åŠ¡ä¹Ÿåº”è¯¥å¯¹åº”åˆ é™¤ã€‚ä»€ä¹ˆæ—¶å€™åˆ é™¤ï¼Œå–å†³äºä¸‹æ¬¡åˆ†æ”¯æ‰«ææ—¶é—´ã€‚å¦‚æœä»£ç ä»“åº“ä¸­çš„åˆ†æ”¯è¢«åˆ é™¤ï¼Œè€Œjenkinsä¸Šå“åº”çš„ä»»åŠ¡æ²¡æœ‰è¢«åˆ é™¤ï¼Œé‚£ä¹ˆè¿™ä¸ªä»»åŠ¡å°±æ˜¯æ‰€è¯´çš„å­¤å„¿ä»»åŠ¡ã€‚å¯¹äºåˆ†æ”¯ä»»åŠ¡çš„å†å²è®°å½•ï¼Œä¿å­˜å¤šé•¿æ—¶é—´è®¾ç½®</p><ul><li><p>ç•Œé¢é…ç½®<br><img src="https://img.xxlaila.cn/1571974190710.jpg" alt="img"></p></li><li><p>pipeline å†™æ³•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">orphanedItemStrategy &#123;</span><br><span class="line">    discardolditems &#123;</span><br><span class="line">        daysTokeep(10)</span><br><span class="line">        numToKeep(5)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ³¨</strong>: è¿™é‡Œå­¤å„¿ç­–ç•¥pipeline éœ€è¦å¦å¤–ä¸€ç§æ–¹å¼æ¥æ”¯æŒï¼Œ<a href="https://gitee.com/jenkins-zh/gitlab-branch-source-plugin" target="_blank" rel="noopener">Setting up GitLab Server Configuration on Jenkins</a>ï¼Œè¿™é‡Œæ²¡æœ‰ç”¨åˆ°è¿™ä¸ªï¼Œä¸åšè¿‡å¤šçš„é˜è¿°ã€‚<a href="https://github.com/jenkinsci/job-dsl-plugin/wiki/Migration" target="_blank" rel="noopener">githubå‚è€ƒ</a></p><h3 id="å¤šåˆ†æ”¯çš„è‡ªåŠ¨è§¦å‘"><a href="#å¤šåˆ†æ”¯çš„è‡ªåŠ¨è§¦å‘" class="headerlink" title="å¤šåˆ†æ”¯çš„è‡ªåŠ¨è§¦å‘"></a>å¤šåˆ†æ”¯çš„è‡ªåŠ¨è§¦å‘</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ†æ”¯çš„è§¦å¥½å¤„æ˜¯å¤šå¤šçš„ï¼Œè‡ªç„¶åœ¨å¤šåˆ†æ”¯é¢å‰è‡ªåŠ¨è§¦å‘è‚¯å®šä¹Ÿå°‘ä¸äº†ã€‚å¤šåˆ†æ”¯çš„è§¦å‘æœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‰é¢æåˆ°çš„Gitlab triggerå’ŒGeneric Webhook Triggerã€‚ä¸‹é¢åˆ†åˆ«å¯¹ä¸¤ç§æ¨¡å¼è¿›è¡Œé˜è¿°å’Œå®é™…çš„æµ‹è¯•</p><h4 id="Generic-Webhook-Trigger"><a href="#Generic-Webhook-Trigger" class="headerlink" title="Generic Webhook Trigger"></a>Generic Webhook Trigger</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generic Webhook Trigger æ’ä»¶éœ€è¦æå‰å®‰è£…ï¼ŒGenericTriggerè§¦å‘æ¡ä»¶æ˜¯ç”±GWTæ’ä»¶æä¾›ï¼ŒGenericTriggerè§¦å‘çš„æ¡ä»¶åˆ†ä¸º5ä¸ªéƒ¨åˆ†ã€‚<a href="https://wiki.jenkins.io/display/JENKINS/Generic+Webhook+Trigger+Plugin" target="_blank" rel="noopener">GenericTriggerå®˜æ–¹å‚è€ƒ</a></p><ul><li>ä»HTTP POSTè¯·æ±‚ä¸­æå–å‚æ•°</li><li>tokenï¼ŒGWTæ’ä»¶ç”¨äºæ ‡è¯†jenkinsé¡¹ç›®çš„å”¯ä¸€æ€§</li><li>æ ¹æ®è¯·æ±‚å‚æ•°å€¼åˆ¤æ–­æ˜¯å¦è§¦å‘Jenkinsé¡¹ç›®æ‰§è¡Œ</li><li>æ—¥å¿—æ§åˆ¶æ‰“å°</li><li>webhookå“åº”æ§åˆ¶</li></ul><h4 id="GerenericTrigger-çš„å†™æ³•"><a href="#GerenericTrigger-çš„å†™æ³•" class="headerlink" title="GerenericTrigger çš„å†™æ³•"></a>GerenericTrigger çš„å†™æ³•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">triggers &#123;</span><br><span class="line">    GenericTrigger(</span><br><span class="line">        genericVariables:[</span><br><span class="line">            [key: <span class="string">'ref'</span>, value: <span class="string">'$.ref'</span>]</span><br><span class="line">        ],</span><br><span class="line"></span><br><span class="line">        token: env.JOB_NAME,</span><br><span class="line">        regexpFilterText: <span class="string">'$ref'</span>,</span><br><span class="line">        regexpFilterExpression: <span class="string">'refs/heads/'</span> + env.BRANCH_NAME</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env.BRANCH_NAME è¿™é‡ŒæŒ‡çš„æ˜¯åˆ†æ”¯åã€‚å½“ç„¶è¿™æ ·ä¿®æ”¹ä»¥åæ˜¯ä¸è¡Œçš„ï¼Œæ˜¯è¾¾ä¸åˆ°è‡ªåŠ¨è§¦å‘çš„ï¼Œéœ€è¦è‡ªè¡Œå»gitlabä¸Šæ·»åŠ é’©å­ï¼Œè¿™é‡Œç»è¿‡æµ‹è¯•æµç¨‹ï¼šç”¨æˆ·ä¿®æ”¹devåˆ†æ”¯ï¼Œpushåˆ°gitlab devåˆ†æ”¯å¯ä»¥è§¦å‘ä»»åŠ¡çš„devåˆ†æ”¯è‡ªåŠ¨æ„å»ºï¼›åˆå¹¶åˆ°teståˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥è§¦å‘teståˆ†æ”¯è‡ªåŠ¨æ„å»ºï¼›åœ¨åˆå¹¶åˆ°masteråˆ†æ”¯ä¹Ÿèƒ½è‡ªåŠ¨è§¦å‘ä»»åŠ¡çš„masteråˆ†æ”¯è‡ªåŠ¨æ„å»ºã€‚<br><img src="https://img.xxlaila.cn/1571984557618.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¦å®ç°è¿™å—ï¼Œè¦ç†è§£çŸ¥é“è¿™ä¸ªä¸œè¥¿ï¼Œé¦–å…ˆè¦çŸ¥é“gitlab push æ•°æ®çš„æ ¼å¼ï¼ŒçŸ¥é“äº†gitlab pushæ ¼å¼ï¼Œæˆ‘ä»¬æ‰çŸ¥é“åº”è¯¥æ€ä¹ˆæ“ä½œï¼Œ<a href="https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#webhooks" target="_blank" rel="noopener">gitlab pushæ•°æ®çš„æ ¼å¼å‚è€ƒ</a>ï¼Œ</p><ul><li>å‚è€ƒ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"object_kind"</span>: <span class="string">"push"</span>,</span><br><span class="line">  <span class="string">"before"</span>: <span class="string">"95790bf891e76fee5e1747ab589903a6a1f80f22"</span>,</span><br><span class="line">  <span class="string">"after"</span>: <span class="string">"da1560886d4f094c3e6c9ef40349f7d38b5d27d7"</span>,</span><br><span class="line">  <span class="string">"ref"</span>: <span class="string">"refs/heads/master"</span>,</span><br><span class="line">  <span class="string">"checkout_sha"</span>: <span class="string">"da1560886d4f094c3e6c9ef40349f7d38b5d27d7"</span>,</span><br><span class="line">  <span class="string">"user_id"</span>: 4,</span><br><span class="line">  <span class="string">"user_name"</span>: <span class="string">"John Smith"</span>,</span><br><span class="line">  <span class="string">"user_username"</span>: <span class="string">"jsmith"</span>,</span><br><span class="line">  <span class="string">"user_email"</span>: <span class="string">"john@example.com"</span>,</span><br><span class="line">  <span class="string">"user_avatar"</span>: <span class="string">"https://s.gravatar.com/avatar/d4c74594d841139328695756648b6bd6?s=8://s.gravatar.com/avatar/d4c74594d841139328695756648b6bd6?s=80"</span>,</span><br><span class="line">  <span class="string">"project_id"</span>: 15,</span><br><span class="line">  <span class="string">"project"</span>:&#123;</span><br><span class="line">    <span class="string">"id"</span>: 15,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Diaspora"</span>,</span><br><span class="line">    <span class="string">"description"</span>:<span class="string">""</span>,</span><br><span class="line">    <span class="string">"web_url"</span>:<span class="string">"http://example.com/mike/diaspora"</span>,</span><br><span class="line">    <span class="string">"avatar_url"</span>:null,</span><br><span class="line">    <span class="string">"git_ssh_url"</span>:<span class="string">"git@example.com:mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"git_http_url"</span>:<span class="string">"http://example.com/mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"namespace"</span>:<span class="string">"Mike"</span>,</span><br><span class="line">    <span class="string">"visibility_level"</span>:0,</span><br><span class="line">    <span class="string">"path_with_namespace"</span>:<span class="string">"mike/diaspora"</span>,</span><br><span class="line">    <span class="string">"default_branch"</span>:<span class="string">"master"</span>,</span><br><span class="line">    <span class="string">"homepage"</span>:<span class="string">"http://example.com/mike/diaspora"</span>,</span><br><span class="line">    <span class="string">"url"</span>:<span class="string">"git@example.com:mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"ssh_url"</span>:<span class="string">"git@example.com:mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"http_url"</span>:<span class="string">"http://example.com/mike/diaspora.git"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"repository"</span>:&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Diaspora"</span>,</span><br><span class="line">    <span class="string">"url"</span>: <span class="string">"git@example.com:mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="string">"homepage"</span>: <span class="string">"http://example.com/mike/diaspora"</span>,</span><br><span class="line">    <span class="string">"git_http_url"</span>:<span class="string">"http://example.com/mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"git_ssh_url"</span>:<span class="string">"git@example.com:mike/diaspora.git"</span>,</span><br><span class="line">    <span class="string">"visibility_level"</span>:0</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"commits"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"id"</span>: <span class="string">"b6568db1bc1dcd7f8b4d5a946b0b91f9dacd7327"</span>,</span><br><span class="line">      <span class="string">"message"</span>: <span class="string">"Update Catalan translation to e38cb41."</span>,</span><br><span class="line">      <span class="string">"timestamp"</span>: <span class="string">"2011-12-12T14:27:31+02:00"</span>,</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"http://example.com/mike/diaspora/commit/b6568db1bc1dcd7f8b4d5a946b0b91f9dacd7327"</span>,</span><br><span class="line">      <span class="string">"author"</span>: &#123;</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"Jordi Mallach"</span>,</span><br><span class="line">        <span class="string">"email"</span>: <span class="string">"jordi@softcatala.org"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"added"</span>: [<span class="string">"CHANGELOG"</span>],</span><br><span class="line">      <span class="string">"modified"</span>: [<span class="string">"app/controller/application.rb"</span>],</span><br><span class="line">      <span class="string">"removed"</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"id"</span>: <span class="string">"da1560886d4f094c3e6c9ef40349f7d38b5d27d7"</span>,</span><br><span class="line">      <span class="string">"message"</span>: <span class="string">"fixed readme"</span>,</span><br><span class="line">      <span class="string">"timestamp"</span>: <span class="string">"2012-01-03T23:36:29+02:00"</span>,</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"http://example.com/mike/diaspora/commit/da1560886d4f094c3e6c9ef40349f7d38b5d27d7"</span>,</span><br><span class="line">      <span class="string">"author"</span>: &#123;</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"GitLab dev user"</span>,</span><br><span class="line">        <span class="string">"email"</span>: <span class="string">"gitlabdev@dv6700.(none)"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"added"</span>: [<span class="string">"CHANGELOG"</span>],</span><br><span class="line">      <span class="string">"modified"</span>: [<span class="string">"app/controller/application.rb"</span>],</span><br><span class="line">      <span class="string">"removed"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"total_commits_count"</span>: 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬æƒ³æ ¹æ®ä¸åŒçš„åˆ†æ”¯æäº¤æ¥è§¦å‘jenkinsçš„æ„å»ºï¼Œé‚£å°±åº”è¯¥çŸ¥é“postæ•°æ®å“ªä¸€ä¸ªå±æ€§ä»£è¡¨äº†ä¸åŒçš„åˆ†æ”¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬å››è¡Œçœ‹åˆ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"ref"</span>: <span class="string">"refs/heads/master"</span>,</span><br></pre></td></tr></table></figure><p><strong>æ³¨é‡Š</strong>: ä¹Ÿå¯ä»¥é€šè¿‡IDEAå·¥å…·æäº¤çš„æ—¶å€™çœ‹åˆ°æäº¤çš„é€‰é¡¹ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨refå¯ä»¥å¾ˆå¥½çš„åŒºåˆ†ä¸åŒåˆ†æ”¯ï¼Œè¿™é‡Œå°±æ˜¯ä¸ºä»€ä¹ˆè¦å¡«å†™refçš„åŸå› ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡pipelineä»£ç çš„ç”Ÿæˆå™¨æ¥ç”Ÿæˆ</p><ul><li>pipeline ä»£ç ç”Ÿæˆå™¨<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">triggers &#123;</span><br><span class="line">  GenericTrigger causeString: <span class="string">'Generic Cause'</span>, genericVariables: [[defaultValue: <span class="string">''</span>, key: <span class="string">'ref'</span>, regexpFilter: <span class="string">''</span>, value: <span class="string">'$.ref'</span>]], printContributedVariables: <span class="literal">true</span>, printPostContent: <span class="literal">true</span>, regexpFilterExpression: <span class="string">'\'</span>refs/heads/\<span class="string">' + evn.BRANCH_NAME'</span>, regexpFilterText: <span class="string">'$ref'</span>, token: <span class="string">'env.JOB_NAME'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img.xxlaila.cn/1571982583457.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571982622070.jpg" alt="img"></p><p><strong>æ³¨</strong>: tokenå‚æ•°çš„ä½œç”¨æ˜¯æ ‡è¯†ä¸€ä¸ªpipelineåœ¨jenkinsä¸­çš„å”¯ä¸€æ€§ï¼Œè¿™ä¸ªå‚æ•°çš„é‡è¦æ€§å°±å¾—æèµ·GWTæ’ä»¶çš„åŸç†ã€‚å½“jenkinsæ”¶åˆ°generic-webhook-trgger/invokeæ¥å£çš„è¯·æ±‚æ—¶ï¼Œä¼šå°†è¯·æ±‚ä»£ç†ç»™GWTæ’ä»¶å¤„ç†ï¼ŒGWTæ’ä»¶å†…å®¹ä¼šä»jenkinså®ä¾‹å¯¹è±¡ä¸­å–å‡ºæ‰€æœ‰çš„å‚æ•°åŒ–jenkinsé¡¹ç›®ï¼ŒåŒ…æ‹¬pipelineï¼Œç„¶åè¿›è¡Œéå†ã€‚å¦‚æœæˆ‘ä»¬åœ¨å‚æ•°åŒ–é¡¹ç›®ä¸­Generic Triggeré…ç½®tokençš„å€¼ä¸webhookè¯·æ±‚æ—¶çš„tokenä¸€è‡´ï¼Œå°±ä¼šè§¦å‘æ”¹é¡¹ç›®ã€‚å¦‚æœå¤šä¸ªå‚æ•°åŒ–é¡¹ç›®çš„tokenä¸€æ ·ï¼Œåˆ™éƒ½ä¼šè¿›è¡Œè§¦å‘ï¼Œæ‰€ä»¥è¿™é‡Œçš„tokenæœ€å¥½æ—¶JOB_NAMEé¡¹ç›®åï¼Œå› ä¸ºè¿™ä¸ªæ˜¯åœ¨é¡¹ç›®æˆ–è€…æ˜¯åœ¨ä¸ºæœåŠ¡é¢†åŸŸä»–éƒ½æ˜¯å”¯ä¸€çš„ã€‚</p><ul><li>å‚æ•°ä»‹ç»:<ul><li>regexpFilterText: éœ€è¦è¿›è¡ŒåŒ¹é…çš„keyï¼Œä¾‹å­ä¸­ï¼Œä½¿ç”¨ä»post bodyä¸­æå–çš„refå˜é‡å€¼ã€‚</li><li>regexpFilterExpression: <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼</a>ï¼›å¦‚æœregexpFilterTextå‚æ•°ç¬¦åˆregexpFilterExpressionå‚æ•°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™è§¦å‘æ‰§è¡Œã€‚</li><li>printPostContent: å¸ƒå°”å€¼ï¼Œå°†webhookè¯·æ±‚ä¿¡æ¯æ‰“å°åˆ°æ—¥å¿—ä¸Š</li><li>printContributedVariables: å¸ƒå°”å€¼ï¼Œå°†æå–åçš„å˜é‡ååŠå˜é‡å€¼æ‰“å°å‡ºæ¥</li><li>causeString: å­—ç¬¦ä¸²å‹ï¼Œè§¦å‘åŸå› ï¼Œå¯ä»¥ç›´æ¥åº”ç”¨æå–åçš„å˜é‡ï¼Œå¦‚ causeString: â€˜Triggered on $msgâ€™</li><li>Silent response: å¸ƒå°”å‹ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“webhookè¯·æ±‚æˆåŠŸåï¼ŒGWTæ’ä»¶ä¼šè¿”å›HTTP 200çŠ¶æ€ç å’Œè§¦å‘ç»“æœç»™å¯¹æ–¹è°ƒç”¨ï¼Œä½†æ˜¯å½“Silentresponseè®¾ç½®ä¸ºtrueæ—¶ï¼Œå°±åªè¿”å›HTTP 200çŠ¶æ€ç ï¼Œä¸åæ‚”è§¦å‘ç»“æœ</li></ul></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„çœ‹çš„å‡ºæ¥ï¼Œæˆ‘ä»¬åªè¦æ˜¯æäº¤äº†åˆ†æ”¯éƒ½å¯ä»¥è¿›è¡Œè§¦å‘æ„å»ºï¼Œä½†æ˜¯å‘¢ï¼Œåœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†devâ€”â€”&gt;testâ€”â€”master åˆ†æ”¯ï¼Œå°±æ˜¯åªæƒ³è¦è¿™å‡ ä¸ªè¿›è¡Œè§¦å‘æ„å»ºï¼Œå…¶ä»–çš„ä¸è¿›è¡Œè§¦å‘ï¼Œè®©å¼€å‘è‡ªå·±å»ç‚¹å‡»ã€‚</p><ul><li><p>æŒ‡å®šåˆ†æ”¯æ„å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">triggers &#123;</span><br><span class="line">  GenericTrigger causeString: <span class="string">'Triggered on $msg'</span>, genericVariables: [[defaultValue: <span class="string">''</span>, key: <span class="string">'ref'</span>, regexpFilter: <span class="string">''</span>, value: <span class="string">'$.ref'</span>]], printContributedVariables: <span class="literal">true</span>, printPostContent: <span class="literal">true</span>, regexpFilterExpression: <span class="string">'\'</span>refs/heads/(dev|<span class="built_in">test</span>|master)\<span class="string">''</span>, regexpFilterText: <span class="string">'$ref'</span>, token: <span class="string">'env.JOB_NAME'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¤šåˆ†æ”¯Gitlab trigger<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤šåˆ†æ”¯çš„Gitlab triggerå’Œæˆ‘ä»¬å‰é¢ä»‹ç»çš„gitlabäº‹ä»¶è§¦å‘ä¸€æ ·çš„ï¼Œæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œè¿™é‡Œæˆ‘æµ‹è¯•äº†ä¸€ä¸ªjobï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚åŒæ—¶æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯ï¼Œjenkinsä¼šè‡ªåŠ¨çš„æ‰«ææ–°å»ºä¸€ä¸ªä»¥åˆ†æ”¯ä¸ºåçš„ä»»åŠ¡ï¼Œè¿›è¡Œè‡ªåŠ¨è§¦å‘ã€‚å½“æˆ‘åˆ é™¤äº†æŸä¸€ä¸ªåˆ†æ”¯ï¼Œå°±ä¼šè§¦å‘è‡ªåŠ¨æ‰«æï¼Œç„¶åæŸ¥çœ‹åˆ†æ”¯ä¸ºåˆ é™¤ã€‚</p></li><li><p>åˆ é™¤åˆ†æ”¯<br><img src="https://img.xxlaila.cn/1571996378764.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571996257688.jpg" alt="img"></p></li><li><p>æ•´ä½“æ•ˆæœå›¾<br><img src="https://img.xxlaila.cn/1571990331005.jpg" alt="img"></p></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œä»‹ç»ä¸€ä¸‹éƒ¨ç½²è¿™å—ï¼Œæ ¹æ®branchæ¥è¿›è¡Œåˆ¤æ–­ï¼Œä¸åŒçš„branchéƒ¨ç½²åˆ°ä¸åŒçš„ç¯å¢ƒï¼Œå½“è®¾å®šçš„å€¼ä¸åœ¨branchèŒƒå›´å†…ï¼Œå°±éœ€è¦äººä¸ºçš„åˆ¶å®šéƒ¨ç½²ç¯å¢ƒã€‚å½“äººå‘˜ä¸‰åˆ†é’Ÿå†…æ²¡æœ‰æ¥è¿›è¡Œç¯å¢ƒéƒ¨ç½²çš„é€‰æ‹©ï¼Œç³»ç»Ÿå°±ä¼šæ–­å¼€ï¼Œå¯¹è¯¥åˆ†æ”¯æ ‡è®°ä¸ºç»“æŸã€‚</p><p><a href="http://xxlaila.github.io/2019/10/25/pipeline%E5%A4%9A%E5%88%86%E6%94%AFgitlab%E8%A7%A6%E5%8F%91/" target="_blank" rel="noopener">å®Œæ•´æ–‡ä»¶</a><br><a href="https://jenkinsci.github.io/job-dsl-plugin/#path/buildPipelineView" target="_blank" rel="noopener">æ¨èå­¦ä¹ å‚è€ƒåœ°å€</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;pipeline&quot;&gt;&lt;a href=&quot;#pipeline&quot; class=&quot;headerlink&quot; title=&quot;pipeline&quot;&gt;&lt;/a&gt;pipeline&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æœ€è¿‘åœ¨æµ‹è¯•k8sä¸Šçš„ci/cdï¼Œä¹‹å‰çš„ci/cdå…¶å®ä¹Ÿèƒ½æ»¡è¶³ç›®å‰å…ˆä¸šåŠ¡çš„éœ€æ±‚ï¼Œä½†æ˜¯æƒ³å°è¯•æ”¹è¿›ä¸€ä¸‹ï¼Œä¼˜åŒ–ä»¥å‰çš„jobï¼Œå¸Œæœ›åœ¨ç™»å½•ciçš„æ—¶å€™æ›´åŠ çš„ç®€æ´ï¼Œ
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="pipeline" scheme="https://www.xxlaila.cn/tags/pipeline/"/>
    
  </entry>
  
  <entry>
    <title>elasticserch</title>
    <link href="https://www.xxlaila.cn/2019/10/17/elasticserch%E6%97%A5%E5%B8%B8%E7%BB%B4%E6%8A%A4/"/>
    <id>https://www.xxlaila.cn/2019/10/17/elasticserchæ—¥å¸¸ç»´æŠ¤/</id>
    <published>2019-10-17T03:23:17.000Z</published>
    <updated>2019-10-26T01:31:46.569Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="days-1"><a href="#days-1" class="headerlink" title="days 1"></a>days 1</h3><a id="more"></a><h4 id="elasticserch-ç´¢å¼•å’Œæ•°æ®æ“ä½œ"><a href="#elasticserch-ç´¢å¼•å’Œæ•°æ®æ“ä½œ" class="headerlink" title="elasticserch ç´¢å¼•å’Œæ•°æ®æ“ä½œ"></a>elasticserch ç´¢å¼•å’Œæ•°æ®æ“ä½œ</h4><ul><li><p>æŸ¥çœ‹ç´¢å¼•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -XGET 'http://127.0.0.1:9200/_cat/indices?v'</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤ç´¢å¼•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -XGET 'http://127.0.0.1:9200/_cat/indices?v' |grep "red"|awk '&#123;print $3&#125;'|uniq &gt;l</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for i in `cat a`;do  curl -XDELETE http://127.0.0.1:9200/$&#123;i&#125;;done</span></span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹shards</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -XGET http://127.0.0.1:9200/_cat/shards</span></span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shards æœ‰å‡ ç§ç±»å‹ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹<code>UNASSIGNED</code>ï¼Œes é›†ç¾¤é‡Œé¢çš„åˆ†ç‰‡æ˜¯åˆ†é…åœ¨å¤šå°nodeä¸Šçš„ï¼Œä¸ºçš„å°±æ˜¯é«˜å¯ç”¨ï¼Œæ¯”å¦‚ä½ çš„æŸå°æœºå™¨crashäº†ï¼Œé‚£ä¹ˆé›†ç¾¤å°±ä¼šè®©å…¶ä»–å‰¯æœ¬é¡¶ä¸Šæ¥ï¼Œé¿å…å‡ºç°æŸä¸ªåˆ†ç‰‡ä¸èƒ½æä¾›æœåŠ¡çš„æƒ…å†µï¼Œä½†æ˜¯éš¾å…è¿˜æ˜¯ä¼šå‡ºç° UNASSIGNED shards çš„é”™è¯¯ã€‚</p><ul><li>åˆ é™¤shards UNASSIGNED<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -XGET 'http://127.0.0.1:9200/_cat/shards'|grep "UNASSIGNED"|awk '&#123;print $1&#125;'|uniq &gt;l</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for i in `cat l`;do curl -XDELETE http://127.0.0.1:9200/$i;done</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="elasticserchéªŒè¯é›†ç¾¤"><a href="#elasticserchéªŒè¯é›†ç¾¤" class="headerlink" title="elasticserchéªŒè¯é›†ç¾¤"></a>elasticserchéªŒè¯é›†ç¾¤</h4><ul><li><p>é›†ç¾¤ç›¸å…³API</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200/_cat</span><br><span class="line">=^.^=</span><br><span class="line">/_cat/allocation</span><br><span class="line">/_cat/shards</span><br><span class="line">/_cat/shards/&#123;index&#125;</span><br><span class="line">/_cat/master</span><br><span class="line">/_cat/nodes</span><br><span class="line">/_cat/tasks</span><br><span class="line">/_cat/indices</span><br><span class="line">/_cat/indices/&#123;index&#125;</span><br><span class="line">/_cat/segments</span><br><span class="line">/_cat/segments/&#123;index&#125;</span><br><span class="line">/_cat/count</span><br><span class="line">/_cat/count/&#123;index&#125;</span><br><span class="line">/_cat/recovery</span><br><span class="line">/_cat/recovery/&#123;index&#125;</span><br><span class="line">/_cat/health</span><br><span class="line">/_cat/pending_tasks</span><br><span class="line">/_cat/aliases</span><br><span class="line">/_cat/aliases/&#123;<span class="built_in">alias</span>&#125;</span><br><span class="line">/_cat/thread_pool</span><br><span class="line">/_cat/thread_pool/&#123;thread_pools&#125;</span><br><span class="line">/_cat/plugins</span><br><span class="line">/_cat/fielddata</span><br><span class="line">/_cat/fielddata/&#123;fields&#125;</span><br><span class="line">/_cat/nodeattrs</span><br><span class="line">/_cat/repositories</span><br><span class="line">/_cat/snapshots/&#123;repository&#125;</span><br><span class="line">/_cat/templates</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹é›†ç¾¤åç§°ç­‰ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span> : <span class="string">"elk_elasticsearch_data_2"</span>,</span><br><span class="line">  <span class="string">"cluster_name"</span> : <span class="string">"elk_elasticsearch"</span>,</span><br><span class="line">  <span class="string">"cluster_uuid"</span> : <span class="string">"T47wQwa6TT-6MHJVFM40Tw"</span>,</span><br><span class="line">  <span class="string">"version"</span> : &#123;</span><br><span class="line">    <span class="string">"number"</span> : <span class="string">"6.4.0"</span>,</span><br><span class="line">    <span class="string">"build_flavor"</span> : <span class="string">"default"</span>,</span><br><span class="line">    <span class="string">"build_type"</span> : <span class="string">"rpm"</span>,</span><br><span class="line">    <span class="string">"build_hash"</span> : <span class="string">"595516e"</span>,</span><br><span class="line">    <span class="string">"build_date"</span> : <span class="string">"2018-08-17T23:18:47.308994Z"</span>,</span><br><span class="line">    <span class="string">"build_snapshot"</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"lucene_version"</span> : <span class="string">"7.4.0"</span>,</span><br><span class="line">    <span class="string">"minimum_wire_compatibility_version"</span> : <span class="string">"5.6.0"</span>,</span><br><span class="line">    <span class="string">"minimum_index_compatibility_version"</span> : <span class="string">"5.0.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"tagline"</span> : <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200/_cat/nodes?v</span><br><span class="line">ip            heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name</span><br><span class="line">172.21.16.198           29          85   0    0.10    0.04     0.05 mdi       -      elk_elasticsearch_data_2</span><br><span class="line">172.21.16.187           48          85   0    0.00    0.01     0.05 mdi       *      elk_elasticsearch_master</span><br><span class="line">172.21.16.206           25          86   0    0.08    0.03     0.05 mdi       -      elk_elasticsearch_data_3</span><br></pre></td></tr></table></figure></li><li><p>éªŒè¯é›†ç¾¤ç£ç›˜åˆ†é…æƒ…å†µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200/_cat/allocation?v</span><br><span class="line">shards disk.indices disk.used disk.avail disk.total disk.percent host          ip            node</span><br><span class="line">    98          1gb     3.6gb     96.3gb     99.9gb            3 172.21.16.198 172.21.16.198 elk_elasticsearch_data_2</span><br><span class="line">    99      887.1mb     4.5gb     95.4gb     99.9gb            4 172.21.16.187 172.21.16.187 elk_elasticsearch_master</span><br><span class="line">    99        957mb     3.5gb     96.4gb     99.9gb            3 172.21.16.206 172.21.16.206 elk_elasticsearch_data_3</span><br></pre></td></tr></table></figure></li><li><p>éªŒè¯é›†ç¾¤å¥åº·çŠ¶å†µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200/_cat/health?v </span><br><span class="line">epoch      timestamp cluster           status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent</span><br><span class="line">1571648406 17:00:06  elk_elasticsearch green           3         3    296 148    0    0        0             0                  -                100.0%</span><br><span class="line"></span><br><span class="line">$</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ¯ä¸ªæ•°æ®èŠ‚ç‚¹ä¸Šè¢«fielddataæ‰€ä½¿ç”¨çš„å †å†…å­˜å¤§å°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://127.0.0.1:9200/_cat/fielddata?v</span><br><span class="line">id                     host          ip            node                     field                    size</span><br><span class="line">VNcRqM30T3axzVjiPkDTmA 172.21.16.187 172.21.16.187 elk_elasticsearch_master event.resultCode.keyword 352b</span><br><span class="line">VNcRqM30T3axzVjiPkDTmA 172.21.16.187 172.21.16.187 elk_elasticsearch_master <span class="built_in">type</span>                     720b</span><br><span class="line">HNc5BrMWQcummBeAskQc4A 172.21.16.206 172.21.16.206 elk_elasticsearch_data_3 event.resultCode.keyword 704b</span><br><span class="line">z3zUA8KxTH6B7C8CmVRUIQ 172.21.16.198 172.21.16.198 elk_elasticsearch_data_2 <span class="built_in">type</span>                     720b</span><br><span class="line">z3zUA8KxTH6B7C8CmVRUIQ 172.21.16.198 172.21.16.198 elk_elasticsearch_data_2 event.resultCode.keyword 704b</span><br></pre></td></tr></table></figure></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;days-1&quot;&gt;&lt;a href=&quot;#days-1&quot; class=&quot;headerlink&quot; title=&quot;days 1&quot;&gt;&lt;/a&gt;days 1&lt;/h3&gt;
    
    </summary>
    
      <category term="elasticserch" scheme="https://www.xxlaila.cn/categories/elasticserch/"/>
    
    
      <category term="elasticserch" scheme="https://www.xxlaila.cn/tags/elasticserch/"/>
    
  </entry>
  
  <entry>
    <title>nexusé…ç½®ldap</title>
    <link href="https://www.xxlaila.cn/2019/10/15/nexus%E9%85%8D%E7%BD%AEldap/"/>
    <id>https://www.xxlaila.cn/2019/10/15/nexusé…ç½®ldap/</id>
    <published>2019-10-15T09:28:34.000Z</published>
    <updated>2019-10-29T01:44:21.623Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="é…ç½®nexus"><a href="#é…ç½®nexus" class="headerlink" title="é…ç½®nexus"></a>é…ç½®nexus</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç™»å½•nexusåœ¨è®¾ç½®é¡µï¼Œç‚¹å‡»ldapï¼Œ</p><a id="more"></a><p><img src="https://img.xxlaila.cn/1571131890608.jpg" alt="img"><br>å‚æ•°ä»‹ç»:</p><ul><li>Name: éšä¾¿å†™</li><li>LDAP server address: æ”¯æŒldapså’Œldap,è€Œç«¯å£åˆ™å–å†³äºé…ç½®ã€‚ å¦‚æœæ²¡æœ‰ç‰¹æ®Šé…ç½®ï¼Œldapé»˜è®¤ç«¯å£æ˜¯389</li><li>Search base: åªéœ€è¦å¡«DCå³å¯ï¼Œæ¯”å¦‚DC=example,DC=comã€‚ å…¶å®ƒå†…å®¹ï¼Œæ¯”å¦‚CNã€OUç­‰ï¼Œä¸éœ€è¦å¡«å†™</li><li>Authentication methodæœ‰ä»¥ä¸‹é€‰é¡¹:<ul><li>Simple Authentication</li><li>Anonymous Authentication</li><li>DIGEST-MD5</li><li>CRAM-MD5<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸é€‰æ‹©Simple Authenticationå³å¯ã€‚Username or DNã€Passwordé‡Œå¡«å†™è´¦æˆ·ã€å¯†ç ï¼Œè€Œ Connection rulesæ— éœ€ä¿®æ”¹ã€‚å¡«å†™å®Œæ¯•åï¼Œç‚¹å‡»ã€Verify connectionã€‘æŒ‰é’®ï¼Œå¯ä»¥éªŒè¯ä¿¡æ¯ã€‚ å¦‚æœæˆåŠŸï¼Œå³å¯ä¿å­˜ã€‚</li></ul></li></ul><h4 id="Choose-Users-and-Groups"><a href="#Choose-Users-and-Groups" class="headerlink" title="Choose Users and Groups"></a>Choose Users and Groups</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é¡¹æ•…åæ€ä¹‰å°±æ˜¯é…ç½®ç”¨æˆ·å’Œç»„çš„ï¼Œåœ¨æœ€å¼€å¤´çš„Configuration templateä¸­ï¼Œæœ‰å››ç§æ¨¡æ¿å¯é€‰ï¼š</p><ul><li>Active Directory</li><li>Generic Ldap Server</li><li>Posix with Dynamic Groups</li><li>Posix with Static Groups</li></ul><p>è¿™é‡Œé€‰æ‹©<code>Generic Ldap Server</code></p><ul><li>Base DN åœ¨LDAPä¸­æ‰¾åˆ°ç”¨æˆ·çš„åŸºæœ¬ä½ç½®ã€‚è¿™æ˜¯ç›¸å¯¹äºæœç´¢åŸºç¡€çš„ï¼ˆä¾‹å¦‚ou = peopleï¼‰ã€‚</li><li>User subtreeé€šå¸¸éœ€è¦å‹¾é€‰ã€‚ å¦‚æœæŠŠLDAPçš„Treeæ¯”ä½œç›®å½•çš„è¯ï¼Œå‹¾é€‰ä»¥åç›¸å½“äºé€’å½’æŸ¥æ‰¾å­ç›®å½•ã€‚</li><li>User filteré€šè¿‡è¿‡æ»¤è§„åˆ™ï¼Œå‡å°‘æœç´¢ä¿¡æ¯ï¼Œç”¨äºæå‡æ€§èƒ½ã€‚ ä»…ä»…åªæ˜¯æå‡æ€§èƒ½ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä¸æ‡‚å®ƒç‰¹æ®Šçš„åŒ¹é…è§„åˆ™ï¼Œä¹Ÿå¯ä»¥ä¸å¡«ã€‚</li><li>ä¹‹å‰é€‰æ‹©äº†<code>Generic Ldap Server</code>æ¨¡ç‰ˆåï¼ŒUser ID attributeé»˜è®¤ä¸ºuidï¼ŒReal name attributeé»˜è®¤ä¸ºcnã€Email attributeé»˜è®¤ä¸ºmailã€Password attributeä¸ºç©ºã€‚</li><li>Map LDAP groups as roleså¦‚æœä¸å‹¾é€‰ï¼Œå°±ä¸ä¼šåŒæ­¥ç”¨æˆ·ç»„ä¿¡æ¯ã€‚ å¦‚æœå‹¾é€‰ï¼Œåˆ™å¯ä»¥é€‰æ‹©Group typeå’ŒGroup member of attributeã€‚ è‹¥æ— å¿…è¦ï¼Œä¿æŒé»˜è®¤å³å¯ï¼Œé»˜è®¤æ˜¯å‹¾é€‰çš„ã€‚<br><img src="https://img.xxlaila.cn/1571133103461.jpg" alt="img"></li><li>å¡«å†™å®Œæˆåï¼Œé€šè¿‡ã€Verify user mappingã€‘å¯ä»¥éªŒè¯æŸ¥è¯¢ç»“æœ<br><img src="https://img.xxlaila.cn/1571133221971.jpg" alt="img"><br>ç‚¹å‡»åˆ›å»º<br><img src="https://img.xxlaila.cn/1571133286829.jpg" alt="img"></li></ul><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–°èµ·ä¸€ä¸ªçª—å£åˆ©ç”¨ldapé‡Œé¢çš„è´¦å·è¿›è¡Œç™»å½•ï¼Œå¯ä»¥ç™»å½•ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ç™»å½•ä¹‹åç”¨æˆ·æ²¡æœ‰ä»»ä½•æƒé™ï¼Œè¿™å¯¹äºç ”å‘æ¥è¯´åˆæ˜¯ä¸€ä¸ªä¸å¯æ¥å—çš„äº‹æƒ…ã€‚æ¥ä¸‹æ¥é…ç½®æƒé™</p><h5 id="ç¦æ­¢åŒ¿åè®¿é—®"><a href="#ç¦æ­¢åŒ¿åè®¿é—®" class="headerlink" title="ç¦æ­¢åŒ¿åè®¿é—®"></a>ç¦æ­¢åŒ¿åè®¿é—®</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ˜¯ä¸å…è®¸åŒ¿åç”¨æˆ·ä¸å¯ä»¥ç™»å½•å°±èƒ½è®¿é—®çš„ï¼Œè¿™æ ·æˆ‘ä»¬ldapå°±æ²¡æœ‰ä»»ä½•æ„ä¹‰äº†<br><img src="https://img.xxlaila.cn/1571133691247.jpg" alt="img"></p><ul><li>ç¦æ­¢åŒ¿åç”¨æˆ·<br><img src="https://img.xxlaila.cn/1571133811908.jpg" alt="img"></li></ul><h5 id="åˆ›å»ºè§’è‰²"><a href="#åˆ›å»ºè§’è‰²" class="headerlink" title="åˆ›å»ºè§’è‰²"></a>åˆ›å»ºè§’è‰²</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨Securityâ€”â€”&gt;Rolesâ€”â€”&gt;Create roleï¼Œè¿™é‡Œåˆ›å»ºè§’è‰²æœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯nexus relosæœ¬åœ°è§’è‰²ï¼Œä¸€ç§æ˜¯External roles mappingå¤–éƒ¨æ˜ å°„çš„å½¢å¼ã€‚ä¸ºäº†æ»¡è¶³æˆ‘ä»¬ldapè´¦æˆ·ç™»å½•è¿›æ¥æœ‰æµè§ˆåº“çš„æƒé™ï¼Œç ”å‘åˆå¯ä»¥ä¸Šä¼ ç¬¬ä¸‰æ–¹ä¾èµ–åº“çš„æƒé™ï¼Œä½†æ˜¯ä¸èƒ½åˆ é™¤å’Œç§ä¸‹å¢åŠ åº“Repositoriesã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å•ç‹¬å»ºç«‹ä¸€ä¸ªæœ¬åœ°çš„relosï¼Œç„¶ååœ¨æ˜ å°„å¤–éƒ¨çš„ldapåˆ°è¿™ä¸ªæœ¬åœ°çš„rolesï¼Œè¿™æ ·ldapè´¦æˆ·ç™»å½•è¿›æ¥å°±èƒ½å®ç°æ—¥å¸¸çš„åŸºæœ¬æ“ä½œã€‚</p><ul><li><p>åˆ›å»ºnexus relosæœ¬åœ°è§’è‰²<br><img src="https://img.xxlaila.cn/1571296771150.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä»–èµ‹äºˆæƒé™ï¼Œå¯¹ç”¨æˆ·è¿›è¡Œæƒé™æ§åˆ¶ï¼Œæ²¡æœ‰æƒé™æ§åˆ¶ï¼Œå°±æ²¡åŠæ³•è¾¾æˆæˆ‘ä»¬ä¸Šé¢çš„ç›®æ ‡ã€‚ä¸‹é¢æ˜¯æˆ‘èµ‹äºˆçš„æƒé™ï¼Œå¯ä»¥ç»“åˆå®é™…éœ€æ±‚æ¥è¿›è¡Œèµ‹äºˆã€‚</p></li><li><p>æƒé™ä»‹ç»:</p><ul><li>ng-component-upload: æœ‰ä¸Šä¼ çš„æƒé™ï¼Œæ¯”å¦‚javaä¾èµ–çš„ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œç ”å‘å¯ä»¥è‡ªå·±è¿›è¡Œä¸Šä¼ </li><li>ng-repository-admin-<em>-</em>-browse: æµè§ˆæ‰€æœ‰çš„repository</li><li>ng-repository-admin-<em>-</em>-read: å¯ä»¥æ‰€æœ‰è¯»å–repositoryçš„é…ç½®ä¿¡æ¯</li><li>ng-repository-view-maven2-maven-central-browse: å…·æœ‰æµè§ˆmaven-centralå†…å®¹</li><li>ng-repository-view-maven2-maven-central-read: è¯»å–maven-centralå†…å®¹ï¼Œåœ¨mavenç¼–è¯‘çš„æ—¶å€™å…·æœ‰ä¸‹è½½çš„æƒé™ï¼Œ(åé¢ä¸ä¸€ä¸€ä»‹ç»)</li><li>ng-repository-view-maven2-maven-public-browse</li><li>ng-repository-view-maven2-maven-public-read</li><li>ng-repository-view-maven2-maven-releases-browse</li><li>ng-repository-view-maven2-maven-releases-read</li><li>ng-repository-view-maven2-maven-snapshots-browse</li><li>ng-repository-view-maven2-maven-snapshots-read</li><li>ng-repository-view-npm-npm-kxl-all-browse: ä»¥ä¸‹æ˜¯è‡ªå·±åšçš„npmä»£ç†ç¼“å­˜ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰çš„<a href="https://xxlaila.github.io/2019/08/23/nexus3æ­å»ºnpmç§æœ/" target="_blank" rel="noopener">nexus3æ­å»ºnpmç§æœ</a></li><li>ng-repository-view-npm-npm-kxl-all-read</li><li>ng-repository-view-npm-npm-external-browse</li><li>ng-repository-view-npm-npm-external-read</li><li>ng-repository-view-npm-npm-internal-browse</li><li>ng-repository-view-npm-npm-internal-read</li><li>ng-search-read: è®©ç”¨æˆ·å…·æœ‰æ‰€æœ‰æƒé™ï¼Œæ²¡æœ‰æ­¤æƒé™ï¼Œç ”å‘æŸ¥æ‰¾ä¸€ä¸ªåŒ…ï¼Œä¼°è®¡ä¼šæ­»</li></ul></li><li><p>åˆ›å»ºæ˜¯External roles mappingå¤–éƒ¨æ˜ å°„<br><img src="https://img.xxlaila.cn/1571134166780.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571297568491.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿›è¡ŒRoles ID è¿™æ ç›®ï¼Œéœ€è¦å¡«å†™çš„æ˜¯Usersï¼Œè¿™ä¸ªUsersä¼šåœ¨ldapä¸ŠåŒæ­¥Usersçš„ä¸€ä¸ªç”¨æˆ·ç»„ã€‚æ ¹æ®è‡ªå·±çš„ldapè´¦æˆ·ç»„è®¾ç½®æ¥è¿›è¡Œå¡«å†™ã€‚ä¸‹å›¾æ˜¯ldapçš„ç»„è®¾ç½®<br><img src="https://img.xxlaila.cn/1571298567078.jpg" alt="img"></p></li></ul><p><strong>æ³¨</strong>: å…¶å®åœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡ŒPrivilegesçš„æƒé™èµ‹äºˆï¼Œä½†æ˜¯æˆ‘é€‰æ‹©çš„æ˜¯å…ˆåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„nexus relosã€‚ç„¶åæˆ‘ä»¬åœ¨Rolesæ å…³è”ä¹‹å‰åˆ›å»ºçš„<code>Developer</code>ï¼Œå®Œæˆä»¥åé€šè¿‡ldapè´¦æˆ·ç™»å½•è¿›è¡Œæµ‹è¯•</p><h5 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œä¸»è¦æ˜¯ä»å››ä¸ªæ–¹é¢æ¥æµ‹è¯•ldapè´¦æˆ·ã€‚åˆ†åˆ«æ˜¯: ç™»å½•é»˜è®¤çš„æƒé™ã€æµè§ˆæ‰€æœ‰åº“çš„æƒé™ã€Browseçš„æµè§ˆã€Browseåº“çš„ä¸Šä¼ </p><ul><li><p>ç™»å½•é»˜è®¤çš„æƒé™<br><img src="https://img.xxlaila.cn/1571297962563.jpg" alt="img"></p></li><li><p>æµè§ˆæ‰€æœ‰åº“çš„æƒé™<br><img src="https://img.xxlaila.cn/1571298121188.jpg" alt="img"></p></li><li><p>Browseçš„æµ<br><img src="https://img.xxlaila.cn/1571298018356.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571298167348.jpg" alt="img"></p></li><li><p>Browseåº“çš„ä¸Šä¼ <br><img src="https://img.xxlaila.cn/1571298224331.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571298260091.jpg" alt="img"></p></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;é…ç½®nexus&quot;&gt;&lt;a href=&quot;#é…ç½®nexus&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®nexus&quot;&gt;&lt;/a&gt;é…ç½®nexus&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç™»å½•nexusåœ¨è®¾ç½®é¡µï¼Œç‚¹å‡»ldapï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="nexus" scheme="https://www.xxlaila.cn/categories/nexus/"/>
    
    
      <category term="ldap" scheme="https://www.xxlaila.cn/tags/ldap/"/>
    
  </entry>
  
  <entry>
    <title>jenkinsé…ç½®å¤‡ä»½</title>
    <link href="https://www.xxlaila.cn/2019/10/15/jenkins%E9%85%8D%E7%BD%AE%E5%A4%87%E4%BB%BD/"/>
    <id>https://www.xxlaila.cn/2019/10/15/jenkinsé…ç½®å¤‡ä»½/</id>
    <published>2019-10-15T00:55:19.000Z</published>
    <updated>2019-10-28T03:36:02.239Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="jenkins-å¤‡ä»½"><a href="#jenkins-å¤‡ä»½" class="headerlink" title="jenkins å¤‡ä»½"></a>jenkins å¤‡ä»½</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“jenkinsåœ¨ç”¨èµ·æ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬éš¾ä¿ä»–ä¸ä¼šå‡ºæ•…éšœï¼Œä½†æ˜¯å‡ºäº†æ•…éšœæˆ‘ä»¬æ€ä¹ˆåšåˆ°å¿«é€Ÿçš„æ¢å¤å‘¢ï¼Œè¿™æ—¶å¤‡ä»½å°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚ä½†jenkinsæœ¬èº«ä¸æä¾›å¤‡ä»½çš„åŠŸèƒ½ï¼Œ<a id="more"></a> æ‰€ä»¥è¿™é‡Œå°±éœ€è¦å€ŸåŠ©å¤–åŠ›ã€‚å¤‡ä»½å¯ä»¥å¤šæ ·åŒ–ï¼Œä¸€ç§æ˜¯æˆ‘ä»¬ç›´æ¥åˆ°jenkinsçš„ç›®å½•ä¸‹é¢æ‰‹åŠ¨å¤‡ä»½jenkinsç›®å½•ã€‚ä¸€ç§æ˜¯æˆ‘ä»¬å°±jenkinsè‡ªå¸¦çš„æ’ä»¶<code>thinBackup</code>å’Œ<code>Periodic Backup</code>è¿›è¡Œå¤‡ä»½æ¢å¤ï¼Œä¸‹é¢è¿›è¡Œåˆ†åˆ«ä»‹ç»</p><h3 id="thinBackupå¤‡ä»½"><a href="#thinBackupå¤‡ä»½" class="headerlink" title="thinBackupå¤‡ä»½"></a>thinBackupå¤‡ä»½</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç™»å½•jenkinsâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”â€”&gt;æ’ä»¶ç®¡ç†<br><img src="https://img.xxlaila.cn/1571101180571.jpg" alt="img"><br>å®‰è£…å®Œæˆä¹‹åé‡å¯jenkinsæœåŠ¡ï¼Œç™»å½•jenkinsåœ¨ç³»ç»Ÿç®¡ç†ç•Œé¢å¯ä»¥çœ‹åˆ°<br><img src="https://img.xxlaila.cn/1571101557754.jpg" alt="img"></p><h4 id="é…ç½®ThinBackup"><a href="#é…ç½®ThinBackup" class="headerlink" title="é…ç½®ThinBackup"></a>é…ç½®ThinBackup</h4><ul><li>ç‚¹å‡»ThinBackup<br><img src="https://img.xxlaila.cn/1571101640273.jpg" alt="img"><br>å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ä¸ªé€‰é¡¹:</li><li>Backup Now: æ‰‹åŠ¨ç«‹å³å¤‡ä»½</li><li>Restore: æ¢å¤å¤‡ä»½</li><li>Settings: å¤‡ä»½å‚æ•°çš„è®¾ç½®</li></ul><h5 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢æ˜¯æˆ‘çš„å¤‡ä»½å‚æ•°ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªå·±è®¾å®šå¤‡ä»½å‚æ•°ï¼Œè®¾ç½®å¥½å‹saveå³å¯ï¼Œ<code>Backup schedule for full backups</code>æ„æ€æ˜¯å‘¨ä¸€åˆ°å‘¨äº”æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹è¿›è¡Œå¤‡ä»½<br><img src="https://img.xxlaila.cn/1571102057919.jpg" alt="img"></p><h5 id="Restore"><a href="#Restore" class="headerlink" title="Restore"></a>Restore</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤‡ä»½æ–‡ä»¶æ˜¯ä»¥æ—¥æœŸ+æ—¶é—´èŠ‚ç‚¹ç»„æˆçš„æ–‡ä»¶åï¼Œæˆ‘ä»¬æ¢å¤ä»€ä¹ˆæ—¶é—´æ®µçš„ï¼Œç‚¹å‡»è¿›è¡Œæ¢å¤ï¼Œ<br><img src="https://img.xxlaila.cn/1571102188007.jpg" alt="img"></p><h3 id="Periodic-Backup"><a href="#Periodic-Backup" class="headerlink" title="Periodic Backup"></a>Periodic Backup</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤‡ä»½é™¤äº†ä¸Šé¢æåˆ°çš„æ’ä»¶è¿˜æœ‰ä¸€ä¸ªæ’ä»¶æ˜¯<code>Periodic Backup</code>ï¼Œå®‰è£…<code>Periodic Backup</code>ä¸é˜è¿°ï¼Œå®‰è£…å®Œæˆåå¯ä»¥åœ¨ç³»ç»Ÿç®¡ç†èœå•ä¸‹é¢æœ‰ä¸€ä¸ª<code>Periodic Backup Manager</code>èœå•<br><img src="https://img.xxlaila.cn/1571709136813.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰“å¼€<code>Periodic Backup Manager</code>ï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€æ˜¯æ²¡æœ‰ä»»ä½•ä¸œè¥¿çš„ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»å»ºç«‹ä¸€ä¸ªè§„åˆ™ï¼Œç‚¹å‡»<code>Configure</code><br><img src="https://img.xxlaila.cn/1571709270639.jpg" alt="img"></p><p>é…ç½®é¡¹å¾ˆç®€å•:</p><ul><li>Temporary Directory: ä¸´æ—¶ç›®å½•</li><li>Backup schedule (cron): è¿›è¡Œå¤‡ä»½cronçš„è¡¨è¾¾å¼ï¼Œå¡«å†™å®Œæˆåç‚¹å‡»<code>Validate cron syntax</code>è¿›è¡ŒéªŒè¯</li><li>Maximum backups in location: æœ€å¤§ä½ç½®å¤‡ä»½ï¼Œä¿ç•™å¤šå°‘ä¸ªå¤‡ä»½æ–‡ä»¶</li><li>Store no older than (days): ä¿ç•™çš„æ—¶é—´</li><li>File Management Strategy: å¤‡ä»½ç­–ç•¥<ul><li>ConfigOnly: åªå¤‡ä»½é…ç½®æ–‡ä»¶</li><li>FullBackup: è¿›è¡Œå…¨é‡å¤‡ä»½ï¼Œå¯ä»¥é€šè¿‡Excludes listä¸­å¡«å…¥Anté£æ ¼è¡¨è¾¾å¼ï¼Œæ’é™¤ä¸å¸Œæœ›å¤‡ä»½çš„æ–‡ä»¶ï¼Œå¤šä¸ªè¡¨è¾¾å¼ä½¿ç”¨åˆ†å·åˆ†éš”</li></ul></li><li>Storage Strategy: å­˜å‚¨ç­–ç•¥ï¼Œå°±æ˜¯æ˜¯å¦éœ€è¦è¿›è¡Œå‹ç¼©å­˜å‚¨</li><li>Backup Location: å¤‡ä»½çš„ä½ç½®ï¼Œéƒ½æ˜¯æœ¬åœ°ç›®å½•<br><img src="https://img.xxlaila.cn/1571709879768.jpg" alt="img"></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;jenkins-å¤‡ä»½&quot;&gt;&lt;a href=&quot;#jenkins-å¤‡ä»½&quot; class=&quot;headerlink&quot; title=&quot;jenkins å¤‡ä»½&quot;&gt;&lt;/a&gt;jenkins å¤‡ä»½&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å½“jenkinsåœ¨ç”¨èµ·æ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬éš¾ä¿ä»–ä¸ä¼šå‡ºæ•…éšœï¼Œä½†æ˜¯å‡ºäº†æ•…éšœæˆ‘ä»¬æ€ä¹ˆåšåˆ°å¿«é€Ÿçš„æ¢å¤å‘¢ï¼Œè¿™æ—¶å¤‡ä»½å°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚ä½†jenkinsæœ¬èº«ä¸æä¾›å¤‡ä»½çš„åŠŸèƒ½ï¼Œ
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/tags/jenkins/"/>
    
  </entry>
  
  <entry>
    <title>jenkinsé…ç½®ldap</title>
    <link href="https://www.xxlaila.cn/2019/10/14/jenkins%E9%85%8D%E7%BD%AEldap/"/>
    <id>https://www.xxlaila.cn/2019/10/14/jenkinsé…ç½®ldap/</id>
    <published>2019-10-14T03:49:32.000Z</published>
    <updated>2019-10-29T02:04:04.913Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¬å¸ç ”å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ï¼Œè¿˜æœ‰è¿ç»´äººå‘˜æœ‰æ—¶å€™ç™»å½•jenkinså»æŸ¥çœ‹ä¸€äº›jobçš„çŠ¶æ€æˆ–è€…æ˜¯å…¶ä»–çš„ä¸œè¥¿ï¼Œè™½ç„¶æœ‰ä¼ä¸šå¾®ä¿¡çš„é€šçŸ¥ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸èƒ½æ»¡è¶³ï¼Œ<a id="more"></a> æ¯”å¦‚jobé”™è¯¯äº†ï¼Œä¼ä¸šå¾®ä¿¡è™½ç„¶å§é”™è¯¯å‘ç»™äº†ç ”å‘äººå‘˜ï¼Œä½†æ˜¯ç ”å‘è¿˜æ˜¯è¦ç™»å½•jenkinsä¸Šå»çœ‹ï¼Œå°±æ„Ÿè§‰è¦èˆ’æœä¸€ç‚¹ï¼Œæµ‹è¯•ä¸Šåšçš„ä¸€äº›è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæœ‰æ—¶å€™å¤±è´¥äº†ä»–ä»¬ä¹Ÿä¼šå»çœ‹æˆ–è€…æ˜¯å»å»ºç«‹ä¸€äº›è‡ªåŠ¨åŒ–çš„jobã€‚ä¹‹å‰å»ºç«‹äº†å…¬å…±çš„è´¦å·ï¼Œå¼€å‘å’Œæµ‹è¯•äººå‘˜éƒ½å»ç™»å½•ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä»–ä»¬è¯¯æ“ä½œäº†ï¼Œå¯¼è‡´ä¸€äº›å…¶ä»–çš„ä¸œè¥¿å¤±è´¥æˆ–è€…é”™è¯¯ï¼Œè™½ç„¶åšäº†æƒé™æ§åˆ¶ï¼Œä½†æ˜¯ä»–ä»¬è¿˜æ˜¯æ­»ä¸æ‰¿è®¤ï¼Œæ‰€ä»¥è¿™é‡Œä»‹å…¥ldapã€‚è°åŠ¨çš„å°±çŸ¥é“äº†ï¼Œè¿™æ ·å°±ä¸æ€•äº†ã€‚</p><h3 id="å¼€å§‹é…ç½®"><a href="#å¼€å§‹é…ç½®" class="headerlink" title="å¼€å§‹é…ç½®"></a>å¼€å§‹é…ç½®</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç™»å½•jenkinsâ€”â€”&gt;ç³»ç»Ÿç®¡ç†â€”â€”&gt;å…¨å±€å®‰å…¨é…ç½®<br><img src="https://img.xxlaila.cn/1571025388007.jpg" alt="img"><br>è®¿é—®æ§åˆ¶â€”â€”&gt;LDAP<br><img src="https://img.xxlaila.cn/1571027524602.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é…ç½®å®Œæˆä»¥åæˆ‘ä»¬éœ€è¦æµ‹è¯•ä¸€ä¸‹è¿æ¥æ˜¯å¦æ­£å¸¸ï¼Œç‚¹å‡»<code>Test LDAP setttings</code>ï¼Œè¾“å…¥åœ¨ldapçš„å…¶ä¸­ä¸€ä¸ªè´¦æˆ·æ¥è¿›è¡ŒéªŒè¯ï¼Œæ²¡é—®é¢˜çš„ç»“æœå¦‚ä¸‹:<br><img src="https://img.xxlaila.cn/1571027696951.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é…ç½®å®Œæˆå¹¶æµ‹è¯•é€šè¿‡åå°±å¯ä»¥ç”¨LDAPç›´æ¥ç™»å½•äº†<br><strong>æ³¨</strong>: å¯ç”¨äº†LDAPç™»å½•åå°†æ— æ³•å†ç”¨ä¹‹å‰çš„ç™»å½•æ–¹å¼ï¼ˆæœ¬åœ°è®¤è¯å°†æ— æ³•åœ¨ä½¿ç”¨ï¼‰ç™»å½•ï¼Œç™»å½•è¿›æ¥çš„ä»»ä½•ä¸€ä¸ªè´¦å·éƒ½æ˜¯ç®¡ç†å‘˜ï¼Œéƒ½æ˜¯ç®¡ç†ç€è‚¯å®šæ¥è¯´ä¸å®‰å…¨ï¼Œæƒé™é…ç½®è¯·ä¸‹çœ‹</p><p><a href="https://wiki.jenkins.io/display/JENKINS/LDAP+Plugin" target="_blank" rel="noopener">å®˜æ–¹å‚è€ƒ</a></p><h3 id="é…ç½®ldapçš„è´¦æˆ·æƒé™"><a href="#é…ç½®ldapçš„è´¦æˆ·æƒé™" class="headerlink" title="é…ç½®ldapçš„è´¦æˆ·æƒé™"></a>é…ç½®ldapçš„è´¦æˆ·æƒé™</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢æˆ‘ä»¬è™½ç„¶å§ldapé…ç½®å®Œæˆï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å¯¹ç”¨æˆ·è¿›è¡Œæƒé™çš„é…ç½®ï¼Œä¸å¯èƒ½æ¯ä¸ªäººç™»å½•éƒ½èƒ½å¯¹æˆ‘ä»¬jenkinsè¿›è¡Œæ— é™åˆ¶çš„æ“ä½œï¼Œè¿™ä¸ç¬¦åˆæˆ‘ä»¬ä¹‹å‰çš„æ„å›¾ã€‚å®‰è£…<code>Role-based Authorization Strategy</code>æ’ä»¶</p><ul><li>åœ¨ç³»ç»Ÿç®¡ç†â€”â€”&gt;å…¨å±€å®‰å…¨é…ç½®,å¯ä»¥çœ‹åˆ°ä¸‹é¢é€‰é¡¹ï¼Œæ¯é¡¹ä»‹<a href="https://xxlaila.github.io/2019/08/09/jenkins%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">å‚è€ƒ</a><br><img src="https://img.xxlaila.cn/1571034253089.jpg" alt="img"></li></ul><p>ä¿å­˜ä»¥åï¼Œè¿”å›ç³»ç»Ÿç®¡ç†ç•Œé¢å°±å¯ä»¥çœ‹åˆ°å¤šå¤„ä¸€ä¸ª<code>Manage and Assign Roles</code><br><img src="https://img.xxlaila.cn/1571034433352.jpg" alt="img"><br>ç‚¹å‡»è¿›å»</p><p><img src="https://img.xxlaila.cn/1571034507945.jpg" alt="img"></p><ul><li><strong>Manage Roles</strong>: è§’è‰²åˆ†ä¸ºGlobalå’ŒProjectï¼Œå¯åˆ›å»ºè§’è‰²åˆ†ç»„å’Œæ·»åŠ é¡¹ç›®ã€‚</li><li><strong>Assign Roles</strong>: å¢åŠ å…·ä½“çš„ç”¨æˆ·ï¼Œåˆ†é…åˆ°è§’è‰²ç»„ï¼ŒæŒ‡å®šé¡¹ç›®æƒé™ã€‚</li></ul><p><a href="https://xxlaila.github.io/2019/08/09/jenkins%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">æƒé™è®¾ç½®</a></p><ul><li>ä¸‹é¢æˆ‘çš„é…ç½®ï¼Œå’Œä¹‹å‰çš„å¤§åŒå°å¼‚<br><img src="https://img.xxlaila.cn/1571038684383.jpg" alt="img"></li></ul><p><strong>æ³¨</strong>: è¿™é‡Œæœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œè¿™æ ·é…ç½®ä»¥åï¼Œæ–°ç”¨æˆ·ç™»å½•è¿›æ¥ä»¥åå°±ä¼šæç¤ºæ²¡æœ‰æƒé™ï¼Œ<code>Access Denied,xxxxæ²¡æœ‰å…¨éƒ¨/Readæƒé™</code>ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æ‰“å¼€jenkinsåï¼Œæ²¡æœ‰åˆ›å»ºç”¨æˆ·å‰ï¼Œå…ˆä¸è¦å‹¾é€‰ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨å®‰å…¨é€‰é¡¹ï¼Œå¦‚æœå‹¾é€‰äº†ï¼Œå°±ä¼šå‡ºç°æ— æ³•è¿›å…¥jenkinsçš„ç°è±¡<br><img src="https://img.xxlaila.cn/1571037187865.jpg" alt="img"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰è¿™ç§çš„è§£å†³åŠæ³•ï¼Œæœ‰å‡ ç§æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹confing.xmlçš„æ–‡ä»¶ï¼Œä¿®æ”¹config.xmlæ–‡ä»¶çš„ä¸‰ç§æ–¹å¼æ„Ÿè§‰éƒ½ä¸å¤ªåˆ‡åˆå®é™…çš„ä¸šåŠ¡ï¼›ä¸‹é¢æ˜¯æˆ‘åšçš„ä¸¤ç§åŠæ³•ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§</p><ul><li><p>Role-Based Strategy<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨<code>Assign Roles</code>å§ç”¨æˆ·æ·»åŠ è¿›æ¥ï¼Œç„¶åå‹¾é€‰æƒé™ï¼Œ<br>ç³»ç»Ÿç®¡ç†â€”â€”&gt;Manage and Assign Rolesâ€”â€”&gt;Assign Roles<br><img src="https://img.xxlaila.cn/1571037604678.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯è¿™æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯æ¯æ¬¡æ–°æ¥ä¸€ä¸ªç”¨æˆ·å°±å¾—å»æ·»åŠ ä¸€æ¬¡ç”¨æˆ·æƒé™ï¼Œè™½ç„¶æ»¡è¶³äº†ä¸šåŠ¡éœ€æ±‚ï¼Œä½†æ˜¯ä¸ç§‘å­¦</p></li><li><p>é¡¹ç›®çŸ©é˜µæˆæƒç­–ç•¥<br><img src="https://img.xxlaila.cn/1571041499340.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯ä¸€ä¸ªå…¨å±€çš„é…ç½®ï¼Œç‰¹å®šç»„åªèƒ½æŒ‰ç…§æœ€å°çš„æƒé™æˆæƒï¼Œé¢å¤–çš„æƒé™å¯ä»¥åœ¨å…·ä½“çš„é¡¹ç›®æƒé™çŸ©é˜µé‡Œé¢åœ¨æ·»åŠ ã€‚ é»˜è®¤åªæœ‰<code>Anonymous Users</code>å’Œ<code>Authenticated Users</code>ï¼Œç®¡ç†å‘˜ç»„æ˜¯éœ€è¦æ·»åŠ çš„<code>admin</code></p></li><li><p>Anonymous Users: åŒ¿åç”¨æˆ·ï¼Œæ˜¾ç„¶ä¸èƒ½</p></li><li><p>Authenticated Users: è®¤è¯ç”¨æˆ·ï¼Œå°±æ˜¯åªè¦æ˜¯è®¤è¯çš„è´¦å·éƒ½å¯ä»¥æ‹¥æœ‰çš„æƒé™</p></li><li><p>admin: å°±æ˜¯æ‹¥æœ‰æ‰€æœ‰çš„æƒé™äº†ï¼Œè¿™ä¸ªç»„ä¸€èˆ¬åªèƒ½è¿ç»´äººå‘˜å’Œéƒ¨é—¨è€å¤§åŠ å…¥ã€‚</p></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ å…¥adminç»„ä»¥åï¼Œä»–ä¼šè‡ªåŠ¨å»åŒæ­¥ldapçš„ç»„ç”¨æˆ·ï¼Œå¦‚æœç”¨æˆ·åœ¨ldapæ˜¯adminç»„ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œå°±ä¼šæ˜¯ç®¡ç†å‘˜æƒé™ï¼Œå¦‚æœç”¨æˆ·æ˜¯æ™®é€šç»„ï¼Œé‚£ä¹ˆå°±æ˜¯<code>Authenticated Users</code>ç»„èµ‹äºˆçš„æƒé™ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼åªè¦ç”¨æˆ·æ˜¯ldapé‡Œé¢çš„ï¼Œå°±å¯ä»¥ç™»å½•æŸ¥çœ‹ã€‚è¿™æ ·å°±æ»¡è¶³äº†ä¸šåŠ¡åœºæ™¯éœ€æ±‚</p><h3 id="æ—¥å¿—è®°å½•"><a href="#æ—¥å¿—è®°å½•" class="headerlink" title="æ—¥å¿—è®°å½•"></a>æ—¥å¿—è®°å½•</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®°å½•ç”¨æˆ·æ—¥å¿—éœ€è¦å•ç‹¬çš„å®‰è£…<code>Audit Trail</code>æ’ä»¶ï¼Œè¯¥æ’ä»¶åœ¨Jenkinsä¸»é…ç½®é¡µé¢ä¸­æ·»åŠ äº†ä¸€ä¸ªé…ç½®éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨æ­¤å¤„é…ç½®æ—¥å¿—ä½ç½®å’Œè®¾ç½®ï¼ˆæ–‡ä»¶å¤§å°å’Œå¾ªç¯æ—¥å¿—æ–‡ä»¶çš„æ•°é‡ï¼‰ï¼Œä»¥åŠç”¨äºè®°å½•è¯·æ±‚çš„URIæ¨¡å¼ã€‚é»˜è®¤é€‰é¡¹é€‰æ‹©æ•ˆæœæ˜¾ç€çš„å¤§å¤šæ•°æ“ä½œï¼Œä¾‹å¦‚åˆ›å»º/é…ç½®/åˆ é™¤ä½œä¸šå’Œè§†å›¾æˆ–æ°¸ä¹…åˆ é™¤/ä¿å­˜/å¼€å§‹æ„å»ºã€‚æ—¥å¿—å°†æŒ‰ç…§é…ç½®å†™å…¥ç£ç›˜ï¼Œæœ€è¿‘çš„æ¡ç›®ä¹Ÿå¯ä»¥åœ¨â€œç®¡ç†/ç³»ç»Ÿæ—¥å¿—â€éƒ¨åˆ†ä¸­æŸ¥çœ‹ã€‚<br><img src="https://img.xxlaila.cn/1572057054289.jpg" alt="img"><br><a href="https://plugins.jenkins.io/audit-trail" target="_blank" rel="noopener">Audit Trailå®˜æ–¹å‚è€ƒ</a></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œé…ç½®ä»¥åè¿˜ä¸èƒ½è®°å½•jobçš„æ—¥å¿—ï¼Œéœ€è¦å¯¹jobè¿›è¡Œè®°å½•éœ€è¦å¦å¤–çš„å®‰è£…<a href="https://wiki.jenkins.io/display/JENKINS/JobConfigHistory+Plugin" target="_blank" rel="noopener">Job Configuration Historyæ’ä»¶</a>ï¼Œæ ¹æ®å®˜æ–¹çš„ä»‹ç»ï¼Œå¯ç”¨äºæŸ¥çœ‹æ‰€æœ‰ä½œä¸šé…ç½®å†å²è®°å½•æˆ–ä»…æŸ¥çœ‹å·²åˆ é™¤çš„ä½œä¸šæˆ–æ‰€æœ‰ç±»å‹çš„é…ç½®å†å²è®°å½•æ¡ç›®ã€‚åŒæ—¶ï¼Œå¦‚æœé…ç½®äº†å®‰å…¨ç­–ç•¥ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å“ªä¸ªç”¨æˆ·è¿›è¡Œäº†å“ªäº›æ›´æ”¹ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åœ¨jobé‡Œé¢å¯ä»¥çœ‹åˆ°ä¸€ä¸ª<code>Job Config History</code>çš„èœå•ã€‚æœ€å¼€å§‹æ²¡æœ‰æ²¡æœ‰ä»»ä½•è®°å½•ï¼Œåªæœ‰å½“æ„å»ºjobæˆ–è€…ä¿®æ”¹è¿‡jobä»¥åæ‰ä¼šæœ‰è®°å½•<br><img src="https://img.xxlaila.cn/1572057782047.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1572057958019.jpg" alt="img"></p><ul><li>ç‚¹å‡»Show Diffs å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆä¸œè¥¿<br><img src="https://img.xxlaila.cn/1572058118436.jpg" alt="img"></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘ä»¬å®‰è£…å¥½è¿™ä¸ªæ’ä»¶ä»¥åï¼Œä¹Ÿæµ‹è¯•å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½è®©æ‰€æœ‰çš„jobæ—¥å¿—è®°å½•ä¿å­˜å†å²è¿‡ä¹…ï¼Œå¦‚æœjobè¿‡å¤šï¼Œè®°å½•è¿‡å¤šï¼Œè¿™ä¼šå¯¹æˆ‘ä»¬çš„ç£ç›˜ç©ºé—´æ¥è¯´ï¼Œè‚¯å®šæ˜¯ä¸€ä¸ªå‹åŠ›ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦è¿›è¡Œé…ç½®ï¼Œä¿å­˜å¤šå°‘æ¬¡çš„è®°å½•ï¼Œè€Œä¸”è¿˜å¯ä»¥è®¾ç½®æ’é™¤çš„æ–‡ä»¶ã€‚<br><img src="https://img.xxlaila.cn/1572058857084.jpg" alt="img"></p><p><a href="https://wiki.jenkins.io/display/JENKINS/JobConfigHistory+Plugin" target="_blank" rel="noopener">Job Configuration Historyå®˜æ–¹</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å…¬å¸ç ”å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ï¼Œè¿˜æœ‰è¿ç»´äººå‘˜æœ‰æ—¶å€™ç™»å½•jenkinså»æŸ¥çœ‹ä¸€äº›jobçš„çŠ¶æ€æˆ–è€…æ˜¯å…¶ä»–çš„ä¸œè¥¿ï¼Œè™½ç„¶æœ‰ä¼ä¸šå¾®ä¿¡çš„é€šçŸ¥ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯ä¸èƒ½æ»¡è¶³ï¼Œ
    
    </summary>
    
      <category term="jenkins" scheme="https://www.xxlaila.cn/categories/jenkins/"/>
    
    
      <category term="ldap" scheme="https://www.xxlaila.cn/tags/ldap/"/>
    
  </entry>
  
  <entry>
    <title>javaåº”ç”¨éƒ¨ç½²</title>
    <link href="https://www.xxlaila.cn/2019/10/12/java%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2/"/>
    <id>https://www.xxlaila.cn/2019/10/12/javaåº”ç”¨éƒ¨ç½²/</id>
    <published>2019-10-12T03:38:32.000Z</published>
    <updated>2019-10-15T02:18:36.026Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="Welcome to my blog, enter password to read." />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="762879c2105bb4dfd8ef1efdb11920e401fd3c30ae1ae476d4c978e8e0697330">d69a90776b8106231e3f5503e1ddcc136de8bd46ea761b7fee0bb1563c6f63d3ca9dd51cba83b500b561e875e755d83e45370b2cce79e3c7afba98a0a85687741edbecdf7e081dea8cc9087c6dde265ecb43b289a54d191b8bc39966e4bf8a827fac2b57afd4bf9ab3e0d24bfd340809ee0d026336fda77c51c108bfea1a3222a05b4b1bf5b47588e535fc4c21d07f99f53d933b3e71513c72c7e4a2589b4142284b47f1ba14906a0ffc356807545390162718a29173c37c85ad26cd6483da68e6e6833ba0de4db78df04daf38d015da283b59b5338ba6a4ef174dbbf373fd1767d0aafb6839bcb40e289e6aa52dbeaf93fa703b165549bcd8eabac8c96abb982f76766ecf5e382de5a62de361a98332ef7f2a39d6f26dce8966a98f169609ad52f19992e7033ca0acb5190f124985506400afb2acd5f3614a5fd50bb96810d3cb025984f9c90c98b2553bf9cd4efac0294671919f6765e2ee5161dba883a97f94971631e849b7ca96194b79fe3e3373530088a6780ecebe183f9931d7b00fb011d6a0196acaf2f2de86afccb744fd4450693a855c1955ecd16056d544d253aca4ea656b4c521fdc20f664e881e1d88eef015bec7c3692b75bb872443a8aa4ff4393ee2f7c24483cb6dbb114196af16c8bd93f271f5bd482e0cbe237f666737b6018a5f496aa46c4f96355f64b57b1ddfe3e17f7e9886685280567f6c9c7a6061fa8343c9f7f60930920048b8592d133c3d2d2756d1580212ecd95150790d616cc8208591e8716459593bbe8e840d230a239cb1d267e7bbe057fd6dd9a3ca2b26c2e92cb6bc214e5cf1136b6a680d334c45fb7d9e328abce35075fb47e5300c988d5f09993a6ffb5462f672dd7569392df19c7baaca7ce6f61deacf578b74f075d516fbf58cc20d9e15a5121c94da8dfc02791a1528f794848105f68186721b910d0db38f878d9c4d029341ba185d2a756153d8f64e034ecf2963ec2477ed22085477d910884159081dfdd3ece158f791b9e593606c16689cec4f13160c5d284bdc1a0378d7486f25160e459a42399e2f00716aae767d9bd7c1bc8cd67e768ccbdfbfeb5a13865ef9eaa5d2fa254f8e1d3d1797e7a68f51d093727929e365ad3d0e348fc96e807210b0aff9ec5f9eea2caea1d0b1940301994d3560183dc5440fe6c6ff082710ab9175623d44ecaa860d76227daa38f11a760fc2e3b570a94c8792c47310ae120313dd0051013f52ef391d1c32363efc7a85be7e288847d7f3e8b73a44ba70db4bca5f8eacfcd03374b8426cc00a8c6bddcc820afb7e0bf1db2656206c99339455b672a1c5b56e03a1819c1a0ee6e90ede0d1ee160767bd70db8e27706c69312a5ff366b543683e0c6ef5f0550aeb94f5714c924ecee34226e3d0c3432a46b85eed3ab1797ab5dfb09eea406c88ec97f20de8edad891b97ac020e0f38cfefd99ef808809d256e82ea3837cacc3b355611de2403b117c375c332618c99e87f0c21a42e9ddb71e3c5d37338bd292d0dd2c8f4eb0c8bafa33f1f94914749f759bb3433c1ebc6caba203cf263c4f411d4a377731e1c7e0983faf778f00d2ec66834b6c4436de19ac463791c6669a83fcca139620489ba8c51213b0cc5d81c7523d88c4778c044b508e5ec8b38628082b9dd9f211e1eca1d0b4e8735d16f4bddec0d157d8befe2320b5c0fc97fbb332673f4bd85fe0a44667249fe3fb47bdbd7b9b1452b589e91f45a55e82a1e31e241036485f995c4f1b645a175c28ec7ffc79635ebd478c38307b9f9a4eaef7aa48110d63826eb43ec082c575b301d87a5781bc7452f5a19fb0d5dbc795636d2c3ef05220baecc3d868960ec4b84aef66c25e631a387e63bffe37ad889477d6f788322df0b37a123a23e6be0cbc7ac3ac8921bdfc303badf25e4ae98269068378d27a2d62f73d001549a568865cadb0697fc473ff325b430ce98b2f14a57de7b3246dae0f4cf9c4928e1b9f224aeadd5f9fad3c17152b05e525c3b7b7fdc5e3ed5d5ae8ffdc108e5bcdc54348543c34708535ade3f6690c797a6d491785532b60bcb90267676965eaf7276085434b1c6f1bdfcdfd0b8f4de3669d68a3024177b7eddb2c97e6ad78a7691d571ac80fb104e446b4d26174c3f10188043ac84355e18e92d407d0fb2a90bd0c1c44ec4c961a48ceba7755887903a57e588b8b3c11bf952720e6dc982134b0d0fe61b3da63edd4023847f826c5026b7beed960b6e7a2e864cb7ac05d0d8cac6ee311b7d5c92ed30aa155a4f32ca24b6719506b596800271e22dfab9985fb918793f3096f8a4c3aebde0eae88e374a3207fc7b4d567411f763bd029e6968784cd4ee3c9fb760850fe61a1c05ec6176c1086c09b097238ac18b8237cb4f1bcf8db1a1cc3fa278067af8ec97a0fd77337a859661d6060a2aa236549bf43111b72d2d7aa34111d4c4d70d8ff1bcb28498504a910e61bb4e04be07910766f36ca4ae45f5b7286ff2f9fe9946ba3f1025a6de6fe803491787e86df44e3d2853958f06f8f0cbdb8567ffd0e642124193b4bfc11e0e261e2cb1d6ffb9a71d3c2dc48e284db6bc309141db9ae05510a168d6067f48baf46ce6172a47ba0b64f388691ffe69d38ab626bac03548ed297cc16706d36e6294fa07db678761be2866d4021075dcbeed3d993c8ad1e8d9eeb25004101be4c6a890d0231ab48f0c9b64836f6795f0cb4dd63282df9031cd252a30cb472d567e2ca122ac3501f05246be4a79cbb6d032db0ad5e367f547e7324c88864bab64984e9a0bf22ee02f0149d0075267478961e7ae7c5b617d64dacadffbf5d75c1d3a907635d548a2ce18f738b5936db1b3c0d106c037a41f641ddbe2aa2647cfb51284799a6f7cd21c172198c59c829647f33a3765261717252a335a46108991a3d6691137e57b8ecf5e24f42b007a882ca881f1c8425e2990247c6b0c1e50e45a6733f8d17590efa7849d431568c0ea25cefd1b50c48a8139fddee5ff7aa4c240d6d71d02a8d9a9c40f2ca8429dbf4cc98dd7289cefada5243841392cd75066a0e25e8ed536386a9c09f951c7c9baa2ed0746673f90af12836ce47f8084ecd3cb093ac5e3d7624aff50acfc27d923c51c01c8a63dfe787b52ef995389c4b2c0b8c5a872b28ee7783a6bc8d6cf3a0773028e73a23030b6afd57b2dbb780483a8079ff49904df8af61ee31210fbe0d56816e7a5f7baf81b10532efb6799615b728cd07717185babc9156daefddcb35f4a3b448400ad9e4a93d96e1415701d1a9e372e5530fd820870f9642a709ce1fb6bf8d255fd25f56bc4bb3bea1b85a4bf2548524d278cc266ab5689eeb3873668ee2c4b7e7f2719d77501a16c7b6b78514ef97976be19cf547128c8d049652542e061ef970bcdfc20e49444c4633b65c47f8beb4a17968d4a3797852292ad5d9166f3dc66df80458da950ab717a7ce5320fcecf096997f0aaa5910d1e8e8092306c87af1625943fc3bdb5e7bec60c515ea028c4f4b44b166896da1607f129ffeb836c9f6b309e29f054623838b5f9790b409a2548a19b1aac889915b886dbba9da24ac2e0749712c182244393ec0f63ccef2c887aeac8e75d0e7846c2de4b3688c63144f3fd9ae148e4431eb3d8c4cb67b2b57d163a80364ab3e6bdc309e11cc3937827824a31ffe4ad133b765e775a9ebd421bc8563de54582ed95e5a994eb96d24337c7e562cc796f06db1457a119133a3bdcaabee985354224d61c815ec76edc95a98a89c145788099fa3d16dfd3387fc902c7f1b196e36231a3fc70a50841213493807c025459ac24d6665326c06e6948397ea0a4382f0f7eb180f82392e83c0862265d658dcd9e2db1cd6656cd65d60dc620043251983b570c5d21b0bee540905245702e6c3cd6acd93deb7761bd3582d3f55d96f8176e8b5f5b2dad39a2dcce6177388380c5190a61b4b9655c87d6b24f4e26199fb0d01796ed377b10680a887b529e1c76689b22f3e55a0e8025a42ccf512f436e99dddd77461eb5c057631bd3e4470abe1982f63761e02b886792129cf41a860daae491e8a3f80f3ed1fa4d69a38a7ecddc01490c9536bee63efc5d7321bfdf97edd941cfcbcd551e1f619e22de948043a2a1620218f7271807a1eb80612a11dc64a404f9914adacbb3929d6af9adc5c51a54c0aca7e731fe0c6505e1d55ff6dc52d9c4c283360a2f292f1611bf5d2e55382df5eae5c015055f75fd3017a7e2c630f2d6d376c0b91d228d5a658f477d6946b700f7f66e67f48ac50b55f9fb22d2c8377d193b128f1a5d60881db9f6ade20099874a2bce52864842f0867d04b81e115c1fc5066883a3b7e689d9b9e6f706997b457dc86964d4bf0d1312473fd0af7d04a1051941ebfb4a3f16e8f17be9d8efd5237a325a44b85219898fe4c526871b13ef16054b87cbbe47c4310fc180d76205fb32542b6e7c54a3e7b927d1337ad54127d7fc5c8d05d6a775ab14f9e215965b9f3317f6e8175af32aee38c423d3dde57d9b42155cf62998f1d01aec9ea4a6770bcaad26b999c9f00ebc2417cfe7e3ac06ca2cdcb26b48cd1f0b0c3447ee4703419a762cf4fee4cfad5395dab9af3c50e9503ab805a4f65b9219c9654cd7b07d9bef649c5ce837f2499d645be40607e839839bcd6a526d46fc13ab709433777bc58bc07266856ede3c2764cfbd3be7ab0371527a97f61802a3eb2d4c7f46716ced162bc795b8c65c4ee0a4a85e0a0da95ebb4ea384d69291ec1493e4b1e1e491cf8e83ad69ab79ff3b9ed8bd8963cdedcf90c0b49903fa9e1a7bdbb196b2cf1bc0c31e7698dc0aa5ec34b956f82cf7c1088a62ba40eb80ba042fd5edc686786f58aa4b58b9abd28d5c7952732ea4c190f60b4fbfe1ac3ebcd53ed8cdcc04b97e23eb371e59872cce36606187a6f97c7f9b42dc0e0facea7f60377533b766f30264f7c93a6c864d289cbc3b71ff56f94804317654452a4be1cdb2782ad422781958940dff3d871c80d711fa36ab0c8f09b9a19f04f91f35fccfe61948c9afe1640009faea4e74b0382ceb2135755133ad0044ff85b1fdc6226b0c9d8af37f5468578e6918c60a9972bc767d5e628b9ba75c1f705381b0afe02b343f172ad3ee9813bd854e0090ad011b69c87418230595d92d6f14f8cf7690dfa453e6776e3d398ba636561dc081129ba9cff43233e101d997aa22e34bce148f86034ff9604c555998ef4a5c06f277301d649a3dc3eeb27959a90728d02d342468ead7fc5880f9f1003c7dd348822b8c1ce28f39510ceadb8fa436aa5c17f749035cd8e14681feb5754d7b40ff56af93a7504a6910fa51c0639c8cb5817a158b821223c77f0036786a820a6302dbe7a18b66f482b18389c070b4dd0846669e44721d04440d8ff1cde638d17cff8ca175a330d78374655ffaaffc3db7b6d686ae56e1ff56a6237311e1ba845823329e42071119fd6d2ab7ae23a9be9d766275c25e7950b4cfcccb8c1a53ac3e22b660207c115573365e33b9a42986e1fedd861e6fd9d814f1b0419a381dfe97d97a4fa6ee741939472b142bf77bac23e57d7154e20d39458172bbce8dd0506e141e3e1cdb81295c47536d7b384db3250f1d7fc331cd473b94d6a8c61c5ddef5b49beb3afb4d519c274eafc6b297f6adb62d736b89023125ae341495358f7c5de95af0d3a598e7350df343c2574bba7c0bc3a858948d1e39f2e65aeda040b8a0203a66b23e2756116e6c6e92634fe8ee0ff1a4094732e473473d200e02c28dacd22fc9ddb92271fee7ee89adce669e81f2e540d96ebca57338964d7333bf993a372c33bdcdab2697a4f2ca9c5d83d29ae6c203557783929aa2c9e0379e4f005028ff58bb3f5429276b25204e08a2ca4fac93149b37ed1defca3f0be00556906f4f782ae55dbcda20d6069a5b8104e910a68325d4c010b79c89ebdaf15d939d1f54e9c36bb8ddfbd473da4693170a26a75b37be1ab8a30c3ed1f988fa2387a98533fe9f72eb4c7f5fbb7badfdd924a35ea615e598fc968f26045deddb2f77bcc0eab6b3fe7ff01a886fd64a1a5057b92c13da8f2fc21b2eeb9b9eae077a1c968501d252a01848e918ba51bc955aa8a29c591e80700d31a35637cfa603bdc6bbb3601db4be3d51d7e4aa48b6de9dc97144859e8f5959e77182aa75ad3191af3cb3c8aac50903143e6f2109bc3ae16ccc44163942728173a786fba42c65a77af4380abcf6fe82c093b86c9fa7f156fe761893809239242c92e5b8d3fc2aa3841ff4c80487529ff5264718402d07d7e358e9761810b58f5dfcc8ce4c5c8d20e06c03dc66a080fcf714a218c4a395f3c7eb2f89788048e3ed322ce1dfe7a22d425fb0c04bdab36b8cef93cfe429b55ac6c330c04bd9f0c8a04c9fe355d27452c5987241538b887b7bc4a2b7de079d6f9a7df371e808a28670929906422583afd84c7f035c6a9a428a9a7097f214de88e1e771fcac7517d208d87fd8670157fe6b28acf55eddc77d3c10f7eb7531e2756077bf9f4ccd6356215a16bc52f77c5d5ef8c677a0b0d7487f9140a9707d0f692905171e12648ccd83621ff292a99862f714f03799a309b465605e210e6d4095af8a989e1569b39e36584db14ed9409fa6a75165ed0265f9d1595b7c3256440bf0b285639bf629020e30c6464f1f238d906e25c7a193c1242c9769775edeac9ef261feb616efe848520032944556798be841d06740e21be69160dc37270773e9bfbf63a2b232b7456400042b8aa5b304213c953d0db7e192cdc9b8039fa7e5f081f793ba84e5f453fd87bde15dfc9da1666da7a05d2a115739dc8c0d3e8bc119d4e2198a05551b073e5c29ea5f602a71f9a5c3e3d29f3dd83fe99b864436c8b16ae2aa946997530643c3ab30c87a093a37c790bdaa4fc8d79c75a5729f94c53b27c043ef2ce9c6b648448350a1d615b1fc5e1b6e8b2745efa1cc5dbfe17ba9f77b284831964bf37599698ea88a6ed02483ba74c95d8fd56397378ec18b8ffb889a00f100d774d58874b0a7f7cb92849fb549b368b270e775bd82bf2a5410c5b5b24f14de212409493c668dd84bd24bbfff203995a6990e0de52c52f7c8f1f79762553beed33c9aa854d9ea8eed3e9ec3c7b6ceedfb8d6b5f55902601e60007cac413a9d44f7e6f36318f3e074507ec62b8b0fac452a35de5914236f0d77df3975ab36f4f8becdc4f3edf227dde7fce621afacaa4fda56be900c059b2b546ae2db142b5d6104ea20ba81a93636377cc39499a615aceb85d496222b656acc969314b09131643fc390176cae2bac40dfec127d324ce25143b05c5fbb33f4f0eb2530d3c0c6c9af6e0930a1c007e0f79c563169e64b1d1d606daad72746bfd9f053c1740c4c2b67ee341f90b64a2c96edd959c008c10e8c7eade79495122bb97ad860a9451b75427571a935b317a867a2a5f97b1bab1928bff6d9da4556c7d399ff3e40080b2a5d867ad7446097f2992a7ae1cad2821005b34296e7bd66444ce8c3d5ee38020236e9122b4c5fb6bcc3aeeccd7d47bff9b8c95aec4ce80deef0c9f3cd790fe2af309f1e7ce993cb3fa3cdb3facb384d8855c1f80fb264d885ac36ce3b62d3e4eface6de2dbebf0fe47b956e696ad76295251a70494ed9d8d0454941f987224fa7a3cc94fae180a7934cc72576feb8a5f64141ce887bb9623136eab46e62057a4da149642ed1a2fee35da4a2ca9e367eec29e2e1907aae7f69f0b78b56c9e765482617d41b50a538ae9af0e0a9175c8af137b508091ec5565cc51711032f270474e733e0963d5f1449455bf87a52626705753067a347086b55664492d4ddac542c21008793f4e03260b27d0960dc26a303c8be2435296a84d670bec1c1db678e9dba807b0ba36988c051df91d3cb9d89ac90c25a633dd45e041e3988904635f8853df5361812924f391e3e08f44affeff12d6e983b4d73f34de1b904f1bcf3d29a5eb8e9474e4a348d41f4d3f442143861c8897d4905fd4f3d17325c2b2dfde10fa3ad8d200ca4db7c02bb1f4fd21e102aedca30acb16c803d48b8cb336bdb053677f7ff9036252d2d805419a333b9e7ae73ff3d13edac50ef2911db7345d1de4b54f917a2cb9489a004cb89f71daa5ad022bd549506464ecd0c0527d478f419bf7106045e7e1fee25c92c032af77f8f89368afe8e418c54b0519c8a63992be08ad63a6fbf95ab94d25a48b7e3cd24660b77e43f6a8c64a8384a3767269c412f91582029df496391be7efd382bf82de3c398132b33bbe82aeae7746b09bc8954eb81751e9612e974c841751ebd3ee817efc8f0291fb5b5814a3c71bc9153015fd6ce8acce3b78634de3c499ccc93b1cd84620ebffe51be478ed428f5fba32b944fe34e0b6b3c185475df1fb1c4ce693ca9ee80cf847bcf36731160af552568878e1287341648b36712c0b76b87ea82f3b5e9df9297365eaedbeefd419e273120cd9e1ac943a37760e4783c05b3586746b488f053f8cf3b40a708ca997c8ef5733c0db64d3b2da810c8c220687c9f949df33e9c724c141467d3015be73c5f7769f4dc1ff7a83cd42d1cfacae15dc04b3ba4f0b2e7b629fde5d01ba63b02efe54de3795a835402e52cfff993d51d4c4dedca0b29d23b7af7f41c95b9460c4e47543882537261c2288dc80ddb889521598691ec68a473b3fc8a9a3cf9b398e4497056699ccebaa6dbd047c97ae1783dfb7b7868aa81b41d66625eaa75acd4d01eef8909db463f221c9b6dbb9a6d6e68507746a07ebb321ee75bef50b78d2a4d2c545a8e4d9c14a9f0128b0b62cdb82b365a625d8a03dfb66b43e84dff75455dbd2225e4b681084536f375b43a099ae3e8f83bc1a20760b7da0e91d78f4598281e4122c2bd11d1cd2f98fdd153517c8abd7e4e881eb4e39ead4f08234998015e0f2a12aa2659a2da095701340bbe89692aa86284133945fb7b5c24ff2bc77e660e0a48968d49e952db97d6311bab9cffd9f934f7ca6513a1cb95d615d4418153b0300f71ccce8e28ccaabfb74e0601bc84b692dc97928260cddbd0dfc6d0cfa60fbd1a684c233f18294b380d4c9ee07a16f716cf4ea882a6e097f467c3800ed31e5fdc2fd355107861ae254e7704a122b6ac71865e9633f0d14543ce062dc9d4851b57b30626b107b92605ebe0dd95663eb21caf126f89da80526e67e9481807134cff47d44c944ea51861df09ef72c71281092db6e4289152af708b697f6a626433a71e73a4c729307f5c8d28ea18afc6f76bafe16cd077f2fae13c2ac22c6ee8c39037e051ff122f66147aeda358f6d5e01b65537cd99de66bf0beb595bc62f98fb0c6e87df9026de2634e2ea5cf81453f85ace4ffde31c14f6ef561458f50fb24fcfb06ce9b16eba5dd3868f80afdf99efc60aca49183aa159225066fa398fe3b3994608d177ac75e48a0ac17d158663616e9e371233a22c37456e687bb766a5108b04bda5d991402f80528b215c8dd0fc11399fac1a1d9747e1d5224035df377aa5e245460b36b8cf1dfe40ce002adfbae13fb88854d97eae5791fb11f1518c066e31096257c353e2e1a0cce22de58e83fff8ac9bcef59ff4391cc9f52648707ccf4873df70bf6340657d7513daac6f1e91fb2c9327a7579d033e209c77f68aeb985be5632efe8eddf81f7bfdfda8023f276d5875946ee073ce32271ae19e6cc3843efe9cf5125699e4df3bee9e73d02018892f7e51a9825d33a29c1be51ee504ad9adcdddb677796312c8da0e1ce71a0dffcfa14682d652e5fb59cbd9d69f751413acc559916b8be488f82b64909becc0f362921ef85b5d0f79bc56a927c230557d1ac07cdd1bc20d00e47b899aad2164620e87f5117b7a358ee32de52ac04efa0c76c45ac7e33b1c8f8328336c290dea44b0122003661769d646e8e54e895d127902538c318f8ffb9a64bc37b1f747d6b525dac55662d8daa817f7cd6dfe6bfe7faf6add9111a1c634fcb9223ca4ef4f1207e7e646934a6c27c2bdf18a3c44c7d215bbba0f20a5e796f1636d01d5093817346ab7ab14749930c1b47337cbc8167f536ea51cd42a3c57ceaea6a7f854b82d97f633d9c91d6d7d7ccc5ac42f34888d6e6bf2773df2ca622556abf1d56051e0d8532ec2975a1134881c07840fb2c6133b4f97b8cd35c3bcadbe24152b3be9bca86ccaa12a4039fc44e20d4300cdecf2433712ecec33104c63a66b8421405d15074fe7e0779638ac43034334be2d038a0c0c143d2f368de05c8269bf2ad6ae6ab1dc755616f227c6812b2ac7381e3ddaf900c539edafe5758b4c128d0eb1d682056e3fae08196424dfe0d29d8b7824ba40774117fcac70f8689f6bb37ae1515606cd786504dd4910c19e7cd6d196b9a7fb03308e31ffb016a127f2f800479c5a954b427323f75057c55ee2de8d3b8d8070e1fc8f250c5ad46302e022670d8d19508da2f1f94918613e0dd20b8e361c8647f2e465eecd724097f038d27e2971ed09fa8038e1b03352e5f32c1d38f6b67014db6310524ff45a265c937fcc7afd876bb7a4de4ee738e8cea35ab7a8514dfff9f773acbd2faaba05a854f79922932cf024fece1bb9f9a305d937ba04b532b598d27b02c12b5fbe41d74e3e950ddb4a220804e9088582d083e47c7886d8edfcad1d54d933e546da54c4f9a5e81d361e3c0ee455ca87329a5841ed7ebcd04bea421f21824db7a0aca720399cb4251f9d587bb32862c271eff13e69aad933ffeb72fac95140a7d30af232f3df2b01b421b0770763eb5e357b0895312577327b8e8d244c121c14c8c8a7ce4ff9749d41c7d5a4f3192e57b64e28035699e1520a6535d71cdfc0cd46cc461a64980145028a1084ac51ecbcbaa64afc1d1e26d60f803ba43f41f54a883f78f4a268c03c7efe2de1016120b25661d844afb8a2582a2615f8db3ae0a83b952dabdc7397aff578b1e78c510ea89c39033b38ecbdb82f3b53dc80149b48386fb221381745abf3c687e09c16002b5c196c75c725bfb9355a64222ee198516048c840947b55f4a75c9e67466b0f7a953d25231cf9725bc73c3a1ad5fd7f0cf45ae7fba56f7014f99c54404c1531d1c4c869ca76aed168f37df1f60627ca922375d1cc685f83c5fcdd2efd7df9e470d696321e30db0f24a5125ffca8347b45bbc7cd45002f2c20f7a85c03a67420391a2b9bb48813fd151ec0d5ced969b3b68f32c18e5516ebfbb33d9f51bcaf0aebe6a6a3ffae4270bb7dbc4be6f15fb154ba2a6dba186122efc879e403d1b249f4af4577980e7c94c94a5bf51b72bb464e69a79aa51b0dc5f14f8aa5b0fe0daa2723510a6f3c50aa60bc41179c1123088e7e08b5f25b62b1fdb4700a01b51d480bc1ab1e99bd064e3335fc7c6a442714b54000e0d4b08203405d517ba4b6bdc1b55430ebe75db31450f2b195de3e6c5987ff2be61481733349767ff20294976f8235672fad323c3cac8e6b3262288eccdd8c02299d041321e46308aba0da480e3604272023a22a9db7808142a90de68c46649ed862483c3d40cbd26ecc37c06a5db09055a70ace83029e896f74e051b7e98575e65a8f414e0b27151fad7516e529ba8a669015bc647e7e56d19ad13b83ea0d5ea4844e2b9afa40aa2f148a1024257ed4b0f12279d2fb30be693d1e5148cb092b1fd2c9c9a28f198513b47e7d977805a5e7b06ce0357c0922b8b72fa0355fa32d85ddcd3616281c0ac2709a08b14890f9d35b50eb2910621d5da22a9eb07295ee2ea5d0050c2d96fa527cc43200a8c01106c2b0d9f300c58984db5dd9794fde8c3c0142498c88237d7906ac78efa8dce1287e457ec7d39d6f2fa7e26ceaf1a829aa08beca8c70f44bac09877cc5abb0f894911ca37f0f498c4ed5d7575e0a561998003a6348479048d25098ac01dc82b78e56ed1027a93a4428186a4a9fa1eac851b063e2c2b9e117ac9a7598d465c70efdbbdf661026a05c60efbc2644343500ec5c0e8665afb9c7877610b857641d7cbb7cb902c48e9dd2d97f2aa28063b5a565503c68001245e933705a876f19bdcab9c0f2e4659182f060af2df628bc213ddd2ae828c55f4ed47eebecd7480b926fb6a8d63a68c8a8e2404cc9906703d8f03b42c945c112dd9781cf22a2ad7f01df529e582e29b0fa9ead5ecb603281fcf581be78ee783dd53d719fc72b8d40ac5ad5c6789a7c0e47cf1e2b90b0102ed443ac90e1e1e8182078a573016bb04e14b74a023acc36b4c8fa3b6c2bb2517ec37644feb4a328f16e0e525e3028dbf35efd45eb6c6a7ca2ea0f0be712f7fb8c9cd028bcedfbd198912e23c78c35d81244ea02b86cfe3f50093da3d8e3e4300648adc584455a07cffbbc53b59e7fe8870fa270740e1ed5bbdfc2d11ec2fea1fe0ab8a4f68ffb6ac0faada03715db07b21034b29cbb69344a1a6e2d8ab8b5444af7db85e07e6f8b649f58171c9ba890fee74f0d500245e8c7f8b96e7c39d136160969ee9cafb92fa225344191f81f58ef9fc4e940f9d3f190fbb8af1ed5da4ca6797671dab2c561241c4b30336c754d9b80b5f4396e694db241d2cb34bcaeafb8e88d841193b90e8f43b72f0315836f9f85cd1d8bd48bbf841a09a8c594a0177f1cd75289648a2e67c0cd9d07861d4bfc1bcc10c5b258770a06b8295416d0857d3fa76953d84759f18cd3fd07e3b111b806d05608a05f137bd3fb3c3fbfd812e4d0774d47d5856384eadc43b772d40784e3e9fa172cb759833cd6b6ea8a2a22db47b5944fcef8ab908dc6bc765514934a2190f095f116098b18524cf04ebbc6bd70c3dfa54b2892559dc4b8611bb4735c6912baa87e4b6377c4bb49e08d33fa5d9dbad5719a1211e3b2de35f6d3f72ea80d7dd0c1aa42d916abdd38d69d65eedb27abf5c24080f858a660fcb5ec9a5b5072c771217231be6e0b332f23f0b4bb77766e27c6e08f2ecce744fb02072f498836d3700f03c05c8f3d06c347499cd7df5ea6230ba3ffb38584a30082f5c66bcc170e0c202f2b075260f98e48dd1d05b74c1f1bde80d258d8195d1fea63166ae3b05a960068fd8b480102acf6cabc5d1ce341850ae69c9770fe1ec73c8b8ca37d576b4734f0553d9fc9db68e809f26ae9975cf1e1edb5d0ec201acc2d944b694d47728cd504f9f22ce7319c944bb5b68293380b948485c838c8e468e0066ae268576c86d52870b5f244ca1e291de7e4b619ecbff406ed748e3456775ddc8ee6979ee839db8e3819d9d6c1359a1bb69f1ed990ef7504e06929948d227bb004121e5053620af72bca824f8dfbb3011b0a6bef2aef16b6e2db493107d17b53707aed356d639fc03ab6aa7411d2d4085080374454192dbd4fe54b3c73ca88f43f3bf19c3e9f5759286814fa468c51f069e260759e90d12d02e2d8422cc79d25864608d19a4f036559090424a1d087525a69744553a198303c50ffdae435ef20ebc30d0f89de55913731411348a567b333a56e52d86b257a860293f75d05914652433e16b04584db1c198b51be69df58e0324b29bc0cdd8e738c16cbdcaf58989fef275b33d67b31c99952991e7efdd1e5144047c796dc0059448b04ec904e46289fb1b66a9a1511d8abc164a262c62c79cb5ffeda58a1489985d2607173115adfbac22c1c2d01f45c4af6e38f3e9507d3181e1020ad497fc7156229ca7360467b70981a2a3ee761b6c2a891864fde70e8d875448e26a9044b19e5d586b001168c6111fa773d9ad4735dc55bca508e0894365bd6531de1ec1e6c407316bd61b2ab689aa0c3ffab1cb85a70100e4c69291519ef3ddbab3bd4dc3675bcd66a36e31d0cd08916b23fc5764ecc1847deaf8ca7f49a6be879475cd11a983a052d9f28e33474ae4308d4a29ce260e543dca434c224c58cefecf8cd5ad01d100b3c9ddeca51e12483fd505d0562202d2797992f71a7a6e73b2435a0f6f5773eb887fe0d72ce7551680e2aa31e1e602212ed59e9c3d0b57d0156a6d6765a9580f3d2d427a1523641708bf06e3cf63d3826882b36bcc886ec4c2f5973c90d2d9465ec9a7b20edc4b2276630ca77741cd8865f98b3b244bb97a26060f5cdb0c3bcdf7323d6a3d44ab799598fb70b6350d883ba67d4beda83031908c56af0ff1ac3748d568771ba6a0a8fe0f8647a40cccf10e0fbc67b9e56e432a778f05bf75c65800540689fefd918471984a2e8dd46d1aca935bd8cee1630ce02596d70e43635f5ef6fa2a845937b6054529473637b176b78c98a1cb2595220dfadf5c2ec4c395f8cf96081f7ac2ce44f7db05e11b3ff09d3841c169b65fa5acc56fe471afc9797a354a814ff6ec4da40dfab4685baee967763d1b6a7876811e47a70b3d3c9ec6623378ca42a5bcd7a57a1ab3f73ec705220ded0ddfcc9318a984db36c2f4d2bc6e21314ea58023cebe720c755f3f44864ac4151834397c5f087181f9f9dba2fd6141e8c6ce81e215e2b1ac95d6a48f988be5da9fbf9b0f40548f9a5dab9740c40de3287aaac9807b4bb0084fb92cfa19f62f15ceb58ef1bab623b380fda9cfa3a02e5887d5c1d7bcd3df690ee36ca2fb1c7748077b0a40216680e4e68747f127cee515a012999e6276efc27d1ae82052ce5c234dc76b6c0d680105d99c335778e5817aa0bbbb1ca83b84dab9be1d77f0e55c588aa29566fa7280917be0df01193e4ee084e9f1f867d1a9c9674bc5cca8077b6b7faabf848ca2e79a061fbaf467f8b28329db5fa90311d535cf26bc07c75dedb9adb596ecfec8b2a34d4b23292c99ec192018f79d1b3125f4684672c019588cc405a69ee15a583ed98cafe7b19a247aa6ce10f63bc87dccddd80b8c12d905c84e9cb694db50d2d29bb9bef944e389d23af0a2ce1181ad8c7aec556a9fcd44c8079945fd68794d4b427ef915d6424f720f73c278716c76b7074ce8f3cee85c87eb82bd17abe21ad9109498fe5269de88f9c88ac6911d986e4b0818499f9234a446ecf4e3d0ba801469944566c538eee81e780a40b22f28601b3261cb304ec2e9766d63d9e57d84e7e98085bce01eea34132535c343c09bad8881ae8a397dcc5a3c15256c94c3be518543f830e7b9e5c03d35e6a22e49b4c71cf9e8329e76f2ffaf1739167c4e3c7c10841f42974ef351af67428728b5c7d461f6f3975e60d45b34ab919f0519ad2f0a85e25e22b445d255030fc89ceb43a58713a3074c4850a03da573af54ca64dca0680c9364402b2dc0d7379fc93e0f0295353a00dbc7efbdd0cc63fbd3b1e189774e3e664dcf317280bca78c253749f08b4c876238a6c01a9b07cb0177eb629a0da6df971fe126adea8d4248d0283821f92c5ee3861e785ebf800a2b8ec855c22d8db63ba5e81aa6a87cd5e9b35f93b5b4fe297d69438d0df3f27f84b64e97d4e6a25e6cbe6a3416fe4e76abb47c3295f051c3df855ceb6e00f76f9844ec0898e5106f36b788999e3c5e745aba45796d829b7d11eddf2442863de8711392fb51c2537064fee59801b28aa304d9bb3fdb220bc71a9aa0cc04af87ae1820b8e4ba249f3295dffe06432f1b25204545afa382ca1611303e2bc9b4ca4659cb975f4b1a285decf8b2a23568ec2285ea47a759ab69be88b58cf22766379de4851b146837fbfc794eb41a6b89fd23afa288b60350813b39d094a89198a37532953024ff874f9a7c7f6c223a165aa1aaea6509169aaa287a8c5ff744510d57b378e10a14bf95334513ded6b155760911a184f37d1fe37ea964f301b376edabac0af9d5b246750816ce7cf1852cd3cf3ec2035ed4324813049fe47d46e3bf23a2749aff7b0a2a60b7c494c9faaf405c91fc81ed86d92d639729fc608d6ce53533213da5e883d440aedeb02f01704c793c64dfb96678c1e54a41ace7eb5ecf0da1cf23291d059460c7ef58051ac82dffccd6060d10fc9669e2d580a46e330454619253fd58f031f536c8400a25848afd017c40bd7bcaf55d9c0a20885958194b2818153ccbecbaf546fcb09dbad899450644d655cda7595237ad2639d19221f626b3a46cd455ac52156ab922609cdff9012355e1a37adf1b65ea7cbdd65043dd3900305ed9b89aa2ca5c8168a88e37d70e4cc40771907567d3daf8fce62f58d4101d67c1177735ae86a6aaa60a711ced03be1df77053b184b94697c0764ce165d08c8b91c6a90162d474ba974bdede720f3afb3399004f2d43d8566d7d95a9f71682f649760297ab87418e8a1709b6b478128f35b5c36b42fa92c14a3cf4019bca20612cd110b1d795451885992013781115adc639f4bf21e628f0398550e9115ceebdbc2773fe6d7396aed6b7da8ac05691126fdefa1c60de2f6ab865ce184ff7325100827d9962a00b2a47eacb284748a09b83b814af9653c1483ee5d50ae2c8400fc84b12c1f473bec56e9c333b7324f997f3a7bc018a0d62c31cb51293728d886355a80bf6932d0f87077fcf931f0a3692cc9032ed2a9ca8a67d1b491af9773e098963d5aadde58192f5cdd256a04d0549a5b806e30f80626ac544174d219ecdcbbf0f8824fc201533251f790fe6675c2b438aa3e7c3b14999166404e15e23b54977624e699124c3437dff00737b21d5831009cadbe0e878d62c80c6006896d1a09660d00b2780205d2ebb2bba3289a714c24503931c30c94b75cfd6396247893b90f56c050c0a3052688bccbbe1835b067450a266c64ef877e8b5ff35e031dde4de5ef0a5ecdb3cf8ada1e85ee0d85b7b9d1168f5cd6873a1e761bd7e6cdb53f8b7bac1cab1fac070fa97b024e5473b2adef09d0261cba23955e4c5e8ff7b8c34cfff9d064a2a6bc0c314c89abbfd76acc05e2ea076141004da8c81009cd34ecfd48dface65bab350a744603759fac1f77ad3346072db1cac29d025fb0be0afaa6e40ebd3f75e72ae57e23fc893c5983c9842924c4972c469fe14da0328fc8b5546beacd5073b5b67a23d99b34ffb55770a638fe815899ad125ecb9023dec76e61274ddf8267852c6db6adb30712a1e173b26b587fc8524ed2672f2a33400338d09a3c5ebc3806fd3b510932489b794bf73d210e56eb439b481453d8bdd44d694942b4874611c8f710398b84ffaf9714a8ca52243b4d1e19fb730402c47eb435498c645ac48861bfec8cb5a5e20a37804c93ecc0cc028bfa899fc3b99b862b3c5a2a68ed3ad8d6911c418e57943840f8a25e6b1eee623f4ae32542ff8ea6608109dd8d80e64680a997c1a932371e7b7414bc2c75fa7cdbe22a38929c96953b32360da19f2519c95ac2225bdf825a66db4903c94e811145c532134bc9301f126a9b1508215a0109da3da2d44a03b9d37844187f32280b4dd36b64695ea530175b81ad6d98e8232d79918c8741527f8b434a91deffbf5195b27f73b6036e71f0d8655ed2a65a6fb736530118a3630f56424c55da21ec4390b8864605a4f8078d11ea6ff42d700eb66b85143a00bc230b6f1114ce377011167491f66538452595a658856e9e99012aa62f7b85416c8ae7c829c85d00e8434f09d6881ba7ba7c24b89bc3bc35bb5d6a530b92d423e75cada891f0714fab6764358128a9f934ac45e9e9c4761798ad41a085e88bb12b3ec5af647f44d052fabe3adbbdb2cca6cc647a50d00c1bc137345a2b6d09233025aeb17c9312c59d347e31170e4d4109b7ef0493137c92ec84cc5f2da18a4f47346168570b0eb4466aaac983b252e17f24eaa9f3a21e34d73c91019d75c9b60a644d75bf069b1789696d161cc2d8d04ce77289169cbf4f77d3a9db821994943b7c64ef47df882130826e534a42b666c1698dc957dad2d23be998045c4b383f86d83d421e6580dc6857d301ac31e970db741d3f789b1a020ce5ef47a73531bff065e2f99466828a1dabbe5e04a3e01ba21a671f0150daaba20011e28d5cc6e284415f129f56d9379b3917678d869b40c619e3b430af1f4f3bdcace2986524bb5d141b4ce360cf869389a8832552aa6625546a299da98bd34363364e93d202cfe3de89f9ead4604c5d42f76017a845e93bac73d9b7f2586dcb70b57458ca6001d9aa66ef3a24599ee82fa1af17ebe298457dfd77204ae1817376470050c72dd973c346dbaf7b52f97eda43d10a56390f16d39ff44dea7f9e04e0fc85a2fdeeb0672f5377c491a1ebda27bd38a1e671ce128b36530a54e0b021160f298287963b0051b7640ba227b416facd239198fb6a9b2e390b6debad6cf14a0ef31404d222acbeb93d9305a5dd432ba225dd244c722a8f818533f0f039a08b438aba1fa1ef9500f2300539203fb7d2297454d257e01432e52dea1c83e1fe8c69a249550027b4bfebc3355922f4e24e6675c1fade500706edb9f08002c8f9704d8b7079c3084cf4ca2d89ad93d2086f22adbfb3df4ccd47867d32d621721b98fcf3051162be85119bd2bf197c5e863c881e2e664132778802a5962d2ccc7bbba995c9d86c0e71d8662b5611185024daff5cbe0a2205e2a8488dc6bb3e3813db2b5f583315d2e39b0412ab67f64feb13c9aeff8f7a7d2d2cddb0587b0013a00eb0c251a64c0aef7e4b06d2a7971cc9d81b096a66c76c17f96d1a50743170cda8e9860f427ab16d4ebe002dd08a2f4d044c2ceefae9b63036cfe9a91605c0793554a8088c217ad2594db12c836034155005a03fe307435600112d827d67e30e7cbcc61687d4a24766f06091d80fb7e83678f312f33d6c39b976377d1b3f5c0842e3d8c590474a0fa461933ab3e84b99ee58c19a279edfda94616297f9b27a9c22d2c471530be65b71742208e2c55ebc8ad88ac3a391b8a2e89dacdddc9fadbf4344bd54e4b04a30b9e580fb697bd20c703716777db91248d79bc60a740e4f0915d5e235382fc752f97b8f5b31a72a86f32009fb246eaed9c7b7b4e4d83e7794e36135a8d7c759eac64daf21bbd2224352fdc8f5f7606f87fd0b20312b6956825025fdb4e022fdac4bf93b1f399eb13084588e9feb363d7dfce4701eb5998b56112b317f40cfb5e4be4663f17ad913027d0f9d91475511be175303e2bb7247adfef4bfd875c894f472003bed122d2d3986101ae97a2f87d6aaad31adb6de5313d0367e3f0afd8465b1a6fac4bc8567e69473affa50f7ffbb5210f8f2bdae0610d30dbe57ac7e35806f8c38beac74a2fdd28db6b877791593352e76a79727d00664acdefacf1607adeaa0aeea8126de1c80afda8619c0e95bf4d8ff450965ea0647c3d88239cbe906d256c783739870bfe5522ff1b0b230ac272c81930eadd66cb673a8dbb3db3ebca5faa2089119819b4384029ed370bb4a5cb7c59fa8bda0d7d5e21d9763ad958c6ea44492d4b3d1e4bc0bf6c4ab05ddae7a71a6ff5d9f4f30367b93cd01bb58fd8c373b0c72c896517ccae959dad6b39884e43891efb44a984558d45484f94002938f7a564f394ec3c18aa0084a4fab58871b01b120c883c660694299f701126e8eea22963d4ce0752c4086ca88f5678966bf3aae5ae7c90c98fedee98d5ba3e1721766ecd76ebd53fc7be8c4f4561403093e1dffea32e38adcbbf225929db8add3b9b2b505431867e7cbbf702e4ef386381fde3e8dcfc9246e54e1ab5f0e6fec09dfe8bf39b5e3f65c110501e3f49e2986dde7bf6b1dd105f6a2da684e93ae375cf62ee234530837ea16fcc33fe06a52e27ca854163d97b83e8fc2e5ec499f5dcfd086ebdcc6d6459e7fceb15a91eba01c319e5f8763e5f4d5cf5954a8b201af4adb51a66a9d0bbcda0c31e3a0ee364c564b36f0f8797f29a0cff555fedaca912ae2776a8314884ef24b5311a9aa1d32ac24e6ab2eaca568492e5194e98507f8fd3b98eb359cef0447ea0bce3df9fa921365ec90801daf745d753906b193eb90febfe8e25a0c44a54050e1bcf3221ce7a1877c8de8df4557d240b13bd1c8b53dfd09b00eef824593a4d90401a28c75be749befd80d8d763c6290864e3d1b6ae5969d7359f009bd38099fdd0fc5119924e94f338ff9520397913519eb933cc6665c06cbd993476ec56f02ca35a39ab7ba53157f0a0c966967eecfb7b1cb7691b330c45aeb7cba981915edcad7ca31d6f30648a62e499444353a805bb91933ebc13bb29499b7d21f16d18218222254ae75489198f9068f7a718593353a3b6c4ed4159cb29bfcc8a4cb35f2de4880242d4e43d29ab218b3dfa3720b43982f1600ae31daad57dd00d37780a5d3a42e09f8397ab23cf88cd15e47259d0ccf0518a650384229f9fc003e532bdf45312f55d59ccbdd759e1dda49cdf2dd55d2dea366326774347e3b20e2cf5c4b021f18a9a095102f38509ace25a6e35b712116daff9731ba7dbdd68ac945faf08a16415c83d2aeac4c07fa4ef8de1d0dcab80177ee4136aaa267bb88cb2238b4aa8035b31b9bb414f8c5de265037aeba152fa7830eaa8462a0e881ac9b56c1f407a6666a385893b10fdbd065ad1cc814fa3063cb3fba468faace4d49c98a3c2803a9cde0634d3ee836fa2f38da2f8855bf79c426cefa9435a89112ab34b50f97aa8c82aa6cf18a91f78b9bb64555df19f16d7be77a739b577e0868756835c6b43b7c1a9d02cbc3d8003bf9c1ad2a65c3e6f65b5e9a1b04d023258931b3cd2e443bff0e9280c7dc2fbea139689a33c8b2b82b7ac458081a526406b3922aa936dd733913610924b27b52cc883ea2cee1636490aa495847d2ce842b7e17d7b0a6f07a05328cbb3d18dceca121bc079ba4eaa287e8646c2aa3661a2466fbbf2880508dced4791302a5c6b7b0f3bcce23ff90898b5e5e32eee1eb62287601f539aab09d7c51a6a4b701da96064a961ebc77aa2ef7396e03b8a725a2553f3b92b5f8f4abedae7bc7a0f529cd4d1a9f41a395751394aa4cbd88341ba1ce9f53550c828766ce03fe1fb91e7454ec71a922850b55b44f3980dae04e24edadb0b27bd0785dc3f11bcf6f3141ab2613f14f2f054ae414a6e7bf0773b39eb060e2e5082237490cf47623582213e384385b35e3193540ca0853ceaae8fe9e470991eeb1dd7dd45e40e4d4e76c66bd508550c6a5db4bf73c715abdcba7bbb18029211f7ca9b07e3d4cf94b9252803288831fe7879fb3fca10bb9b6df5e96a5069ab9dec62d207c28826bc89f7c59dc413273baa9fe46384c233d4bc3a03cc29402a0a99b70371a9a30335451b624ade7442867e25af3090776787c3349d5da8f7201faa7c164a70dcd106255881e2d5b13a8437785b50a1568cc51cea40a4e74d3e8be10216a2792f32497ea92ee85be595caf9351b3844561562a4d2566489b37c032688e3003c7a0ba91bedeaf08b8744c2ee6ed40388998e697aec6cc2c15f405f57a94e6268fdb5c4318e951dd5e0fb39568044218f3e33bfb10c8f950f06d5fafe20109104921ad8ab018b27e724b6e61d705490d8cc7abbe0b9363d689e4a23bf66f426adf2abd832d879bdb88a3ba63b687e316b7f9d632f10b4eb8c5319546bf96b85e123eedeac90f24f47decdba444f9ec7e1d1857c10e5b2206527f0690a6eb517ee33f392885370fb977e617f77fa86181db395800d4308ffb9bac9b76c19561d85d1cbe5c599ad3daae9c05d1ec9dff3cdda7d6788b9d8b823f98ac5b52354ac6cd8a5e9d56cedea21b4d7168d02493aa4d85614fb0fe6ce967d21541690408dbf906a5994bcc31c94b106376370f3656ebdbc109a1da3e47306dd1efa66efc049eb93111bbbb0ca7db390d8a699d85babc542e68d14d78d5dd893b17b2bd6e151e37445891e11642ae25345b8be40f0cf9eca75ce2fbc5525ebcd6d5b8ee3d1b905cc73989bea17d980c0fee19a0e78c258362a75410e2a04e1042123841ac46a7831e51ea4b57306ece509a2e47601cd1f777a4ac53f52fe571a1e073ceecb45f7803faf27588bd0150ca77d905509ae2847fb987f20ff255e5710580311c1ed2560846fefac50ae028cc2a66b012383b3c538b0f618fa4a4bb83328ad69258cf86976ea2ef4fd90e5c96584596acaacc07e13fcffe2ad52e4c60e5659e9d7da17820d887cd7c6982d3e8951fcaabcadef2ad86ab92db06f336695ae0f25bdfd3d1dc141a60fb243a67dfe676f00b3b560a843f50f9dc2a813b7d84a04c76dfafcd0cc0f48c19979991b808b4ac821102fb7dc862713fad54cc9c362ecb841f5cbe1830299d5160dbb41c942f3e156f8809694936eb5bf3c88bd280e9a4c0cc41245ba7adfbaa10501de932489baa3913052d6157f092d6324c16a1428ed0aa3d05619a5cd5140c8ed77f16c5c4b97b76e54412eb71af208c2d8341483735640289b75a8fd7556e1b1a7398300188f23675cbcb1a25a8ac4ebf05883152b226acf0a709999b02d93673f3e8710be2b161901003f6aff611187839432941920ded55457edbc887aefb0c504a6c8908aaac6dd1411ebd9c3e56cfa0847ded0e682db3e910d34bafd411edac4d91a0b62a8dab46ed34c5c0285466f55793bc873f84f05380eab7970ae2c9fdf4c210e39f18446e8070321c08dd09a7b1d42ed4864a98f43db104a5753868698679b1c567eff5651e0541d5d3ba58da2d076b2510ef553807b6471</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Welcome to my blog, enter password to read.
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="java" scheme="https://www.xxlaila.cn/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>harbor ä½¿ç”¨</title>
    <link href="https://www.xxlaila.cn/2019/10/10/harbor-%E4%BD%BF%E7%94%A8/"/>
    <id>https://www.xxlaila.cn/2019/10/10/harbor-ä½¿ç”¨/</id>
    <published>2019-10-10T08:49:41.000Z</published>
    <updated>2019-10-31T09:34:27.208Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h4 id="days-2019-10-10"><a href="#days-2019-10-10" class="headerlink" title="days(2019-10-10)"></a>days(2019-10-10)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰é¢æ–‡ç« ä»‹ç»äº†harborçš„éƒ¨ç½²ï¼Œä»Šå¤©ç¬¬ä¸€æ¬¡å­¦ä¹ å…¥é—¨ä½¿ç”¨ã€‚</p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœåŠ¡å™¨å®‰è£…dockerä»¥åï¼Œæˆ‘ä»¬æ€ä¹ˆå§é•œåƒpushåˆ°æˆ‘ä»¬çš„ç§æœ‰ä»“åº“ï¼Œå’Œæ€ä¹ˆå§é•œåƒpullåˆ°æœ¬åœ°ï¼Œé¦–å…ˆåœ¨æœåŠ¡å™¨ä¸Šè£…å¤‡dockerç¯å¢ƒ</p><h5 id="è¿æ¥harbor"><a href="#è¿æ¥harbor" class="headerlink" title="è¿æ¥harbor"></a>è¿æ¥harbor</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker login reg.xxlaila.cn</span></span><br><span class="line">Username: admin</span><br><span class="line">Password: </span><br><span class="line">Error response from daemon: Get https://172.21.16.90/v1/users/: dial tcp reg.xxlaila.cn:443: connect: connection refused</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œç¬¬ä¸€æ¬¡è¿æ¥æŠ¥é”™ï¼ŒDockerè‡ªä»1.3.Xä¹‹ådocker registryäº¤äº’é»˜è®¤ä½¿ç”¨çš„æ˜¯HTTPSï¼Œä½†æ˜¯æˆ‘ä»¬æ­å»ºç§æœ‰é•œåƒé»˜è®¤ä½¿ç”¨çš„æ˜¯HTTPæœåŠ¡ï¼Œæ‰€ä»¥ä¸ç§æœ‰é•œåƒäº¤æ—¶å‡ºç°ä»¥ä¸Šé”™è¯¯ã€‚</p><h5 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h5><ul><li><p>æ–¹æ³•ä¸€: ä¿®æ”¹æˆ–æ·»åŠ é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/docker/daemon.json </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"insecure-registries"</span> : [<span class="string">"reg.xxlaila.cn"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é‡æ–°å¯åŠ¨dockerï¼Œå¹¶é‡æ–°ç™»å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl restart docker</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  docker login reg.xxlaila.cn</span></span><br><span class="line">Username: admin</span><br><span class="line">Password: </span><br><span class="line">Login Succeeded</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•äºŒï¼šä¿®æ”¹å¯åŠ¨æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/lib/systemd/system/docker.service  </span></span><br><span class="line">ExecStart=/usr/bin/dockerd --insecure-registry reg.xxlaila.cn <span class="variable">$DOCKER_NETWORK_OPTIONS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># systemctl daemon-reload</span></span><br><span class="line"><span class="comment"># systemctl restart docker</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="Harborä¸Šåˆ›å»ºæ–°é¡¹ç›®ä¾›ä¸Šä¼ ä½¿ç”¨"><a href="#Harborä¸Šåˆ›å»ºæ–°é¡¹ç›®ä¾›ä¸Šä¼ ä½¿ç”¨" class="headerlink" title="Harborä¸Šåˆ›å»ºæ–°é¡¹ç›®ä¾›ä¸Šä¼ ä½¿ç”¨"></a>Harborä¸Šåˆ›å»ºæ–°é¡¹ç›®ä¾›ä¸Šä¼ ä½¿ç”¨</h5><p><img src="https://img.xxlaila.cn/1570697850857.jpg" alt="img"></p><h5 id="DockeræœåŠ¡å™¨ç»™é•œåƒæ‰“æ ‡ç­¾"><a href="#DockeræœåŠ¡å™¨ç»™é•œåƒæ‰“æ ‡ç­¾" class="headerlink" title="DockeræœåŠ¡å™¨ç»™é•œåƒæ‰“æ ‡ç­¾"></a>DockeræœåŠ¡å™¨ç»™é•œåƒæ‰“æ ‡ç­¾</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker images</span></span><br><span class="line">REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">docker.io/xxlaila/kxl-eureka   v2                  eb8cf7e3f24f        7 months ago        474 MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker tag docker.io/xxlaila/kxl-eureka:v2 reg.xxlaila.cn/kxl/kxl-eureka:v2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker images</span></span><br><span class="line">REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">docker.io/xxlaila/kxl-eureka    v2                  eb8cf7e3f24f        7 months ago        474 MB</span><br><span class="line">reg.xxlaila.cn/kxl/kxl-eureka   v2                  eb8cf7e3f24f        7 months ago        474 MB</span><br></pre></td></tr></table></figure><h5 id="ä¸Šä¼ é•œåƒ"><a href="#ä¸Šä¼ é•œåƒ" class="headerlink" title="ä¸Šä¼ é•œåƒ"></a>ä¸Šä¼ é•œåƒ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker push reg.xxlaila.cn/kxl/kxl-eureka:v2</span></span><br><span class="line">The push refers to a repository [reg.xxlaila.cn/kxl/kxl-eureka]</span><br><span class="line">f6026bf67b63: Pushed </span><br><span class="line">1489a4b0f1dd: Pushed </span><br><span class="line">2af6e035aa36: Pushed </span><br><span class="line">472cfce4528e: Pushed </span><br><span class="line">071d8bd76517: Pushed </span><br><span class="line">v2: digest: sha256:20d3bc74fdcb2fc4cdfc9066f742c828898c728f7e3f2114498ebe2848b71653 size: 1368</span><br></pre></td></tr></table></figure><p><img src="https://img.xxlaila.cn/1570698233987.jpg" alt="img"></p><h5 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h5><ul><li><p>åˆ é™¤æœ¬åœ°é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker rmi reg.xxlaila.cn/kxl/kxl-eureka:v2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker rmi docker.io/xxlaila/kxl-eureka:v2</span></span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½harborä¸Šçš„é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker pull reg.xxlaila.cn/kxl/kxl-eureka:v2</span></span><br><span class="line">Trying to pull repository reg.xxlaila.cn/kxl/kxl-eureka ... </span><br><span class="line">v2: Pulling from reg.xxlaila.cn/kxl/kxl-eureka</span><br><span class="line">a02a4930cb5d: Pull complete </span><br><span class="line">6ea3dcbee0db: Extracting [==================================================&gt;]  81.4 MB/81.4 MB</span><br><span class="line">6ea3dcbee0db: Pull complete </span><br><span class="line">c423a7a79cc1: Pull complete </span><br><span class="line">7418081934c1: Pull complete </span><br><span class="line">f89b73853622: Pull complete </span><br><span class="line">Digest: sha256:20d3bc74fdcb2fc4cdfc9066f742c828898c728f7e3f2114498ebe2848b71653</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> reg.xxlaila.cn/kxl/kxl-eureka:v2</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img.xxlaila.cn/1570698681073.jpg" alt="img"></p><h4 id="days-2019-10-12"><a href="#days-2019-10-12" class="headerlink" title="days(2019-10-12)"></a>days(2019-10-12)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºå…¬å¸éœ€æ±‚ï¼Œå¼€å‘äººå‘˜æ¯”è¾ƒå¤šï¼Œåˆä¸æƒ³ç ”å‘ç”¨ä¸€ä¸ªè´¦å·ï¼Œä¹Ÿä¸æƒ³ç»™ç ”å‘ä¸€ä¸ªä¸ªçš„å¼€è´¦å·ï¼Œä½ç½®harboræ”¯æŒäº†ldapã€‚æœ‰äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå¥½çš„ä¸ºç ”å‘åˆ›å»ºè´¦å·æ”¯æŒç ”å‘éšæ—¶æŸ¥çœ‹dockerçš„é•œåƒã€‚</p><h4 id="é…ç½®harbor-ldap"><a href="#é…ç½®harbor-ldap" class="headerlink" title="é…ç½®harbor ldap"></a>é…ç½®harbor ldap</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–°ç‰ˆæœ¬çš„harborå¾ˆå¤šä¸œè¥¿éƒ½å¯ä»¥ç›´æ¥åœ¨ç•Œé¢é…ç½®ï¼Œä¸éœ€è¦å»ä¿®æ”¹æ–‡ä»¶ï¼Œçœå»äº†å¤§é‡çš„å·¥ä½œï¼Œwebç•Œé¢é…ç½®æ›´åŠ æ–¹ä¾¿å¿«æ·ï¼Œç™»å½•harborå¹³å°ï¼Œç‚¹å‡»é…ç½®ç®¡ç†â€”â€”&gt;ä¿®æ”¹è®¤è¯æ¨¡å¼ï¼Œè®¤è¯æ¨¡å¼æ”¯æŒå¾ˆå¤šç±»å‹ï¼Œè¿™é‡Œé€‰æ‹©ldapã€‚<br><img src="https://img.xxlaila.cn/1571019665079.jpg" alt="img"><br><strong>æ³¨</strong>: åœ¨å¯†ç è¿™æ å¡«å†™éœ€è¦å¡«å†™ç®¡ç†å‘˜çš„å¯†ç ï¼Œæ™®é€šç”¨æˆ·çš„å¯†ç æ˜¯ä¸è¡Œçš„ï¼Œå³ä½¿æ˜¯åœ¨ç®¡ç†å‘˜çš„ç”¨æˆ·ä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚<br>ç‚¹å‡»æµ‹è¯•ldapï¼Œæç¤ºè¿æ¥æˆåŠŸåä¿å­˜<br><img src="https://img.xxlaila.cn/1571019741060.jpg" alt="img"></p><h4 id="é…ç½®é‚®ç®±"><a href="#é…ç½®é‚®ç®±" class="headerlink" title="é…ç½®é‚®ç®±"></a>é…ç½®é‚®ç®±</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨é…ç½®ldapé¡µé¢æ—è¾¹æœ‰ä¸€ä¸ªé‚®ç®±é…ç½®ï¼Œé‚®ä»¶æœåŠ¡å™¨ç”¨äºå‘è¯·æ±‚é‡è®¾å¯†ç çš„ç”¨æˆ·å‘é€å“åº”ã€‚<br><img src="https://img.xxlaila.cn/1570873497729.jpg" alt="img"><br>ç‚¹å‡»æµ‹è¯•ï¼Œæµ‹è¯•æ²¡é—®é¢˜ä¹‹åç‚¹å‡»ä¿å­˜ã€‚</p><h4 id="æµ‹è¯•ladpè¿æ¥"><a href="#æµ‹è¯•ladpè¿æ¥" class="headerlink" title="æµ‹è¯•ladpè¿æ¥"></a>æµ‹è¯•ladpè¿æ¥</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–°æ‰“å¼€ä¸€ä¸ªä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œåˆ©ç”¨ladpè´¦æˆ·è¿›è¡Œç™»å½•ã€‚<br><img src="https://img.xxlaila.cn/1571019859287.jpg" alt="img"><br><strong>æ³¨é‡Š</strong>: æ–°ç‰ˆæœ¬çš„åœ¨ç™»å½•ç•Œé¢æ²¡æœ‰ä»€ä¹ˆé€‰æ‹©ldapç™»å½•ï¼Œç›´æ¥ä½¿ç”¨ldapè´¦å·ç™»å½•å°±ok</p><h4 id="å°†é¡¹ç›®è§’è‰²åˆ†é…ç»™LDAP-ADç»„"><a href="#å°†é¡¹ç›®è§’è‰²åˆ†é…ç»™LDAP-ADç»„" class="headerlink" title="å°†é¡¹ç›®è§’è‰²åˆ†é…ç»™LDAP / ADç»„"></a>å°†é¡¹ç›®è§’è‰²åˆ†é…ç»™LDAP / ADç»„</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¿®æ”¹ä¹‹å‰çš„ldapé…ç½®ï¼Œå¢åŠ ç»„çš„é…ç½®<br><img src="https://img.xxlaila.cn/1571023069387.jpg" alt="img"><br>åœ¨é¡¹ç›®-&gt;æˆå‘˜-&gt; +ç»„ä¸­ã€‚<br><img src="https://img.xxlaila.cn/1571023177214.jpg" alt="img"><br><img src="https://img.xxlaila.cn/1571023223796.jpg" alt="img"></p><h4 id="è®¾ç½®ldapè´¦æˆ·çš„æƒé™"><a href="#è®¾ç½®ldapè´¦æˆ·çš„æƒé™" class="headerlink" title="è®¾ç½®ldapè´¦æˆ·çš„æƒé™"></a>è®¾ç½®ldapè´¦æˆ·çš„æƒé™</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ldapé…ç½®ä»¥åï¼Œldapè´¦æˆ·ç™»å½•æ²¡æœ‰ç®¡ç†å‘˜æƒé™ï¼Œæˆ‘ä»¬ç®¡ç†harborè¿˜çš„ä½¿ç”¨<code>harbor</code>çš„adminè´¦æˆ·ç™»å½•ï¼Œè¿™æ ·æ— ç–‘å¯¹è¿ç»´äººå‘˜ç»´æŠ¤å¸¦æ¥äº†ä¸ä¾¿åˆ©ã€‚å½“ldapç”¨æˆ·ç™»å½•ï¼Œharborå°±ä¼šè®°å½•è¯¥ç”¨æˆ·ï¼Œæˆ‘ä»¬è®¾ç½®è¿ç»´ç”¨æˆ·ä¸ºè¶…çº§ç®¡ç†å‘˜ï¼Œè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªè´¦å·ç™»å½•ï¼Œç»´æŠ¤çš„æ—¶å€™ä¹Ÿä¸ç”¨è´¦å·åˆ‡æ¢<br><img src="https://img.xxlaila.cn/1571023451423.jpg" alt="img"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h4 id=&quot;days-2019-10-10&quot;&gt;&lt;a href=&quot;#days-2019-10-10&quot; class=&quot;headerlink&quot; title=&quot;days(2019-10-10)&quot;&gt;&lt;/a&gt;days(2019-10-10)&lt;/h4&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å‰é¢æ–‡ç« ä»‹ç»äº†harborçš„éƒ¨ç½²ï¼Œä»Šå¤©ç¬¬ä¸€æ¬¡å­¦ä¹ å…¥é—¨ä½¿ç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="harbor" scheme="https://www.xxlaila.cn/tags/harbor/"/>
    
  </entry>
  
  <entry>
    <title>HPAè®¤è¯†</title>
    <link href="https://www.xxlaila.cn/2019/10/09/hpa/"/>
    <id>https://www.xxlaila.cn/2019/10/09/hpa/</id>
    <published>2019-10-09T07:12:23.000Z</published>
    <updated>2019-10-28T02:35:39.808Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="Pod-è‡ªåŠ¨æ‰©ç¼©å®¹"><a href="#Pod-è‡ªåŠ¨æ‰©ç¼©å®¹" class="headerlink" title="Pod è‡ªåŠ¨æ‰©ç¼©å®¹"></a>Pod è‡ªåŠ¨æ‰©ç¼©å®¹</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kubernetesæä¾›äº†è¿™æ ·ä¸€ä¸ªèµ„æºå¯¹è±¡: <code>Horizontal Pod Autoscaling</code> Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ï¼‰ï¼Œç®€ç§°HPAã€‚HAPé€šè¿‡ç›‘æ§åˆ†æRCæˆ–è€…Deploymentæ§åˆ¶çš„æ‰€æœ‰Podçš„è´Ÿè½½å˜åŒ–æƒ…å†µæ¥ç¡®å®šæ˜¯å¦éœ€è¦è°ƒæ•´Podçš„å‰¯æœ¬æ•°é‡ï¼Œè¿™æ˜¯HPAæœ€åŸºæœ¬çš„åŸç†ã€‚</p><a id="more"></a><p><img src="https://img.xxlaila.cn/1570605234009.jpg" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HPAåœ¨kubernetesé›†ç¾¤ä¸­è¢«è®¾è®¡æˆä¸€ä¸ªKubernetes APIèµ„æºå’Œæ§åˆ¶å™¨ï¼Œå¯ä»¥é€šè¿‡kubectl autoscaleå‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªHPAèµ„æºå¯¹è±¡ï¼ŒHPA Controlleré»˜è®¤15sè½®è¯¢ä¸€æ¬¡ï¼ˆå¯é€šè¿‡kube-controller-managerçš„æ ‡å¿—â€“horizontal-pod-autoscaler-sync-periodè¿›è¡Œè®¾ç½®ï¼‰ï¼ŒæŸ¥è¯¢æŒ‡å®šçš„èµ„æºï¼ˆRCæˆ–è€…Deploymentï¼‰ä¸­Podçš„èµ„æºä½¿ç”¨ç‡ï¼Œå¹¶ä¸”ä¸åˆ›å»ºæ—¶è®¾å®šçš„å€¼å’ŒæŒ‡æ ‡åšå¯¹æ¯”ï¼Œä»è€Œå®ç°è‡ªåŠ¨ä¼¸ç¼©çš„åŠŸèƒ½ã€‚<br><a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" target="_blank" rel="noopener">è¯¦ç»†ä»‹ç»</a></p><h3 id="Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ç»ƒä¹ "><a href="#Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ç»ƒä¹ " class="headerlink" title="Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ç»ƒä¹ "></a>Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ç»ƒä¹ </h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºHorizontal Pod Autoscalerä½¿ç”¨æ­¤APIæ”¶é›†æŒ‡æ ‡ï¼Œå› æ­¤éœ€è¦åœ¨ç¾¤é›†ä¸­éƒ¨ç½²metrics-serverç›‘è§†ä»¥é€šè¿‡èµ„æºæŒ‡æ ‡APIæä¾›æŒ‡æ ‡,</p><h4 id="è¿è¡Œphp-apacheæœåŠ¡å™¨"><a href="#è¿è¡Œphp-apacheæœåŠ¡å™¨" class="headerlink" title="è¿è¡Œphp-apacheæœåŠ¡å™¨"></a>è¿è¡Œphp-apacheæœåŠ¡å™¨</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å¼€å§‹è¿è¡Œè¯¥æ˜ åƒçš„éƒ¨ç½²ï¼Œå¹¶å°†å…¶æœåŠ¡å…¬å¼€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl run php-apache --image=0layfolk0/hpa-example --requests=cpu=200m --limits=cpu=500m --expose --port=80</span><br><span class="line">kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed <span class="keyword">in</span> a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.</span><br><span class="line">service/php-apache created</span><br><span class="line">deployment.apps/php-apache created</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾å™¨"><a href="#åˆ›å»ºæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾å™¨" class="headerlink" title="åˆ›å»ºæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾å™¨"></a>åˆ›å»ºæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾å™¨</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æœåŠ¡è¿è¡Œä»¥åã€‚æˆ‘ä»¬å°†ä½¿ç”¨kubectl autoscaleåˆ›å»ºè‡ªåŠ¨ ç¼©æ”¾å™¨ã€‚ä»¥ä¸‹å‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œè¯¥ç¼©æ”¾å™¨å°†ç»´æŠ¤ç”±æˆ‘ä»¬åœ¨è¿™äº›è¯´æ˜çš„ç¬¬ä¸€æ­¥ä¸­åˆ›å»ºçš„php-apacheéƒ¨ç½²æ§åˆ¶çš„Podçš„1è‡³10ä¸ªå‰¯æœ¬ã€‚ç²—ç•¥åœ°è¯´ï¼ŒHPAå°†ï¼ˆé€šè¿‡éƒ¨ç½²ï¼‰å¢åŠ æˆ–å‡å°‘å‰¯æœ¬æ•°ï¼Œä»¥å°†æ‰€æœ‰Podçš„å¹³å‡CPUåˆ©ç”¨ç‡ç»´æŒåœ¨50ï¼…ï¼ˆå› ä¸ºæ¯ä¸ªpodé€šè¿‡kubectlè¿è¡Œè¯·æ±‚200æ¯«æ ¸ï¼Œè¿™æ„å‘³ç€å¹³å‡CPUåˆ©ç”¨ç‡ä¸º100æ¯«-æ ¸å¿ƒï¼‰ã€‚<a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#algorithm-details" target="_blank" rel="noopener">ç®—æ³•æ›´å¤šä¿¡æ¯</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl autoscale deployment php-apache --cpu-percent=50 --min=1 --max=10</span><br><span class="line">horizontalpodautoscaler.autoscaling/php-apache autoscaled</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥è‡ªåŠ¨å®šæ ‡å™¨çš„å½“å‰çŠ¶æ€:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get hpa</span><br><span class="line">NAME         REFERENCE               TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">php-apache   Deployment/php-apache   0%/50%    1         10        1          14s</span><br></pre></td></tr></table></figure><p><strong>æ³¨é‡Š</strong>: ç”±äºæˆ‘ä»¬æ²¡æœ‰å‘æœåŠ¡å™¨å‘é€ä»»ä½•è¯·æ±‚ï¼Œå› æ­¤å½“å‰CPUæ¶ˆè€—ä¸º0ï¼…ï¼ˆâ€œ CURRENTâ€åˆ—æ˜¾ç¤ºäº†ç”±ç›¸åº”éƒ¨ç½²æ§åˆ¶çš„æ‰€æœ‰Podçš„å¹³å‡å€¼ï¼‰ã€‚</p><h4 id="å¢åŠ å‹åŠ›æµ‹è¯•"><a href="#å¢åŠ å‹åŠ›æµ‹è¯•" class="headerlink" title="å¢åŠ å‹åŠ›æµ‹è¯•"></a>å¢åŠ å‹åŠ›æµ‹è¯•</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æˆ‘ä»¬è¦å¯¹<code>php-apache</code>åšå‹åŠ›æµ‹è¯•æ¥è§‚çœ‹è‡ªåŠ¨ç¼©æ”¾å¦‚ä½•å¯¹å¢åŠ çš„è´Ÿè½½åšå‡ºååº”ï¼Œæˆ‘ä»¬å°†å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå¹¶å°†æ— é™å¾ªç¯çš„æŸ¥è¯¢å‘é€åˆ°php-apacheæœåŠ¡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl run -i --tty load-generator --image=busybox /bin/sh</span><br><span class="line">kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed <span class="keyword">in</span> a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.</span><br><span class="line">If you don<span class="string">'t see a command prompt, try pressing enter.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/ # while true; do wget -q -O- http://php-apache.default.svc.cluster.local; done</span></span><br><span class="line"><span class="string">OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!OK!O</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸€åˆ†é’Ÿå·¦å³çš„æ—¶é—´å†…ï¼Œæˆ‘ä»¬åº”è¯¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥çœ‹åˆ°æ›´é«˜çš„CPUè´Ÿè½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get hpa</span><br><span class="line">NAME         REFERENCE               TARGETS    MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">php-apache   Deployment/php-apache   250%/50%   1         10        1          9m12s</span><br><span class="line"></span><br><span class="line">$ kubectl get deployment php-apache</span><br><span class="line">NAME         READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">php-apache   3/5     5            3           88m</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”±äºç½‘ç»œé—®é¢˜å’Œpull é•œåƒå¤ªæ…¢äº†ï¼Œæˆ‘å°±ç›´æ¥ç»“æŸäº†æµ‹è¯•</p><h4 id="åœæ­¢å‹åŠ›æµ‹è¯•"><a href="#åœæ­¢å‹åŠ›æµ‹è¯•" class="headerlink" title="åœæ­¢å‹åŠ›æµ‹è¯•"></a>åœæ­¢å‹åŠ›æµ‹è¯•</h4><p>æˆ‘ä»¬åœ¨<code>busybox</code>å®¹å™¨çš„ç»ˆç«¯é‡Œé¢æ‰§è¡Œ<code>&lt;Ctrl&gt; + C</code>æ¥ç»“æŸå‹åŠ›æµ‹è¯•ï¼Œç„¶åæˆ‘ä»¬åœ¨è§‚å¯Ÿç»“æœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$  kubectl get hpa</span><br><span class="line">NAME         REFERENCE               TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">php-apache   Deployment/php-apache   91%/50%   1         10        5          10m</span><br><span class="line"></span><br><span class="line">$ kubectl get deployment php-apache</span><br><span class="line">NAME         READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">php-apache   2/2     2            2           99m</span><br></pre></td></tr></table></figure><p><a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/" target="_blank" rel="noopener">è‡ªåŠ¨ç¼©æ”¾å¤šä¸ªæŒ‡æ ‡å’Œè‡ªå®šä¹‰æŒ‡æ ‡</a></p><h3 id="nginx-æµ‹è¯•"><a href="#nginx-æµ‹è¯•" class="headerlink" title="nginx æµ‹è¯•"></a>nginx æµ‹è¯•</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ©ç”¨ä¹‹å‰<a href="https://xxlaila.github.io/2019/10/09/Deployment%E4%BD%BF%E7%94%A8/" target="_blank" rel="noopener">Deployment</a>é‡Œé¢çš„nginxåšæµ‹è¯•ï¼Œæˆ‘ä»¬åªéœ€è¦å§ä¹‹å‰çš„yamlæ–‡ä»¶ç¨ä½œä¿®æ”¹å³å¯</p><h4 id="ä¿®æ”¹nginx-deployment-yaml"><a href="#ä¿®æ”¹nginx-deployment-yaml" class="headerlink" title="ä¿®æ”¹nginx-deployment.yaml"></a>ä¿®æ”¹nginx-deployment.yaml</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; nginx-deployment.yaml &lt;&lt;EOF</span><br><span class="line">apiVersion: apps/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deploy</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: nginx-deploy</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  minReadySeconds: 5</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  strategy:</span><br><span class="line">    <span class="built_in">type</span>: RollingUpdate</span><br><span class="line">    rollingUpdate:</span><br><span class="line">      maxSurge: 1</span><br><span class="line">      maxUnavailable: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx-deploy</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx-deploy</span><br><span class="line">        image: nginx:1.13.3</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            memory: <span class="string">"200Mi"</span></span><br><span class="line">            cpu: <span class="string">"200m"</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="æ–°å»ºç«‹nginx-deploy-hpa-yaml"><a href="#æ–°å»ºç«‹nginx-deploy-hpa-yaml" class="headerlink" title="æ–°å»ºç«‹nginx-deploy-hpa.yaml"></a>æ–°å»ºç«‹nginx-deploy-hpa.yaml</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; nginx-deploy-hpa.yaml &lt;&lt;EOF</span><br><span class="line">apiVersion: autoscaling/v1</span><br><span class="line">kind: HorizontalPodAutoscaler</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deploy</span><br><span class="line">  namespace: default</span><br><span class="line">spec:</span><br><span class="line">  maxReplicas: 5</span><br><span class="line">  minReplicas: 1</span><br><span class="line">  scaleTargetRef:</span><br><span class="line">    apiVersion: extensions/v1beta1</span><br><span class="line">    kind: Deployment</span><br><span class="line">    name: nginx-deploy</span><br><span class="line">  targetCPUUtilizationPercentage: 10</span><br><span class="line">status:</span><br><span class="line">  currentCPUUtilizationPercentage: 8</span><br><span class="line">  currentReplicas: 1</span><br><span class="line">  desiredReplicas: 0</span><br></pre></td></tr></table></figure><ul><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f nginx-deployment.yaml</span><br><span class="line">$ kubectl apply -f kubectl apply -f nginx-deploy-hpa.yaml</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹éªŒè¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get hpa</span><br><span class="line">NAME           REFERENCE                 TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">nginx-deploy   Deployment/nginx-deploy   0%/10%    1         5         2          45s</span><br><span class="line"></span><br><span class="line">$ kubectl get rs</span><br><span class="line">NAME                        DESIRED   CURRENT   READY   AGE</span><br><span class="line">load-generator-7fbcc7489f   1         1         1       8m28s</span><br><span class="line">nginx-deploy-d494b9564      2         2         2       13m</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå‹åŠ›æµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl run -i --tty load-generator --image=busybox /bin/sh</span><br><span class="line">kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed <span class="keyword">in</span> a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.</span><br><span class="line">If you don<span class="string">'t see a command prompt, try pressing enter.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/ # while true; do wget -q -O- http://172.30.224.5:80; done</span></span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ•ˆæœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get hpa</span><br><span class="line">NAME           REFERENCE                 TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">nginx-deploy   Deployment/nginx-deploy   28%/10%   1         5         4          4m48s</span><br><span class="line"></span><br><span class="line">$ kubectl get rs</span><br><span class="line">NAME                        DESIRED   CURRENT   READY   AGE</span><br><span class="line">load-generator-7fbcc7489f   1         1         1       12m</span><br><span class="line">nginx-deploy-d494b9564      5         5         5       18m</span><br><span class="line"></span><br><span class="line">$ kubectl get hpa</span><br><span class="line">NAME           REFERENCE                 TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">nginx-deploy   Deployment/nginx-deploy   16%/10%   1         5         5          5m39s</span><br></pre></td></tr></table></figure></li><li><p>ç»“æŸå‹æµ‹<br>ç­‰å¾…ä¸€ä¼šæŸ¥çœ‹ç»“æœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get hpa</span><br><span class="line">NAME           REFERENCE                 TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">nginx-deploy   Deployment/nginx-deploy   0%/10%    1         5         1          12m</span><br><span class="line"></span><br><span class="line">$ kubectl get rs</span><br><span class="line">NAME                        DESIRED   CURRENT   READY   AGE</span><br><span class="line">load-generator-7fbcc7489f   1         1         1       19m</span><br><span class="line">nginx-deploy-d494b9564      1         1         1       25m</span><br></pre></td></tr></table></figure></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;Pod-è‡ªåŠ¨æ‰©ç¼©å®¹&quot;&gt;&lt;a href=&quot;#Pod-è‡ªåŠ¨æ‰©ç¼©å®¹&quot; class=&quot;headerlink&quot; title=&quot;Pod è‡ªåŠ¨æ‰©ç¼©å®¹&quot;&gt;&lt;/a&gt;Pod è‡ªåŠ¨æ‰©ç¼©å®¹&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Kubernetesæä¾›äº†è¿™æ ·ä¸€ä¸ªèµ„æºå¯¹è±¡: &lt;code&gt;Horizontal Pod Autoscaling&lt;/code&gt; Podæ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ï¼‰ï¼Œç®€ç§°HPAã€‚HAPé€šè¿‡ç›‘æ§åˆ†æRCæˆ–è€…Deploymentæ§åˆ¶çš„æ‰€æœ‰Podçš„è´Ÿè½½å˜åŒ–æƒ…å†µæ¥ç¡®å®šæ˜¯å¦éœ€è¦è°ƒæ•´Podçš„å‰¯æœ¬æ•°é‡ï¼Œè¿™æ˜¯HPAæœ€åŸºæœ¬çš„åŸç†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="hpa" scheme="https://www.xxlaila.cn/tags/hpa/"/>
    
  </entry>
  
  <entry>
    <title>Deploymentä½¿ç”¨</title>
    <link href="https://www.xxlaila.cn/2019/10/09/Deployment%E4%BD%BF%E7%94%A8/"/>
    <id>https://www.xxlaila.cn/2019/10/09/Deploymentä½¿ç”¨/</id>
    <published>2019-10-09T01:59:08.000Z</published>
    <updated>2019-10-09T07:10:56.403Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="Deploymentå’Œrcçš„å¯¹æ¯”"><a href="#Deploymentå’Œrcçš„å¯¹æ¯”" class="headerlink" title="Deploymentå’Œrcçš„å¯¹æ¯”"></a>Deploymentå’Œrcçš„å¯¹æ¯”</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆRCæ˜¯Kubernetesçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå½“æˆ‘ä»¬æŠŠåº”ç”¨éƒ¨ç½²åˆ°é›†ç¾¤ä¹‹åï¼Œéœ€è¦ä¿è¯åº”ç”¨èƒ½å¤ŸæŒç»­ç¨³å®šçš„è¿è¡Œï¼ŒRCå°±æ˜¯è¿™ä¸ªä¿è¯çš„å…³é”®ï¼Œä¸»è¦åŠŸèƒ½å¦‚:</p><ul><li>ç¡®ä¿Podæ•°é‡: å®ƒä¼šç¡®ä¿Kubernetesä¸­æœ‰æŒ‡å®šæ•°é‡çš„Podåœ¨è¿è¡Œï¼Œå¦‚æœå°‘äºæŒ‡å®šæ•°é‡çš„Podï¼ŒRCå°±ä¼šåˆ›å»ºæ–°çš„ï¼Œåä¹‹è¿™ä¼šåˆ é™¤å¤šä½™çš„ï¼Œä¿è¯Podçš„å‰¯æœ¬æ•°é‡ä¸å˜ã€‚</li><li>ç¡®ä¿Podå¥åº·: å½“Podä¸å¥åº·ï¼Œæ¯”å¦‚è¿è¡Œå‡ºé”™äº†ï¼Œæ€»ä¹‹æ— æ³•æä¾›æ­£å¸¸æœåŠ¡æ—¶ï¼ŒRCä¹Ÿä¼šæ€æ­»ä¸å¥åº·çš„Podï¼Œé‡æ–°åˆ›å»ºæ–°çš„ã€‚</li><li>å¼¹æ€§ä¼¸ç¼©: åœ¨ä¸šåŠ¡é«˜å³°æˆ–è€…ä½å³°çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨è¿‡RCæ¥åŠ¨æ€çš„è°ƒæ•´Podæ•°é‡æ¥æä¾›èµ„æºçš„åˆ©ç”¨ç‡ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿæåˆ°è¿‡å¦‚æœä½¿ç”¨HPAè¿™ç§èµ„æºå¯¹è±¡çš„è¯å¯ä»¥åšåˆ°è‡ªåŠ¨ä¼¸ç¼©ã€‚</li><li>æ»šåŠ¨å‡çº§: æ»šåŠ¨å‡çº§æ˜¯ä¸€ç§å¹³æ»‘çš„å‡çº§æ–¹å¼ï¼Œé€šè¿‡é€æ­¥æ›¿æ¢çš„ç­–ç•¥ï¼Œä¿è¯æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§</li></ul><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DeploymentåŒæ ·ä¹Ÿæ˜¯Kubernetesç³»ç»Ÿçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œä¸»è¦èŒè´£å’ŒRCä¸€æ ·çš„éƒ½æ˜¯ä¿è¯Podçš„æ•°é‡å’Œå¥åº·ï¼ŒäºŒè€…å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå‡çº§ç‰ˆçš„RCæ§åˆ¶å™¨ï¼ŒDeploymentå…·å¤‡çš„æ–°ç‰¹æ€§</p><ul><li>RCçš„å…¨éƒ¨åŠŸèƒ½: Deploymentå…·å¤‡ä¸Šé¢æè¿°çš„RCçš„å…¨éƒ¨åŠŸèƒ½</li><li>äº‹ä»¶å’ŒçŠ¶æ€æŸ¥çœ‹: å¯ä»¥æŸ¥çœ‹Deploymentçš„å‡çº§è¯¦ç»†è¿›åº¦å’ŒçŠ¶æ€</li><li>å›æ»š: å½“å‡çº§Podçš„æ—¶å€™å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å›æ»šæ“ä½œå›æ»šåˆ°ä¹‹å‰çš„ä»»ä¸€ç‰ˆæœ¬</li><li>ç‰ˆæœ¬è®°å½•: æ¯ä¸€æ¬¡å¯¹Deploymentçš„æ“ä½œï¼Œéƒ½èƒ½å¤Ÿä¿å­˜ä¸‹æ¥ï¼Œè¿™ä¹Ÿæ˜¯ä¿è¯å¯ä»¥å›æ»šåˆ°ä»»ä¸€ç‰ˆæœ¬çš„åŸºç¡€</li><li>æš‚åœå’Œå¯åŠ¨: å¯¹äºæ¯ä¸€æ¬¡å‡çº§éƒ½èƒ½å¤Ÿéšæ—¶æš‚åœå’Œå¯åŠ¨</li></ul><p><strong>å¯¹æ¯”</strong>: Deploymentä½œä¸ºæ–°ä¸€ä»£çš„RCï¼Œåœ¨åŠŸèƒ½ä¸Šæ›´ä¸ºä¸°å¯Œï¼ŒåŒæ—¶å®˜æ–¹ä¹Ÿæ˜¯æ¨èä½¿ç”¨Deploymentæ¥ç®¡ç†Podï¼Œæ¯”å¦‚ä¸€äº›å®˜æ–¹ç»„ä»¶kube-dnsã€kube-proxyä¹Ÿéƒ½æ˜¯ä½¿ç”¨çš„Deploymentæ¥ç®¡ç†çš„ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨Deploymentæ¥ç®¡ç†Podã€‚</p><h3 id="Deployment-ä»‹ç»"><a href="#Deployment-ä»‹ç»" class="headerlink" title="Deployment ä»‹ç»"></a>Deployment ä»‹ç»</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deploymentæ‹¥æœ‰å¤šä¸ªReplica Setï¼Œè€Œä¸€ä¸ªReplica Setæ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªPodã€‚ä¸€ä¸ªDeploymentæ§åˆ¶å¤šä¸ªrsä¸»è¦æ˜¯ä¸ºäº†æ”¯æŒå›æ»šæœºåˆ¶ï¼Œæ¯å½“Deploymentæ“ä½œæ—¶ï¼ŒKubernetesä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªReplica Setå¹¶ä¿ç•™ï¼Œä»¥åæœ‰éœ€è¦çš„è¯å°±å¯ä»¥å›æ»šè‡³ä¹‹å‰çš„çŠ¶æ€ã€‚</p><p><strong>å®ä¾‹</strong>: åˆ›å»ºä¸€ä¸ªDeploymentï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªReplica Setæ¥å¯åŠ¨3ä¸ªnginx podï¼Œyamlæ–‡ä»¶å¦‚ä¸‹:</p><ul><li><p>nginx-deployment.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; nginx-deployment.yaml &lt;&lt;EOF</span><br><span class="line">apiVersion: apps/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deploy</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: nginx-demo</span><br><span class="line">spec:</span><br><span class="line">  replicas: 3</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx:1.7.9</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create -f nginx-deployment.yaml</span><br><span class="line">deployment.apps/nginx-deploy created</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œä¸€ä¸‹å‘½ä»¤æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„Deployment</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get deployments</span><br><span class="line">NAME           READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx-deploy   0/3     3            0           12s</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†æ¬¡æ‰§è¡Œä¸Šé¢å‘½ä»¤</span></span><br><span class="line">$ kubectl get deployments</span><br><span class="line">NAME           READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx-deploy   1/3     3            1           35s</span><br></pre></td></tr></table></figure></li><li><p>å¯ä»¥çœ‹åˆ°Deploymentå·²ç»åˆ›å»ºäº†1ä¸ªReplica Setäº†ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹rså’Œpod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get rs</span><br><span class="line">NAME                     DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-deploy-6dd86d77d   3         3         2       70s</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">$ kubectl get pod --show-labels</span><br><span class="line">NAME                           READY   STATUS              RESTARTS   AGE   LABELS</span><br><span class="line">nginx-deploy-6dd86d77d-9n9vf   1/1     Running             0          99s   app=nginx,pod-template-hash=6dd86d77d</span><br><span class="line">nginx-deploy-6dd86d77d-bhrsk   0/1     ContainerCreating   0          99s   app=nginx,pod-template-hash=6dd86d77d</span><br><span class="line">nginx-deploy-6dd86d77d-jdnrh   1/1     Running             0          99s   app=nginx,pod-template-hash=6dd86d77d</span><br></pre></td></tr></table></figure></li></ul><p>ä¸Šé¢çš„Deploymentçš„yamlæ–‡ä»¶ä¸­çš„replicas:3å°†ä¼šä¿è¯æˆ‘ä»¬å§‹ç»ˆæœ‰3ä¸ªPODåœ¨è¿è¡Œã€‚</p><h3 id="æ»šåŠ¨å‡çº§"><a href="#æ»šåŠ¨å‡çº§" class="headerlink" title="æ»šåŠ¨å‡çº§"></a>æ»šåŠ¨å‡çº§</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¿®æ”¹ä¹‹å‰ä½¿ç”¨çš„nginx-deployment.yamlæ–‡ä»¶ä¸­çš„nginxé•œåƒä¿®æ”¹ä¸ºnginx:1.13.3ï¼Œç„¶ååœ¨specä¸‹é¢æ·»åŠ æ»šåŠ¨å‡çº§ç­–ç•¥ï¼š</p><ul><li><p>nginx-deploments.yml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deploy</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: nginx-demo</span><br><span class="line">spec:</span><br><span class="line">  replicas: 3</span><br><span class="line">  minReadySeconds: 5</span><br><span class="line">  strategy:</span><br><span class="line">    <span class="built_in">type</span>: RollingUpdate</span><br><span class="line">    rollingUpdate:</span><br><span class="line">      maxSurge: 1</span><br><span class="line">      maxUnavailable: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx:1.13.3</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br></pre></td></tr></table></figure></li><li><p>minReadySeconds:</p><ul><li>æ»šåŠ¨å‡çº§æ—¶5såè®¤ä¸ºè¯¥podå°±ç»ª</li><li>å¦‚æœæ²¡æœ‰è®¾ç½®è¯¥å€¼ï¼ŒKubernetesä¼šå‡è®¾è¯¥å®¹å™¨å¯åŠ¨èµ·æ¥åå°±æä¾›æœåŠ¡äº†</li><li>å¦‚æœæ²¡æœ‰è®¾ç½®è¯¥å€¼ï¼Œåœ¨æŸäº›æç«¯æƒ…å†µä¸‹å¯èƒ½ä¼šé€ æˆæœåŠ¡ä¸æ­£å¸¸è¿è¡Œ</li></ul></li><li><p>rollingUpdate:</p><ul><li>äºreplicasä¸º3,åˆ™æ•´ä¸ªå‡çº§,podä¸ªæ•°åœ¨2-4ä¸ªä¹‹é—´</li></ul></li><li><p>maxSurge:</p><ul><li>å‡çº§è¿‡ç¨‹ä¸­æœ€å¤šå¯ä»¥æ¯”åŸå…ˆè®¾ç½®å¤šå‡ºçš„PODæ•°é‡</li><li>ä¾‹å¦‚ï¼šmaxSurage=1ï¼Œreplicas=3,åˆ™è¡¨ç¤ºKubernetesä¼šå…ˆå¯åŠ¨1ä¸€ä¸ªæ–°çš„Podåæ‰åˆ æ‰ä¸€ä¸ªæ—§çš„PODï¼Œæ•´ä¸ªå‡çº§è¿‡ç¨‹ä¸­æœ€å¤šä¼šæœ‰3+1ä¸ªPODã€‚</li></ul></li><li><p>maxUnavaible:</p><ul><li>å‡çº§è¿‡ç¨‹ä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªPODå¤„äºæ— æ³•æä¾›æœåŠ¡çš„çŠ¶æ€</li><li>å½“maxSurgeä¸ä¸º0æ—¶ï¼Œè¯¥å€¼ä¹Ÿä¸èƒ½ä¸º0</li><li>ä¾‹å¦‚ï¼šmaxUnavaible=1ï¼Œåˆ™è¡¨ç¤ºKubernetesæ•´ä¸ªå‡çº§è¿‡ç¨‹ä¸­æœ€å¤šä¼šæœ‰1ä¸ªPODå¤„äºæ— æ³•æœåŠ¡çš„çŠ¶æ€ã€‚</li></ul></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f nginx-deployment.yaml</span><br><span class="line">deployment.apps/nginx-deploy configured</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹çŠ¶æ€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨rolloutå‘½ä»¤</span></span><br><span class="line">$ kubectl rollout status deployment/nginx-deploy</span><br><span class="line">Waiting <span class="keyword">for</span> deployment <span class="string">"nginx-deploy"</span> rollout to finish: 2 out of 3 new replicas have been updated...</span><br><span class="line"></span><br><span class="line"><span class="comment"># æš‚åœå‡çº§</span></span><br><span class="line">$ kubectl rollout pause deployment deployment/nginx-deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»§ç»­å‡çº§</span></span><br><span class="line">$ kubectl rollout resume deployment deployment/nginx-deploy</span><br></pre></td></tr></table></figure></li></ul><p>å‡çº§ç»“æŸåï¼Œç»§ç»­æŸ¥çœ‹rsçš„çŠ¶æ€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get rs</span><br><span class="line">NAME                      DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-deploy-6dd86d77d    0         0         0       21m</span><br><span class="line">nginx-deploy-799d666985   3         3         3       10m</span><br></pre></td></tr></table></figure><p>æ ¹æ®AGEæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¦»æˆ‘ä»¬æœ€è¿‘çš„å½“å‰çŠ¶æ€æ˜¯ï¼š3ï¼Œå’Œæˆ‘ä»¬çš„yamlæ–‡ä»¶æ˜¯ä¸€è‡´çš„ï¼Œè¯æ˜å‡çº§æˆåŠŸäº†ã€‚ç”¨describeå‘½ä»¤å¯ä»¥æŸ¥çœ‹å‡çº§çš„å…¨éƒ¨ä¿¡æ¯:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe deploy nginx-deploy</span><br><span class="line">Name:                   nginx-deploy</span><br><span class="line">Namespace:              default</span><br><span class="line">CreationTimestamp:      Wed, 09 Oct 2019 10:12:56 +0800</span><br><span class="line">Labels:                 k8s-app=nginx-demo</span><br><span class="line">Annotations:            deployment.kubernetes.io/revision: 2</span><br><span class="line">                        kubectl.kubernetes.io/last-applied-configuration:</span><br><span class="line">                          &#123;<span class="string">"apiVersion"</span>:<span class="string">"apps/v1beta1"</span>,<span class="string">"kind"</span>:<span class="string">"Deployment"</span>,<span class="string">"metadata"</span>:&#123;<span class="string">"annotations"</span>:&#123;&#125;,<span class="string">"labels"</span>:&#123;<span class="string">"k8s-app"</span>:<span class="string">"nginx-demo"</span>&#125;,<span class="string">"name"</span>:<span class="string">"nginx-deploy"</span>,<span class="string">"nam...</span></span><br><span class="line"><span class="string">Selector:               app=nginx</span></span><br><span class="line"><span class="string">Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable</span></span><br><span class="line"><span class="string">StrategyType:           RollingUpdate</span></span><br><span class="line"><span class="string">MinReadySeconds:        5</span></span><br><span class="line"><span class="string">RollingUpdateStrategy:  1 max unavailable, 1 max surge</span></span><br><span class="line"><span class="string">Pod Template:</span></span><br><span class="line"><span class="string">  Labels:  app=nginx</span></span><br><span class="line"><span class="string">  Containers:</span></span><br><span class="line"><span class="string">   nginx:</span></span><br><span class="line"><span class="string">    Image:        nginx:1.13.3</span></span><br><span class="line"><span class="string">    Port:         80/TCP</span></span><br><span class="line"><span class="string">    Host Port:    0/TCP</span></span><br><span class="line"><span class="string">    Environment:  &lt;none&gt;</span></span><br><span class="line"><span class="string">    Mounts:       &lt;none&gt;</span></span><br><span class="line"><span class="string">  Volumes:        &lt;none&gt;</span></span><br><span class="line"><span class="string">Conditions:</span></span><br><span class="line"><span class="string">  Type           Status  Reason</span></span><br><span class="line"><span class="string">  ----           ------  ------</span></span><br><span class="line"><span class="string">  Available      True    MinimumReplicasAvailable</span></span><br><span class="line"><span class="string">  Progressing    True    NewReplicaSetAvailable</span></span><br><span class="line"><span class="string">OldReplicaSets:  &lt;none&gt;</span></span><br><span class="line"><span class="string">NewReplicaSet:   nginx-deploy-799d666985 (3/3 replicas created)</span></span><br><span class="line"><span class="string">Events:</span></span><br><span class="line"><span class="string">  Type    Reason             Age   From                   Message</span></span><br><span class="line"><span class="string">  ----    ------             ----  ----                   -------</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  23m   deployment-controller  Scaled up replica set nginx-deploy-6dd86d77d to 3</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  12m   deployment-controller  Scaled up replica set nginx-deploy-799d666985 to 1</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  12m   deployment-controller  Scaled down replica set nginx-deploy-6dd86d77d to 2</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  12m   deployment-controller  Scaled up replica set nginx-deploy-799d666985 to 2</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  11m   deployment-controller  Scaled down replica set nginx-deploy-6dd86d77d to 1</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  11m   deployment-controller  Scaled up replica set nginx-deploy-799d666985 to 3</span></span><br><span class="line"><span class="string">  Normal  ScalingReplicaSet  10m   deployment-controller  Scaled down replica set nginx-deploy-6dd86d77d to 0</span></span><br></pre></td></tr></table></figure><h3 id="å›æ»šDeployment"><a href="#å›æ»šDeployment" class="headerlink" title="å›æ»šDeployment"></a>å›æ»šDeployment</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰é¢å·²ç»æ»šåŠ¨å¹³æ»‘çš„å‡çº§Deploymentï¼Œä½†æ˜¯å¦‚æœå‡çº§åçš„PODå‡ºäº†é—®é¢˜è¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬èƒ½å¤Ÿæƒ³åˆ°çš„æœ€å¥½æœ€å¿«çš„æ–¹å¼å½“ç„¶æ˜¯å›é€€åˆ°ä¸Šä¸€æ¬¡èƒ½å¤Ÿæä¾›æ­£å¸¸å·¥ä½œçš„ç‰ˆæœ¬ï¼ŒDeploymentå°±ä¸ºæˆ‘ä»¬æä¾›äº†å›æ»šæœºåˆ¶ã€‚</p><ul><li>é¦–å…ˆï¼ŒæŸ¥çœ‹Deploymentçš„å‡çº§å†å²:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl rollout <span class="built_in">history</span> deployment nginx-deploy</span><br><span class="line">deployment.extensions/nginx-deploy </span><br><span class="line">REVISION  CHANGE-CAUSE</span><br><span class="line">1         &lt;none&gt;</span><br><span class="line">2         &lt;none&gt;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹å‡ºåœ¨æ‰§è¡ŒDeploymentå‡çº§çš„æ—¶å€™æœ€å¥½å¸¦ä¸Šrecordå‚æ•°ï¼Œä¾¿äºæˆ‘ä»¬æŸ¥çœ‹å†å²ç‰ˆæœ¬ä¿¡æ¯ã€‚<code>kubectl apply --filename=nginx-deployment.yaml --record=true</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é€šè¿‡kubectl xxxx â€“recordéƒ½ä¼šè¢«kubernetesè®°å½•åˆ°etcdè¿›è¡ŒæŒä¹…åŒ–ï¼Œè¿™æ— ç–‘ä¼šå ç”¨èµ„æºï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œæ—¶é—´ä¹…äº†ï¼Œå½“ä½ kubectl get rsæ—¶ï¼Œä¼šæœ‰æˆç™¾ä¸Šåƒçš„åƒåœ¾RSè¿”å›ï¼Œè¿™å¯¹äºè¿ç»´æ¥è¯´ç»´æŠ¤å¾ˆä¸ä¾¿åˆ©ï¼Œ<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘ä»¬åœ¨ä¸Šç”Ÿäº§æ—¶ï¼Œæˆ‘ä»¬æœ€å¥½é€šè¿‡è®¾ç½®Deploymentçš„.spec.revisionHistoryLimitæ¥é™åˆ¶æœ€å¤§ä¿ç•™çš„revision numberï¼Œæ¯”å¦‚15ä¸ªç‰ˆæœ¬ï¼Œå›æ»šçš„æ—¶å€™ä¸€èˆ¬åªä¼šå›æ»šåˆ°æœ€è¿‘çš„å‡ ä¸ªç‰ˆæœ¬å°±è¶³å¤Ÿäº†ã€‚å…¶å®rollout historyä¸­è®°å½•çš„revisionéƒ½å’ŒReplicaSetsä¸€ä¸€å¯¹åº”ã€‚å¦‚æœæ‰‹åŠ¨deleteæŸä¸ªReplicaSetï¼Œå¯¹åº”çš„rollout historyå°±ä¼šè¢«åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯è¿˜è¯´ä½ æ— æ³•å›æ»šåˆ°è¿™ä¸ªrevisonã€‚rollout historyå’ŒReplicaSetçš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥åœ¨kubectl describe rs $RSNAMEè¿”å›çš„revisionå­—æ®µä¸­å¾—åˆ°ï¼Œè¿™é‡Œçš„revisionå°±å¯¹åº”ç€rollout historyè¿”å›çš„revisonã€‚</p><ul><li><p>yamlä¾‹å­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ cat nginx-deployment.yaml </span><br><span class="line">apiVersion: apps/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deploy</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: nginx-demo</span><br><span class="line">spec:</span><br><span class="line">  replicas: 3</span><br><span class="line">  minReadySeconds: 5</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  strategy:</span><br><span class="line">    <span class="built_in">type</span>: RollingUpdate</span><br><span class="line">    rollingUpdate:</span><br><span class="line">      maxSurge: 1</span><br><span class="line">      maxUnavailable: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx:1.13.3</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br></pre></td></tr></table></figure></li><li><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å•ä¸ªrevisonçš„ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl rollout <span class="built_in">history</span> deployment nginx-deploy --revision=2</span><br><span class="line">deployment.extensions/nginx-deploy with revision <span class="comment">#2</span></span><br><span class="line">Pod Template:</span><br><span class="line">  Labels:app=nginx</span><br><span class="line">pod-template-hash=799d666985</span><br><span class="line">  Annotations:kubernetes.io/change-cause: kubectl apply --filename=nginx-deployment.yaml --record=<span class="literal">true</span></span><br><span class="line">  Containers:</span><br><span class="line">   nginx:</span><br><span class="line">    Image:nginx:1.13.3</span><br><span class="line">    Port:80/TCP</span><br><span class="line">    Host Port:0/TCP</span><br><span class="line">    Environment:&lt;none&gt;</span><br><span class="line">    Mounts:&lt;none&gt;</span><br><span class="line">  Volumes:&lt;none&gt;</span><br></pre></td></tr></table></figure></li><li><p>ç›´æ¥å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„å‰ä¸€ä¸ªç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl rollout undo deployment nginx-deploy</span><br><span class="line">deployment.extensions/nginx-deploy rolled back</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ç”¨revisionå›é€€åˆ°æŒ‡å®šçš„ç‰ˆæœ¬</span></span><br><span class="line">$ kubectl rollout undo deployment nginx-deploy --to-revision=1</span><br><span class="line">deployment.extensions/nginx-deploy rolled back</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹Deploymentç°åœ¨çš„çŠ¶æ€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get deployments</span><br><span class="line">NAME           READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx-deploy   2/3     3            2           56m</span><br><span class="line"></span><br><span class="line">$ kubectl get rs</span><br><span class="line">NAME                      DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-deploy-6dd86d77d    1         1         1       56m</span><br><span class="line">nginx-deploy-799d666985   3         3         1       46m</span><br><span class="line"></span><br><span class="line">$ kubectl rollout status deployment/nginx-deploy</span><br><span class="line">Waiting <span class="keyword">for</span> deployment <span class="string">"nginx-deploy"</span> rollout to finish: 2 of 3 updated replicas are available...</span><br><span class="line">Waiting <span class="keyword">for</span> deployment <span class="string">"nginx-deploy"</span> rollout to finish: 2 of 3 updated replicas are available...</span><br><span class="line">deployment <span class="string">"nginx-deploy"</span> successfully rolled out</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ŒæˆåæŸ¥çœ‹</span></span><br><span class="line">$ kubectl get rs</span><br><span class="line">NAME                      DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-deploy-6dd86d77d    0         0         0       57m</span><br><span class="line">nginx-deploy-799d666985   3         3         3       47m</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener">å®˜æ–¹å‚è€ƒ</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;Deploymentå’Œrcçš„å¯¹æ¯”&quot;&gt;&lt;a href=&quot;#Deploymentå’Œrcçš„å¯¹æ¯”&quot; class=&quot;headerlink&quot; title=&quot;Deploymentå’Œrcçš„å¯¹æ¯”&quot;&gt;&lt;/a&gt;Deploymentå’Œrcçš„å¯¹æ¯”&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é¦–å…ˆRCæ˜¯Kubernetesçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå½“æˆ‘ä»¬æŠŠåº”ç”¨éƒ¨ç½²åˆ°é›†ç¾¤ä¹‹åï¼Œéœ€è¦ä¿è¯åº”ç”¨èƒ½å¤ŸæŒç»­ç¨³å®šçš„è¿è¡Œï¼ŒRCå°±æ˜¯è¿™ä¸ªä¿è¯çš„å…³é”®ï¼Œä¸»è¦åŠŸèƒ½å¦‚:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç¡®ä¿Podæ•°é‡: å®ƒä¼šç¡®ä¿Kubernetesä¸­æœ‰æŒ‡å®šæ•°é‡çš„Podåœ¨è¿è¡Œï¼Œå¦‚æœå°‘äºæŒ‡å®šæ•°é‡çš„Podï¼ŒRCå°±ä¼šåˆ›å»ºæ–°çš„ï¼Œåä¹‹è¿™ä¼šåˆ é™¤å¤šä½™çš„ï¼Œä¿è¯Podçš„å‰¯æœ¬æ•°é‡ä¸å˜ã€‚&lt;/li&gt;&lt;li&gt;ç¡®ä¿Podå¥åº·: å½“Podä¸å¥åº·ï¼Œæ¯”å¦‚è¿è¡Œå‡ºé”™äº†ï¼Œæ€»ä¹‹æ— æ³•æä¾›æ­£å¸¸æœåŠ¡æ—¶ï¼ŒRCä¹Ÿä¼šæ€æ­»ä¸å¥åº·çš„Podï¼Œé‡æ–°åˆ›å»ºæ–°çš„ã€‚&lt;/li&gt;&lt;li&gt;å¼¹æ€§ä¼¸ç¼©: åœ¨ä¸šåŠ¡é«˜å³°æˆ–è€…ä½å³°çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨è¿‡RCæ¥åŠ¨æ€çš„è°ƒæ•´Podæ•°é‡æ¥æä¾›èµ„æºçš„åˆ©ç”¨ç‡ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿæåˆ°è¿‡å¦‚æœä½¿ç”¨HPAè¿™ç§èµ„æºå¯¹è±¡çš„è¯å¯ä»¥åšåˆ°è‡ªåŠ¨ä¼¸ç¼©ã€‚&lt;/li&gt;&lt;li&gt;æ»šåŠ¨å‡çº§: æ»šåŠ¨å‡çº§æ˜¯ä¸€ç§å¹³æ»‘çš„å‡çº§æ–¹å¼ï¼Œé€šè¿‡é€æ­¥æ›¿æ¢çš„ç­–ç•¥ï¼Œä¿è¯æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="Deployment" scheme="https://www.xxlaila.cn/tags/Deployment/"/>
    
  </entry>
  
  <entry>
    <title>harborç§æœ‰ä»“åº“éƒ¨ç½²</title>
    <link href="https://www.xxlaila.cn/2019/09/30/harbor%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E9%83%A8%E7%BD%B2/"/>
    <id>https://www.xxlaila.cn/2019/09/30/harborç§æœ‰ä»“åº“éƒ¨ç½²/</id>
    <published>2019-09-30T06:55:28.000Z</published>
    <updated>2019-10-28T02:35:40.427Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harboræ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨å’Œåˆ†å‘Dockeré•œåƒçš„ä¼ä¸šçº§RegistryæœåŠ¡å™¨ï¼Œé€šè¿‡æ·»åŠ ä¸€äº›ä¼ä¸šå¿…éœ€çš„åŠŸèƒ½ç‰¹æ€§ï¼Œä¾‹å¦‚å®‰å…¨ã€æ ‡è¯†å’Œç®¡ç†ç­‰ï¼Œæ‰©å±•äº†å¼€æºDocker Distributionã€‚ä½œä¸ºä¸€ä¸ªä¼ä¸šçº§ç§æœ‰RegistryæœåŠ¡å™¨ï¼ŒHarboræä¾›äº†æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨ã€‚æå‡ç”¨æˆ·ä½¿ç”¨Registryæ„å»ºå’Œè¿è¡Œç¯å¢ƒä¼ è¾“é•œåƒçš„æ•ˆç‡ã€‚Harboræ”¯æŒå®‰è£…åœ¨å¤šä¸ªRegistryèŠ‚ç‚¹çš„é•œåƒèµ„æºå¤åˆ¶ï¼Œé•œåƒå…¨éƒ¨ä¿å­˜åœ¨ç§æœ‰Registryä¸­ï¼Œ ç¡®ä¿æ•°æ®å’ŒçŸ¥è¯†äº§æƒåœ¨å…¬å¸å†…éƒ¨ç½‘ç»œä¸­ç®¡æ§ã€‚å¦å¤–ï¼ŒHarborä¹Ÿæä¾›äº†é«˜çº§çš„å®‰å…¨ç‰¹æ€§ï¼Œè¯¸å¦‚ç”¨æˆ·ç®¡ç†ï¼Œè®¿é—®æ§åˆ¶å’Œæ´»åŠ¨å®¡è®¡ç­‰ã€‚</p><a id="more"></a><h3 id="éƒ¨ç½²ç¯å¢ƒå‡†å¤‡"><a href="#éƒ¨ç½²ç¯å¢ƒå‡†å¤‡" class="headerlink" title="éƒ¨ç½²ç¯å¢ƒå‡†å¤‡"></a>éƒ¨ç½²ç¯å¢ƒå‡†å¤‡</h3><h4 id="æœåŠ¡å™¨é…ç½®"><a href="#æœåŠ¡å™¨é…ç½®" class="headerlink" title="æœåŠ¡å™¨é…ç½®"></a>æœåŠ¡å™¨é…ç½®</h4><table><thead><tr><th>ç³»ç»Ÿ</th><th>é…ç½®</th><th>ip</th></tr></thead><tbody><tr><td>centos 7.4</td><td>4/8G/200G</td><td>172.21.16.90</td></tr></tbody></table><h4 id="ä¸‹è½½æ‰€éœ€æ–‡ä»¶"><a href="#ä¸‹è½½æ‰€éœ€æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ‰€éœ€æ–‡ä»¶"></a>ä¸‹è½½æ‰€éœ€æ–‡ä»¶</h4><h5 id="docker-compose-ä¸‹è½½"><a href="#docker-compose-ä¸‹è½½" class="headerlink" title="docker-compose ä¸‹è½½"></a>docker-compose ä¸‹è½½</h5><p>docker compose <a href="https://github.com/docker/compose/releases" target="_blank" rel="noopener">å‘å¸ƒé¡µé¢</a>ä¸‹è½½æœ€æ–°çš„ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://github.com/docker/compose/releases/download/1.24.1/docker-compose-Linux-x86_64</span></span><br><span class="line"><span class="comment"># mv ~/docker-compose-Linux-x86_64 /usr/bin/docker-compose </span></span><br><span class="line"><span class="comment"># chmod a+x  /ur/bin/docker-compose</span></span><br></pre></td></tr></table></figure><ul><li>å®˜æ–¹çš„å®‰è£…<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span></span><br><span class="line"><span class="comment"># chmod +x /usr/local/bin/docker-compose</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="harbor-ä¸‹è½½"><a href="#harbor-ä¸‹è½½" class="headerlink" title="harbor ä¸‹è½½"></a>harbor ä¸‹è½½</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;harbor å®‰è£…æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨çº¿å®‰è£…ï¼Œä¸€ç§æ˜¯ç¦»çº¿å®‰è£…ï¼Œè¿™é‡Œç”±äºç½‘ç»œä¸å¥½ï¼Œä½¿ç”¨çš„æ˜¯ç¦»çº¿å®‰è£…ï¼Œharbor<a href="https://github.com/goharbor/harbor/releases" target="_blank" rel="noopener">å‘å¸ƒé¡µé¢</a>ä¸‹è½½æœ€æ–°çš„ harbor ç¦»çº¿å®‰è£…åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://storage.googleapis.com/harbor-releases/release-1.9.0/harbor-offline-installer-v1.9.0.tgz</span></span><br><span class="line"><span class="comment"># tar -zxvf harbor-offline-installer-v1.9.0.tgz</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure><h3 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h3><h4 id="docker-å®‰è£…"><a href="#docker-å®‰è£…" class="headerlink" title="docker å®‰è£…"></a>docker å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum-config-manager   --add-repo   https://download.docker.com/linux/centos/docker-ce.repo</span></span><br><span class="line"><span class="comment"># sudo yum -y install docker-ce-18.09.6-3.el7.x86_64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cat /etc/sysctl.d/k8s.conf &lt;&lt;EOF</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables: 1</span><br><span class="line">net.bridge.bridge-nf-call-iptables: 1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># sysctl -p /etc/sysctl.d/k8s.conf</span></span><br><span class="line"><span class="comment"># systemctl  start docker</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>: ä¸æ·»åŠ <code>/etc/sysctl.d/k8s.conf</code> å¯åŠ¨dockerä¼šæç¤º<code>WARNING: bridge-nf-call-iptables is disabled WARNING: bridge-nf-call-ip6tables is disabled</code></p><h4 id="å¯¼å…¥-docker-images"><a href="#å¯¼å…¥-docker-images" class="headerlink" title="å¯¼å…¥ docker images"></a>å¯¼å…¥ docker images</h4><p>å¯¼å…¥ç¦»çº¿å®‰è£…åŒ…ä¸­harborç›¸å…³çš„ docker imagesï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd harbor</span></span><br><span class="line"><span class="comment"># docker load -i harbor.v1.9.0.tar.gz </span></span><br><span class="line"><span class="comment"># docker images</span></span><br><span class="line">REPOSITORY                      TAG                        IMAGE ID            CREATED             SIZE</span><br><span class="line">goharbor/chartmuseum-photon     v0.9.0-v1.9.0              00c12627cbd7        2 weeks ago         131MB</span><br><span class="line">goharbor/harbor-migrator        v1.9.0                     75d4de5e0f16        2 weeks ago         362MB</span><br><span class="line">goharbor/redis-photon           v1.9.0                     3249afaa9965        2 weeks ago         109MB</span><br><span class="line">goharbor/clair-photon           v2.0.9-v1.9.0              e54ad567c58f        2 weeks ago         165MB</span><br><span class="line">goharbor/notary-server-photon   v0.6.1-v1.9.0              2cdecba59f38        2 weeks ago         138MB</span><br><span class="line">goharbor/notary-signer-photon   v0.6.1-v1.9.0              973378593def        2 weeks ago         135MB</span><br><span class="line">goharbor/harbor-registryctl     v1.9.0                     30a01bf0f4df        2 weeks ago         99.6MB</span><br><span class="line">goharbor/registry-photon        v2.7.1-patch-2819-v1.9.0   32571099a9fe        2 weeks ago         82.3MB</span><br><span class="line">goharbor/nginx-photon           v1.9.0                     f933d62f9952        2 weeks ago         43.9MB</span><br><span class="line">goharbor/harbor-log             v1.9.0                     28e27d511335        2 weeks ago         82.6MB</span><br><span class="line">goharbor/harbor-jobservice      v1.9.0                     f3cd0b181a89        2 weeks ago         141MB</span><br><span class="line">goharbor/harbor-core            v1.9.0                     f2814ed8aadd        2 weeks ago         155MB</span><br><span class="line">goharbor/harbor-portal          v1.9.0                     0778d4c5d27e        2 weeks ago         51.3MB</span><br><span class="line">goharbor/harbor-db              v1.9.0                     a809e14d2d49        2 weeks ago         147MB</span><br><span class="line">goharbor/prepare                v1.9.0                     aa594772c1e8        2 weeks ago         147MB</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹-harbor-yml-æ–‡ä»¶"><a href="#ä¿®æ”¹-harbor-yml-æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ harbor.yml æ–‡ä»¶"></a>ä¿®æ”¹ harbor.yml æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim harbor.yml</span></span><br><span class="line">hostname: reg.xxlaila.cn</span><br><span class="line"></span><br><span class="line"><span class="comment"># email configure</span></span><br><span class="line">email_server: smtp.exmail.qq.com</span><br><span class="line">email_server_port: 465</span><br><span class="line">email_username: admin@xxlaila.cn</span><br><span class="line">email_password: 123</span><br><span class="line">email_from: admin&lt;admin@xxlaila.cn&gt;</span><br><span class="line">email_ssl: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User registration is prohibited</span></span><br><span class="line">self_registration: off</span><br><span class="line"></span><br><span class="line"><span class="comment"># LDAP authentication configuration item</span></span><br><span class="line"><span class="comment">#ldap_url: ldaps://ldap.xxlaila.cn</span></span><br><span class="line"><span class="comment">#ldap_searchdn: uid=username,ou=people,dc=xxlaila,dc=com</span></span><br><span class="line"><span class="comment">#ldap_search_pwd: password</span></span><br><span class="line"><span class="comment">#ldap_basedn: ou=people,dc=xxlaila,dc=com</span></span><br><span class="line"><span class="comment">#ldap_filter: (objectClass=person)</span></span><br><span class="line"><span class="comment">#ldap_uid: uid </span></span><br><span class="line"><span class="comment">#ldap_scope: 3 </span></span><br><span class="line"><span class="comment">#ldap_timeout: 5</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨</strong>: æ–°ç‰ˆæœ¬çš„é‚®ç®±ã€ldapç°åœ¨éƒ½ä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶é‡Œé¢æ¥æ·»åŠ é…ç½®äº†ï¼Œç›´æ¥é€šè¿‡webç•Œé¢æ¥è¿›è¡Œé…ç½®å³å¯ï¼Œè¿™é‡Œæˆ‘åªæ˜¯æ·»åŠ è¿›æ¥ï¼Œä¿ç•™ï¼ŒğŸ˜ğŸ˜ğŸ˜</p><h4 id="åŠ è½½å’Œå¯åŠ¨-harbor-é•œåƒ"><a href="#åŠ è½½å’Œå¯åŠ¨-harbor-é•œåƒ" class="headerlink" title="åŠ è½½å’Œå¯åŠ¨ harbor é•œåƒ"></a>åŠ è½½å’Œå¯åŠ¨ harbor é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir /data</span></span><br><span class="line"><span class="comment"># chmod 777 /var/run/docker.sock /data</span></span><br><span class="line"><span class="comment"># ./install.sh </span></span><br><span class="line"></span><br><span class="line">[Step 0]: checking installation environment ...</span><br><span class="line"></span><br><span class="line">Note: docker version: 19.03.2</span><br><span class="line"></span><br><span class="line">Note: docker-compose version: 1.24.1</span><br><span class="line"></span><br><span class="line">[Step 1]: loading Harbor images ...</span><br><span class="line">Loaded image: goharbor/harbor-portal:v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-core:v1.9.0</span><br><span class="line">Loaded image: goharbor/nginx-photon:v1.9.0</span><br><span class="line">Loaded image: goharbor/notary-signer-photon:v0.6.1-v1.9.0</span><br><span class="line">Loaded image: goharbor/registry-photon:v2.7.1-patch-2819-v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-migrator:v1.9.0</span><br><span class="line">Loaded image: goharbor/chartmuseum-photon:v0.9.0-v1.9.0</span><br><span class="line">Loaded image: goharbor/prepare:v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-log:v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-db:v1.9.0</span><br><span class="line">Loaded image: goharbor/clair-photon:v2.0.9-v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-jobservice:v1.9.0</span><br><span class="line">Loaded image: goharbor/harbor-registryctl:v1.9.0</span><br><span class="line">Loaded image: goharbor/redis-photon:v1.9.0</span><br><span class="line">Loaded image: goharbor/notary-server-photon:v0.6.1-v1.9.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Step 2]: preparing environment ...</span><br><span class="line">prepare base dir is <span class="built_in">set</span> to /opt/harbor</span><br><span class="line">Clearing the configuration file: /config/<span class="built_in">log</span>/logrotate.conf</span><br><span class="line">Clearing the configuration file: /config/<span class="built_in">log</span>/rsyslog_docker.conf</span><br><span class="line">Generated configuration file: /config/<span class="built_in">log</span>/logrotate.conf</span><br><span class="line">Generated configuration file: /config/<span class="built_in">log</span>/rsyslog_docker.conf</span><br><span class="line">Generated configuration file: /config/nginx/nginx.conf</span><br><span class="line">Generated configuration file: /config/core/env</span><br><span class="line">Generated configuration file: /config/core/app.conf</span><br><span class="line">Generated configuration file: /config/registry/config.yml</span><br><span class="line">Generated configuration file: /config/registryctl/env</span><br><span class="line">Generated configuration file: /config/db/env</span><br><span class="line">Generated configuration file: /config/jobservice/env</span><br><span class="line">Generated configuration file: /config/jobservice/config.yml</span><br><span class="line">Generated and saved secret to file: /secret/keys/secretkey</span><br><span class="line">Generated certificate, key file: /secret/core/private_key.pem, cert file: /secret/registry/root.crt</span><br><span class="line">Generated configuration file: /compose_location/docker-compose.yml</span><br><span class="line">Clean up the input dir</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Step 3]: starting Harbor ...</span><br><span class="line">Creating network <span class="string">"harbor_harbor"</span> with the default driver</span><br><span class="line">Creating harbor-log ... <span class="keyword">done</span></span><br><span class="line">Creating registryctl   ... <span class="keyword">done</span></span><br><span class="line">Creating redis         ... <span class="keyword">done</span></span><br><span class="line">Creating harbor-portal ... <span class="keyword">done</span></span><br><span class="line">Creating harbor-db     ... <span class="keyword">done</span></span><br><span class="line">Creating registry      ... <span class="keyword">done</span></span><br><span class="line">Creating harbor-core   ... <span class="keyword">done</span></span><br><span class="line">Creating nginx             ... <span class="keyword">done</span></span><br><span class="line">Creating harbor-jobservice ... <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">âœ” ----Harbor has been installed and started successfully.----</span><br><span class="line"></span><br><span class="line">Now you should be able to visit the admin portal at http://reg.xxlaila.cn. </span><br><span class="line">For more details, please visit https://github.com/goharbor/harbor .</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®ç®¡ç†ç•Œé¢"><a href="#è®¿é—®ç®¡ç†ç•Œé¢" class="headerlink" title="è®¿é—®ç®¡ç†ç•Œé¢"></a>è®¿é—®ç®¡ç†ç•Œé¢</h4><p>ç¡®è®¤æ‰€æœ‰ç»„ä»¶éƒ½å·¥ä½œæ­£å¸¸ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose  ps</span></span><br><span class="line">      Name                     Command                       State                     Ports          </span><br><span class="line">------------------------------------------------------------------------------------------------------</span><br><span class="line">harbor-core         /harbor/harbor_core              Up (healthy)                                     </span><br><span class="line">harbor-db           /docker-entrypoint.sh            Up (healthy)            5432/tcp                 </span><br><span class="line">harbor-jobservice   /harbor/harbor_jobservice  ...   Up (health: starting)                            </span><br><span class="line">harbor-log          /bin/sh -c /usr/<span class="built_in">local</span>/bin/ ...   Up (healthy)            127.0.0.1:1514-&gt;10514/tcp</span><br><span class="line">harbor-portal       nginx -g daemon off;             Up (healthy)            8080/tcp                 </span><br><span class="line">nginx               nginx -g daemon off;             Up (healthy)            0.0.0.0:80-&gt;8080/tcp     </span><br><span class="line">redis               redis-server /etc/redis.conf     Up (healthy)            6379/tcp                 </span><br><span class="line">registry            /entrypoint.sh /etc/regist ...   Up (healthy)            5000/tcp                 </span><br><span class="line">registryctl         /harbor/start.sh                 Up (healthy)</span><br></pre></td></tr></table></figure><h5 id="harbor-ç»„å»ºä»‹ç»"><a href="#harbor-ç»„å»ºä»‹ç»" class="headerlink" title="harbor ç»„å»ºä»‹ç»"></a>harbor ç»„å»ºä»‹ç»</h5><ul><li>harbor-core: Harborçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸»è¦æä¾›ä»¥ä¸‹æœåŠ¡ï¼š<ul><li>UIï¼šæä¾›å›¾å½¢åŒ–ç•Œé¢ï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†registryä¸Šçš„é•œåƒï¼ˆimageï¼‰, å¹¶å¯¹ç”¨æˆ·è¿›è¡Œæˆæƒã€‚</li><li>webhookï¼šä¸ºäº†åŠæ—¶è·å–registry ä¸ŠimageçŠ¶æ€å˜åŒ–çš„æƒ…å†µï¼Œ åœ¨Registryä¸Šé…ç½®webhookï¼ŒæŠŠçŠ¶æ€å˜åŒ–ä¼ é€’ç»™UIæ¨¡å—ã€‚</li><li>token æœåŠ¡ï¼šè´Ÿè´£æ ¹æ®ç”¨æˆ·æƒé™ç»™æ¯ä¸ªdocker push/pullå‘½ä»¤ç­¾å‘token. Docker å®¢æˆ·ç«¯å‘RegiÃ¸stryæœåŠ¡å‘èµ·çš„è¯·æ±‚,å¦‚æœä¸åŒ…å«tokenï¼Œä¼šè¢«é‡å®šå‘åˆ°è¿™é‡Œï¼Œè·å¾—tokenåå†é‡æ–°å‘Registryè¿›è¡Œè¯·æ±‚ã€‚</li></ul></li><li>harbor-db: ä¸ºcore servicesæä¾›æ•°æ®åº“æœåŠ¡ï¼Œè´Ÿè´£å‚¨å­˜ç”¨æˆ·æƒé™ã€å®¡è®¡æ—¥å¿—ã€Docker imageåˆ†ç»„ä¿¡æ¯ç­‰æ•°æ®ã€‚</li><li>harbor-jobservice: harbor-jobservice æ˜¯harborçš„jobç®¡ç†æ¨¡å—ï¼Œjobåœ¨harboré‡Œé¢ä¸»è¦æ˜¯ä¸ºäº†é•œåƒä»“åº“ä¹‹å‰åŒæ­¥ä½¿ç”¨çš„;</li><li>harbor-log: ä¸ºäº†å¸®åŠ©ç›‘æ§Harborè¿è¡Œï¼Œè´Ÿè´£æ”¶é›†å…¶ä»–ç»„ä»¶çš„logï¼Œä¾›æ—¥åè¿›è¡Œåˆ†æã€‚</li><li>nginx: nginxè´Ÿè´£æµé‡è½¬å‘å’Œå®‰å…¨éªŒè¯ï¼Œå¯¹å¤–æä¾›çš„æµé‡éƒ½æ˜¯ä»nginxä¸­è½¬ï¼Œæ‰€ä»¥å¼€æ”¾httpsçš„443ç«¯å£ï¼Œå®ƒå°†æµé‡åˆ†å‘åˆ°åç«¯çš„uiå’Œæ­£åœ¨dockeré•œåƒå­˜å‚¨çš„docker registryã€‚</li><li>redis: å­˜å‚¨ç¼“å­˜ä¿¡æ¯</li><li>registry: è´Ÿè´£å‚¨å­˜Dockeré•œåƒï¼Œå¹¶å¤„ç†docker push/pull å‘½ä»¤ã€‚ç”±äºæˆ‘ä»¬è¦å¯¹ç”¨æˆ·è¿›è¡Œè®¿é—®æ§åˆ¶ï¼Œå³ä¸åŒç”¨æˆ·å¯¹Docker imageæœ‰ä¸åŒçš„è¯»å†™æƒé™ï¼ŒRegistryä¼šæŒ‡å‘ä¸€ä¸ªtokenæœåŠ¡ï¼Œå¼ºåˆ¶ç”¨æˆ·çš„æ¯æ¬¡docker pull/pushè¯·æ±‚éƒ½è¦æºå¸¦ä¸€ä¸ªåˆæ³•çš„token, Registryä¼šé€šè¿‡å…¬é’¥å¯¹token è¿›è¡Œè§£å¯†éªŒè¯ã€‚</li><li>registryctl: æ˜¯harborçš„ç®¡ç†å‘˜é…ç½®harborçš„ä¸€äº›å¸¸ç”¨é…ç½®å’Œé«˜çº§é…ç½®</li></ul><p>åœ¨æµè§ˆå™¨è®¿é—®<a href="http://reg.xxlaila.cnï¼Œ" target="_blank" rel="noopener">http://reg.xxlaila.cnï¼Œ</a> ç”¨è´¦å· admin å’Œ harbor.yml é…ç½®æ–‡ä»¶ä¸­çš„é»˜è®¤å¯†ç  Harbor12345 ç™»é™†ç³»ç»Ÿ<br><img src="https://img.xxlaila.cn/8095d05-b9b7-4bdc-b0fc-7810db649e23.png" alt="img"><br><img src="https://img.xxlaila.cn/4bfab8be-e5de-4165-9268-fa591c5f12f8.png" alt="img"></p><h4 id="harbor-è¿è¡Œæ—¶äº§ç”Ÿçš„æ–‡ä»¶ã€ç›®å½•"><a href="#harbor-è¿è¡Œæ—¶äº§ç”Ÿçš„æ–‡ä»¶ã€ç›®å½•" class="headerlink" title="harbor è¿è¡Œæ—¶äº§ç”Ÿçš„æ–‡ä»¶ã€ç›®å½•"></a>harbor è¿è¡Œæ—¶äº§ç”Ÿçš„æ–‡ä»¶ã€ç›®å½•</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;harbor å°†æ—¥å¿—æ‰“å°åˆ° /var/log/harbor çš„ç›¸å…³ç›®å½•ä¸‹ï¼Œä¼ ç»Ÿçš„docker logs XXX æˆ– docker-compose logs XXX çœ‹ä¸åˆ°å®¹å™¨çš„æ—¥å¿—ã€‚åªæœ‰ä½¿ç”¨å¸¸ç”¨ç³»ç»Ÿå‘½ä»¤æ¥è¿›è¡Œæ—¥å¿—çš„æŸ¥çœ‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # æ—¥å¿—ç›®å½•</span></span><br><span class="line"><span class="comment"># ls /var/log/harbor</span></span><br><span class="line">core.log  jobservice.log  portal.log  postgresql.log  proxy.log  redis.log  registryctl.log  registry.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># # æ•°æ®ç›®å½•ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€é•œåƒä»“åº“</span></span><br><span class="line"><span class="comment"># ls /data/</span></span><br><span class="line">ca_download  database  job_logs  psc  redis  registry  secret</span><br></pre></td></tr></table></figure><h4 id="å…¶å®ƒæ“ä½œ"><a href="#å…¶å®ƒæ“ä½œ" class="headerlink" title="å…¶å®ƒæ“ä½œ"></a>å…¶å®ƒæ“ä½œ</h4><p>ä¸‹åˆ—æ“ä½œçš„å·¥ä½œç›®å½•å‡ä¸ºè§£å‹ç¦»çº¿å®‰è£…æ–‡ä»¶åç”Ÿæˆçš„ harbor ç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # åœæ­¢ harbor</span></span><br><span class="line"><span class="comment"># docker-compose down -v</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # å¯åŠ¨ harbor</span></span><br><span class="line"><span class="comment"># docker-compose up -d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # æ›´ä¿®æ”¹çš„é…ç½®æ›´æ–°åˆ° docker-compose.yml æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># ./prepare</span></span><br><span class="line">prepare base dir is <span class="built_in">set</span> to /opt/harbor</span><br><span class="line">Clearing the configuration file: /config/<span class="built_in">log</span>/logrotate.conf</span><br><span class="line">Clearing the configuration file: /config/<span class="built_in">log</span>/rsyslog_docker.conf</span><br><span class="line">Clearing the configuration file: /config/nginx/nginx.conf</span><br><span class="line">Clearing the configuration file: /config/core/env</span><br><span class="line">Clearing the configuration file: /config/core/app.conf</span><br><span class="line">Clearing the configuration file: /config/registry/config.yml</span><br><span class="line">Clearing the configuration file: /config/registry/root.crt</span><br><span class="line">Clearing the configuration file: /config/registryctl/env</span><br><span class="line">Clearing the configuration file: /config/registryctl/config.yml</span><br><span class="line">Clearing the configuration file: /config/db/env</span><br><span class="line">Clearing the configuration file: /config/jobservice/env</span><br><span class="line">Clearing the configuration file: /config/jobservice/config.yml</span><br><span class="line">Generated configuration file: /config/<span class="built_in">log</span>/logrotate.conf</span><br><span class="line">Generated configuration file: /config/<span class="built_in">log</span>/rsyslog_docker.conf</span><br><span class="line">Generated configuration file: /config/nginx/nginx.conf</span><br><span class="line">Generated configuration file: /config/core/env</span><br><span class="line">Generated configuration file: /config/core/app.conf</span><br><span class="line">Generated configuration file: /config/registry/config.yml</span><br><span class="line">Generated configuration file: /config/registryctl/env</span><br><span class="line">Generated configuration file: /config/db/env</span><br><span class="line">Generated configuration file: /config/jobservice/env</span><br><span class="line">Generated configuration file: /config/jobservice/config.yml</span><br><span class="line">loaded secret from file: /secret/keys/secretkey</span><br><span class="line">Generated configuration file: /compose_location/docker-compose.yml</span><br><span class="line">Clean up the input dir</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Harboræ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨å’Œåˆ†å‘Dockeré•œåƒçš„ä¼ä¸šçº§RegistryæœåŠ¡å™¨ï¼Œé€šè¿‡æ·»åŠ ä¸€äº›ä¼ä¸šå¿…éœ€çš„åŠŸèƒ½ç‰¹æ€§ï¼Œä¾‹å¦‚å®‰å…¨ã€æ ‡è¯†å’Œç®¡ç†ç­‰ï¼Œæ‰©å±•äº†å¼€æºDocker Distributionã€‚ä½œä¸ºä¸€ä¸ªä¼ä¸šçº§ç§æœ‰RegistryæœåŠ¡å™¨ï¼ŒHarboræä¾›äº†æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨ã€‚æå‡ç”¨æˆ·ä½¿ç”¨Registryæ„å»ºå’Œè¿è¡Œç¯å¢ƒä¼ è¾“é•œåƒçš„æ•ˆç‡ã€‚Harboræ”¯æŒå®‰è£…åœ¨å¤šä¸ªRegistryèŠ‚ç‚¹çš„é•œåƒèµ„æºå¤åˆ¶ï¼Œé•œåƒå…¨éƒ¨ä¿å­˜åœ¨ç§æœ‰Registryä¸­ï¼Œ ç¡®ä¿æ•°æ®å’ŒçŸ¥è¯†äº§æƒåœ¨å…¬å¸å†…éƒ¨ç½‘ç»œä¸­ç®¡æ§ã€‚å¦å¤–ï¼ŒHarborä¹Ÿæä¾›äº†é«˜çº§çš„å®‰å…¨ç‰¹æ€§ï¼Œè¯¸å¦‚ç”¨æˆ·ç®¡ç†ï¼Œè®¿é—®æ§åˆ¶å’Œæ´»åŠ¨å®¡è®¡ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="harbor" scheme="https://www.xxlaila.cn/tags/harbor/"/>
    
  </entry>
  
  <entry>
    <title>k8s podå¥åº·æ£€æµ‹</title>
    <link href="https://www.xxlaila.cn/2019/09/27/k8s-pod%E5%81%A5%E5%BA%B7%E6%A3%80%E6%B5%8B/"/>
    <id>https://www.xxlaila.cn/2019/09/27/k8s-podå¥åº·æ£€æµ‹/</id>
    <published>2019-09-27T05:37:53.000Z</published>
    <updated>2019-10-28T02:35:40.698Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="Podå¥åº·æ£€æµ‹æœºåˆ¶"><a href="#Podå¥åº·æ£€æµ‹æœºåˆ¶" class="headerlink" title="Podå¥åº·æ£€æµ‹æœºåˆ¶"></a>Podå¥åº·æ£€æµ‹æœºåˆ¶</h3><p>å¯¹äºPodçš„å¥åº·çŠ¶æ€æ£€æµ‹ï¼Œkubernetesæä¾›äº†ä¸¤ç±»æ¢é’ˆ(Probe)æ¥æ‰§è¡Œå¯¹Podçš„å¥åº·çŠ¶æ€æ£€æµ‹:</p><ul><li><strong>LivenessProbeæ¢é’ˆ</strong>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨äºåˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼Œå³Podæ˜¯å¦ä¸ºrunningçŠ¶æ€ï¼Œå¦‚æœLivenessProbeæ¢é’ˆæ¢æµ‹åˆ°å®¹å™¨ä¸å¥åº·ï¼Œåˆ™kubeletå°†killæ‰å®¹å™¨ï¼Œå¹¶æ ¹æ®å®¹å™¨çš„é‡å¯ç­–ç•¥æ˜¯å¦é‡å¯ï¼Œå¦‚æœä¸€ä¸ªå®¹å™¨ä¸åŒ…å«LivenessProbeæ¢é’ˆï¼Œåˆ™Kubeletè®¤ä¸ºå®¹å™¨çš„LivenessProbeæ¢é’ˆçš„è¿”å›å€¼æ°¸è¿œæˆåŠŸ.</li></ul><a id="more"></a><ul><li><strong>ReadinessProbeæ¢é’ˆ</strong>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨äºåˆ¤æ–­å®¹å™¨æ˜¯å¦å¯åŠ¨å®Œæˆï¼Œå³å®¹å™¨çš„Readyæ˜¯å¦ä¸ºTrueï¼Œå¯ä»¥æ¥æ”¶è¯·æ±‚ï¼Œå¦‚æœReadinessProbeæ¢æµ‹å¤±è´¥ï¼Œåˆ™å®¹å™¨çš„Readyå°†ä¸ºFalseï¼Œæ§åˆ¶å™¨å°†æ­¤Podçš„Endpointä»å¯¹åº”çš„serviceçš„Endpointåˆ—è¡¨ä¸­ç§»é™¤ï¼Œä»æ­¤ä¸å†å°†ä»»ä½•è¯·æ±‚è°ƒåº¦æ­¤Podä¸Šï¼Œç›´åˆ°ä¸‹æ¬¡æ¢æµ‹æˆåŠŸã€‚</li></ul><!--more--><p>æ¯ç±»æ¢é’ˆéƒ½æ”¯æŒä¸‰ç§æ¢æµ‹æ–¹æ³•:</p><ul><li><strong>exec</strong>: é€šè¿‡æ‰§è¡Œå‘½ä»¤æ¥æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œé’ˆå¯¹å¤æ‚æ£€æµ‹æˆ–æ— HTTPæ¥å£çš„æœåŠ¡ï¼Œå‘½ä»¤è¿”å›å€¼ä¸º0åˆ™è¡¨ç¤ºå®¹å™¨å¥åº·ã€‚</li><li><strong>httpGet</strong>: é€šè¿‡å‘é€httpè¯·æ±‚æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œè¿”å›200-399çŠ¶æ€ç åˆ™è¡¨æ˜å®¹å™¨å¥åº·ã€‚</li><li><strong>tcpSocket</strong>: é€šè¿‡å®¹å™¨çš„IPå’ŒPortæ‰§è¡ŒTCPæ£€æŸ¥ï¼Œå¦‚æœèƒ½å¤Ÿå»ºç«‹TCPè¿æ¥ï¼Œåˆ™è¡¨æ˜å®¹å™¨å¥åº·ã€‚</li></ul><p>æ¢é’ˆæ¢æµ‹çš„ç»“æœæœ‰ä»¥ä¸‹ä¸‰è€…ä¹‹ä¸€:</p><ul><li><strong>Success</strong>: Containeré€šè¿‡äº†æ£€æŸ¥</li><li><strong>Failure</strong>: Containeræœªé€šè¿‡æ£€æŸ¥</li><li><strong>Unknown</strong>: æœªèƒ½æ‰§è¡Œæ£€æŸ¥ï¼Œå› æ­¤ä¸é‡‡å–ä»»ä½•æªæ–½</li></ul><h3 id="LivenessProbeæ¢é’ˆé…ç½®"><a href="#LivenessProbeæ¢é’ˆé…ç½®" class="headerlink" title="LivenessProbeæ¢é’ˆé…ç½®"></a>LivenessProbeæ¢é’ˆé…ç½®</h3><h4 id="ä¾‹ä¸€ï¼šé€šè¿‡execæ–¹å¼åšå¥åº·æ¢æµ‹"><a href="#ä¾‹ä¸€ï¼šé€šè¿‡execæ–¹å¼åšå¥åº·æ¢æµ‹" class="headerlink" title="ä¾‹ä¸€ï¼šé€šè¿‡execæ–¹å¼åšå¥åº·æ¢æµ‹"></a>ä¾‹ä¸€ï¼šé€šè¿‡execæ–¹å¼åšå¥åº·æ¢æµ‹</h4><ul><li>exec-liveness.yaml<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; <span class="built_in">exec</span>-liveness.yaml &lt;&lt;EOF</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    <span class="built_in">test</span>: liveness</span><br><span class="line">  name: liveness-exec</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - name: liveness</span><br><span class="line">    image: busybox</span><br><span class="line">    args:</span><br><span class="line">    - /bin/sh</span><br><span class="line">    - -c</span><br><span class="line">    - touch /tmp/healthy; sleep 30; rm -rf /tmp/healthy; sleep 600</span><br><span class="line">    livenessProbe:</span><br><span class="line">      <span class="built_in">exec</span>:</span><br><span class="line">        <span class="built_in">command</span>:</span><br><span class="line">        - cat</span><br><span class="line">        - /tmp/healthy</span><br><span class="line">      initialDelaySeconds: 5</span><br><span class="line">      periodSeconds: 5</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯¹å®¹å™¨æ‰§è¡ŒlivenessProbeæ£€æŸ¥ï¼ŒperiodSecondså­—æ®µæŒ‡å®škubeletæ¯5sæ‰§è¡Œä¸€æ¬¡æ£€æŸ¥ï¼Œæ£€æŸ¥çš„å‘½ä»¤ä¸ºcat /tmp/healthyï¼ŒinitialDelaySecondså­—æ®µå‘Šè¯‰kubeletåº”è¯¥åœ¨æ‰§è¡Œç¬¬ä¸€æ¬¡æ£€æŸ¥ä¹‹å‰ç­‰å¾…5ç§’ï¼Œå¦‚æœå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œåˆ™è¿”å›0ï¼Œé‚£ä¹ˆkubeletå°±è®¤ä¸ºå®¹å™¨æ˜¯å¥åº·çš„ï¼Œå¦‚æœä¸ºé0ï¼Œåˆ™Kubeletä¼šKillæ‰å®¹å™¨å¹¶æ ¹æ®é‡å¯ç­–ç•¥æ¥å†³å®šæ˜¯å¦éœ€è¦é‡å¯ã€‚</p><ul><li>å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh -c <span class="string">"touch /tmp/healthy; sleep 30; rm -rf /tmp/healthy; sleep 600"</span></span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äºå®¹å™¨çš„å‰30ç§’ï¼Œæœ‰ä¸€ä¸ª/tmp/healthyæ–‡ä»¶ã€‚å› æ­¤ï¼Œåœ¨å‰30ç§’å†…ï¼Œè¯¥å‘½ä»¤cat /tmp/healthyè¿”å›æˆåŠŸä»£ç ã€‚30ç§’åï¼Œcat /tmp/healthyè¿”å›å¤±è´¥ä»£ç ã€‚</p><ul><li><p>åˆ›å»ºPod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$  kubectl create -f  <span class="built_in">exec</span>-liveness.yaml </span><br><span class="line">pod/liveness-exec created</span><br></pre></td></tr></table></figure></li><li><p>åœ¨30ç§’å†…ï¼ŒæŸ¥çœ‹Podäº‹ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe pod liveness-exec</span><br><span class="line">â€¦â€¦â€¦â€¦</span><br><span class="line">QoS Class:       BestEffort</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age   From                   Message</span><br><span class="line">  ----    ------     ----  ----                   -------</span><br><span class="line">  Normal  Scheduled  23s   default-scheduler      Successfully assigned default/liveness-exec to 172.21.17.34</span><br><span class="line">  Normal  Pulling    20s   kubelet, 172.21.17.34  Pulling image <span class="string">"busybox"</span></span><br><span class="line">  Normal  Pulled     2s    kubelet, 172.21.17.34  Successfully pulled image <span class="string">"busybox"</span></span><br><span class="line">  Normal  Created    2s    kubelet, 172.21.17.34  Created container liveness</span><br><span class="line">  Normal  Started    1s    kubelet, 172.21.17.34  Started container liveness</span><br></pre></td></tr></table></figure></li><li><p>35ç§’åï¼Œå†æ¬¡æŸ¥çœ‹Podäº‹ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe pod liveness-exec</span><br><span class="line">â€¦â€¦â€¦â€¦</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason     Age              From                   Message</span><br><span class="line">  ----     ------     ----             ----                   -------</span><br><span class="line">  Normal   Scheduled  58s              default-scheduler      Successfully assigned default/liveness-exec to 172.21.17.34</span><br><span class="line">  Normal   Pulling    55s              kubelet, 172.21.17.34  Pulling image <span class="string">"busybox"</span></span><br><span class="line">  Normal   Pulled     37s              kubelet, 172.21.17.34  Successfully pulled image <span class="string">"busybox"</span></span><br><span class="line">  Normal   Created    37s              kubelet, 172.21.17.34  Created container liveness</span><br><span class="line">  Normal   Started    36s              kubelet, 172.21.17.34  Started container liveness</span><br><span class="line">  Warning  Unhealthy  0s (x2 over 5s)  kubelet, 172.21.17.34  Liveness probe failed: cat: can<span class="string">'t open '</span>/tmp/healthy<span class="string">': No such file or directory</span></span><br></pre></td></tr></table></figure></li><li><p>å†ç­‰30ç§’ï¼Œç¡®è®¤Containerå·²é‡æ–°å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get pod liveness-exec</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">liveness-exec   1/1     Running   1          115s</span><br><span class="line"></span><br><span class="line">$ kubectl describe pod liveness-exec</span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">QoS Class:       BestEffort</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason     Age                 From                   Message</span><br><span class="line">  ----     ------     ----                ----                   -------</span><br><span class="line">  Normal   Scheduled  2m7s                default-scheduler      Successfully assigned default/liveness-exec to 172.21.17.34</span><br><span class="line">  Warning  Unhealthy  64s (x3 over 74s)   kubelet, 172.21.17.34  Liveness probe failed: cat: can<span class="string">'t open '</span>/tmp/healthy<span class="string">': No such file or directory</span></span><br><span class="line"><span class="string">  Normal   Killing    64s                 kubelet, 172.21.17.34  Container liveness failed liveness probe, will be restarted</span></span><br><span class="line"><span class="string">  Normal   Pulling    34s (x2 over 2m4s)  kubelet, 172.21.17.34  Pulling image "busybox"</span></span><br><span class="line"><span class="string">  Normal   Pulled     25s (x2 over 106s)  kubelet, 172.21.17.34  Successfully pulled image "busybox"</span></span><br><span class="line"><span class="string">  Normal   Created    25s (x2 over 106s)  kubelet, 172.21.17.34  Created container liveness</span></span><br><span class="line"><span class="string">  Normal   Started    25s (x2 over 105s)  kubelet, 172.21.17.34  Started container liveness</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ä¾‹äºŒ-é€šè¿‡HTTPæ–¹å¼åšå¥åº·æ¢æµ‹"><a href="#ä¾‹äºŒ-é€šè¿‡HTTPæ–¹å¼åšå¥åº·æ¢æµ‹" class="headerlink" title="ä¾‹äºŒ: é€šè¿‡HTTPæ–¹å¼åšå¥åº·æ¢æµ‹"></a>ä¾‹äºŒ: é€šè¿‡HTTPæ–¹å¼åšå¥åº·æ¢æµ‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; http-liveness.yaml &lt;&lt;EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    <span class="built_in">test</span>: liveness</span><br><span class="line">  name: liveness-http</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - name: liveness</span><br><span class="line">    image: carlziess/liveness</span><br><span class="line">    args:</span><br><span class="line">    - /server</span><br><span class="line">    livenessProbe:</span><br><span class="line">      httpGet:</span><br><span class="line">        path: /healthz</span><br><span class="line">        port: 8080</span><br><span class="line">        httpHeaders:</span><br><span class="line">        - name: X-Custom-Header</span><br><span class="line">          value: Awesome</span><br><span class="line">      initialDelaySeconds: 3</span><br><span class="line">      periodSeconds: 3</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºä¸€ä¸ªPodï¼Œå…¶ä¸­periodSecondså­—æ®µæŒ‡å®škubeletæ¯3ç§’æ‰§è¡Œä¸€æ¬¡æ¢æµ‹ï¼ŒinitialDelaySecondså­—æ®µå‘Šè¯‰kubeletå»¶è¿Ÿç­‰å¾…3ç§’ï¼Œæ¢æµ‹æ–¹å¼ä¸ºå‘å®¹å™¨ä¸­è¿è¡Œçš„æœåŠ¡å‘é€HTTP GETè¯·æ±‚ï¼Œè¯·æ±‚8080ç«¯å£ä¸‹çš„/healthz, ä»»ä½•å¤§äºæˆ–ç­‰äº200ä¸”å°äº400çš„ä»£ç è¡¨ç¤ºæˆåŠŸã€‚ä»»ä½•å…¶ä»–ä»£ç è¡¨ç¤ºå¤±è´¥ã€‚</p><ul><li><p>åˆ›å»ºpod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f http-liveness.yaml </span><br><span class="line">pod/liveness-http created</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥éªŒè¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe pod liveness-http</span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason     Age                   From                   Message</span><br><span class="line">  ----     ------     ----                  ----                   -------</span><br><span class="line">  Normal   Scheduled  2m59s                 default-scheduler      Successfully assigned default/liveness-http to 172.21.17.34</span><br><span class="line">  Normal   Pulled     119s (x3 over 2m46s)  kubelet, 172.21.17.34  Successfully pulled image <span class="string">"carlziess/liveness"</span></span><br><span class="line">  Normal   Created    119s (x3 over 2m46s)  kubelet, 172.21.17.34  Created container liveness</span><br><span class="line">  Normal   Started    118s (x3 over 2m45s)  kubelet, 172.21.17.34  Started container liveness</span><br><span class="line"></span><br><span class="line">$ kubectl get pod</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">liveness-http   1/1     Running   0          26s</span><br></pre></td></tr></table></figure></li><li><p><strong>httpGet</strong>æ¢æµ‹æ–¹å¼æœ‰å¦‚ä¸‹å¯é€‰çš„æ§åˆ¶å­—æ®µ</p><ul><li>host: è¦è¿æ¥çš„ä¸»æœºåï¼Œé»˜è®¤ä¸ºPod IPï¼Œå¯ä»¥åœ¨http request headä¸­è®¾ç½®hostå¤´éƒ¨ã€‚</li><li>scheme: ç”¨äºè¿æ¥hostçš„åè®®ï¼Œé»˜è®¤ä¸ºHTTPã€‚</li><li>path: httpæœåŠ¡å™¨ä¸Šçš„è®¿é—®URL</li><li>httpHeaders: è‡ªå®šä¹‰HTTPè¯·æ±‚headersï¼ŒHTTPå…è®¸é‡å¤headers</li><li>port: å®¹å™¨ä¸Šè¦è®¿é—®ç«¯å£å·æˆ–åç§°</li></ul></li></ul><h4 id="ä¾‹ä¸‰-é€šè¿‡TCPæ–¹å¼åšå¥åº·æ¢æµ‹"><a href="#ä¾‹ä¸‰-é€šè¿‡TCPæ–¹å¼åšå¥åº·æ¢æµ‹" class="headerlink" title="ä¾‹ä¸‰: é€šè¿‡TCPæ–¹å¼åšå¥åº·æ¢æµ‹"></a>ä¾‹ä¸‰: é€šè¿‡TCPæ–¹å¼åšå¥åº·æ¢æµ‹</h4><p>Kubeletå°†å°è¯•åœ¨æŒ‡å®šçš„ç«¯å£ä¸Šæ‰“å¼€å®¹å™¨ä¸Šçš„å¥—æ¥å­—ï¼Œå¦‚æœèƒ½å»ºç«‹è¿æ¥ï¼Œåˆ™è¡¨æ˜å®¹å™¨å¥åº·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; tcp-liveness-readiness.yaml &lt;&lt;EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: goproxy</span><br><span class="line">  labels:</span><br><span class="line">    app: goproxy</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - name: goproxy</span><br><span class="line">    image: goproxy/goproxy</span><br><span class="line">    ports:</span><br><span class="line">    - containerPort: 8080</span><br><span class="line">    readinessProbe:</span><br><span class="line">      tcpSocket:</span><br><span class="line">        port: 8080</span><br><span class="line">      initialDelaySeconds: 5</span><br><span class="line">      periodSeconds: 10</span><br><span class="line">    livenessProbe:</span><br><span class="line">      tcpSocket:</span><br><span class="line">        port: 8080</span><br><span class="line">      initialDelaySeconds: 15</span><br><span class="line">      periodSeconds: 20</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCPæ£€æŸ¥æ–¹å¼å’ŒHTTPæ£€æŸ¥æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œç¤ºä¾‹ä¸­ä¸¤ç§æ¢é’ˆéƒ½ä½¿ç”¨äº†ï¼Œåœ¨å®¹å™¨å¯åŠ¨5ç§’åï¼Œkubeletå°†å‘é€ç¬¬ä¸€ä¸ªreadinessProbeæ¢é’ˆï¼Œè¿™å°†è¿æ¥åˆ°å®¹å™¨çš„8080ç«¯å£ï¼Œå¦‚æœæ¢æµ‹æˆåŠŸï¼Œåˆ™è¯¥Podå°†è¢«æ ‡è¯†ä¸ºreadyï¼Œ10ç§’åï¼Œkubeletå°†è¿›è¡Œç¬¬äºŒæ¬¡è¿æ¥ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™¤æ­¤ï¼Œé…ç½®è¿˜åŒ…å«äº†livenessProbeæ¢é’ˆï¼Œåœ¨å®¹å™¨å¯åŠ¨15ç§’åï¼Œkubeletå°†å‘é€ç¬¬ä¸€ä¸ªlivenessProbeæ¢é’ˆï¼Œä»ç„¶å°è¯•è¿æ¥å®¹å™¨çš„8080ç«¯å£ï¼Œå¦‚æœè¿æ¥å¤±è´¥åˆ™é‡å¯å®¹å™¨ã€‚</p><ul><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f tcp-liveness-readiness.yaml</span><br><span class="line">pod/goproxy created</span><br></pre></td></tr></table></figure></li><li><p>15ç§’åï¼ŒæŸ¥çœ‹Podäº‹ä»¶ä»¥éªŒè¯æ´»åŠ¨æ¢æµ‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe pod goproxy</span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute <span class="keyword">for</span> 360s</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age   From                    Message</span><br><span class="line">  ----    ------     ----  ----                    -------</span><br><span class="line">  Normal  Scheduled  26s   default-scheduler       Successfully assigned default/goproxy to 172.21.16.231</span><br><span class="line">  Normal  Pulling    22s   kubelet, 172.21.16.231  Pulling image <span class="string">"goproxy/goproxy"</span></span><br></pre></td></tr></table></figure></li></ul><p>å½“å®¹å™¨æœ‰å¤šä¸ªç«¯å£æ—¶ï¼Œé€šå¸¸ä¼šç»™æ¯ä¸ªç«¯å£å‘½åï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ¢é’ˆæ¢æµ‹æ—¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™è‡ªå®šä¹‰çš„ç«¯å£åç§°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ports:</span><br><span class="line">- name: liveness-port</span><br><span class="line">  containerPort: 8080</span><br><span class="line">  hostPort: 8080</span><br><span class="line">livenessProbe:</span><br><span class="line">  httpGet:</span><br><span class="line">    path: /healthz</span><br><span class="line">    port: liveness-port</span><br></pre></td></tr></table></figure><h3 id="ReadinessProbeæ¢é’ˆé…ç½®"><a href="#ReadinessProbeæ¢é’ˆé…ç½®" class="headerlink" title="ReadinessProbeæ¢é’ˆé…ç½®"></a>ReadinessProbeæ¢é’ˆé…ç½®</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadinessProbeæ¢é’ˆçš„ä½¿ç”¨åœºæ™¯livenessProbeç¨æœ‰ä¸åŒï¼Œæœ‰çš„æ—¶å€™åº”ç”¨ç¨‹åºå¯èƒ½æš‚æ—¶æ— æ³•æ¥å—è¯·æ±‚ï¼Œæ¯”å¦‚Podå·²ç»Runningäº†ï¼Œä½†æ˜¯å®¹å™¨å†…åº”ç”¨ç¨‹åºå°šæœªå¯åŠ¨æˆåŠŸï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰ReadinessProbeï¼Œåˆ™Kubernetesè®¤ä¸ºå®ƒå¯ä»¥å¤„ç†è¯·æ±‚äº†ï¼Œç„¶è€Œæ­¤æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“ç¨‹åºè¿˜æ²¡å¯åŠ¨æˆåŠŸæ˜¯ä¸èƒ½æ¥æ”¶ç”¨æˆ·è¯·æ±‚çš„ï¼Œæ‰€ä»¥ä¸å¸Œæœ›kubernetesæŠŠè¯·æ±‚è°ƒåº¦ç»™å®ƒï¼Œåˆ™ä½¿ç”¨ReadinessProbeæ¢é’ˆã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadinessProbeå’ŒlivenessProbeå¯ä»¥ä½¿ç”¨ç›¸åŒæ¢æµ‹æ–¹å¼ï¼Œåªæ˜¯å¯¹Podçš„å¤„ç½®æ–¹å¼ä¸åŒï¼ŒReadinessProbeæ˜¯å°†Pod IP:Portä»å¯¹åº”çš„EndPointåˆ—è¡¨ä¸­åˆ é™¤ï¼Œè€ŒlivenessProbeåˆ™Killå®¹å™¨å¹¶æ ¹æ®Podçš„é‡å¯ç­–ç•¥æ¥å†³å®šä½œå‡ºå¯¹åº”çš„æªæ–½ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¢é’ˆæ¢æµ‹å®¹å™¨æ˜¯å¦å·²å‡†å¤‡å°±ç»ªï¼Œå¦‚æœæœªå‡†å¤‡å°±ç»ªåˆ™kubernetesä¸ä¼šå°†æµé‡è½¬å‘ç»™æ­¤Podã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadinessProbeæ¢é’ˆä¸livenessProbeä¸€æ ·ä¹Ÿæ”¯æŒexecã€httpGetã€TCPçš„æ¢æµ‹æ–¹å¼ï¼Œé…ç½®æ–¹å¼ç›¸åŒï¼Œåªä¸è¿‡æ˜¯å°†livenessProbeå­—æ®µä¿®æ”¹ä¸ºReadinessProbeã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">readinessProbe:</span><br><span class="line">  <span class="built_in">exec</span>:</span><br><span class="line">    <span class="built_in">command</span>:</span><br><span class="line">    - cat</span><br><span class="line">    - /tmp/healthy</span><br><span class="line">  initialDelaySeconds: 5</span><br><span class="line">  periodSeconds: 5</span><br></pre></td></tr></table></figure><p>ReadinessProbeæ¢é’ˆçš„HTTPã€TCPçš„æ¢æµ‹æ–¹å¼ä¹Ÿä¸livenessProbeçš„åŸºæœ¬ä¸€è‡´ã€‚</p><h4 id="ä¾‹å››-ReadinessProbeç¤ºä¾‹"><a href="#ä¾‹å››-ReadinessProbeç¤ºä¾‹" class="headerlink" title="ä¾‹å››: ReadinessProbeç¤ºä¾‹"></a>ä¾‹å››: ReadinessProbeç¤ºä¾‹</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ å…¥ReadinessProbeæ¢é’ˆå’Œä¸€ä¸ªæ²¡æœ‰ReadinessProbeæ¢é’ˆçš„ç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªdeployï¼Œåä¸ºJavaAppï¼Œå¯åŠ¨çš„å®¹å™¨è¿è¡Œä¸€ä¸ªjavaåº”ç”¨ç¨‹åºï¼Œç¨‹åºç›‘å¬ç«¯å£ä¸º9093ã€‚</p><ul><li><p>æ²¡æœ‰ReadinessProbe</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; k8s.yaml &lt;&lt; EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: biz-gateway</span><br><span class="line">  labels:</span><br><span class="line">    app: biz-gateway</span><br><span class="line">  namespace:</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 9093</span><br><span class="line">    name: biz-gateway</span><br><span class="line">  selector:</span><br><span class="line">    app: biz-gateway</span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: biz-gateway</span><br><span class="line">  namespace:</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: biz-gateway</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: biz-gateway</span><br><span class="line">        image: docker.io/xxlaila/biz-gateway:dev-08c8a4e</span><br><span class="line">        imagePullPolicy: IfNotPresent</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 9093</span><br><span class="line">        env:</span><br><span class="line">        - name: RUN_ENV</span><br><span class="line">          value: dev</span><br><span class="line">        - name: CONFIG_API_SERVER</span><br><span class="line">          value: http://api.conf.xxlaila.cn</span><br><span class="line">        - name: RUN_CLUSTER</span><br><span class="line">          value: default</span><br><span class="line">        - name: RUN_MODE</span><br><span class="line">          value: AUTO</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f k8s.yaml </span><br><span class="line">service/biz-gateway created</span><br><span class="line">deployment.extensions/biz-gateway created</span><br></pre></td></tr></table></figure></li><li><p>åˆšåˆ›å»ºåï¼Œç­‰ä¸€ä¼šåï¼ŒæŸ¥çœ‹PodçŠ¶æ€ï¼Œè®°ç€è¦ç»™imageç•™ä¸‹pullçš„æ—¶é—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get pods  |grep <span class="string">"biz-gateway"</span></span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">biz-gateway-95f6b677f-rnz22   1/1     Running   0          2m8s</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªè¿‡ç¨‹Podç”¨äº†2m8sï¼Œè‡ªèº«çŠ¶æ€å·²Runningï¼Œå…¶READå­—æ®µï¼Œ1/1 è¡¨ç¤º1ä¸ªå®¹å™¨çŠ¶æ€å·²å‡†å¤‡å°±ç»ªäº†ï¼Œæ­¤æ—¶ï¼Œå¯¹äºkubernetesè€Œè¨€ï¼Œå·²ç»å¯ä»¥æ¥æ”¶è¯·æ±‚äº†,è€Œå®é™…ä¸ŠæœåŠ¡è¿˜æ— æ³•è®¿é—®ï¼Œå› ä¸ºJAVAç¨‹åºè¿˜å°šå¯åŠ¨èµ·æ¥ï¼Œ2m8ssåæ–¹å¯æ­£å¸¸è®¿é—®ï¼Œæ‰€ä»¥é’ˆå¯¹æ­¤ç±»ç¨‹åºï¼Œå¿…é¡»é…ç½®ReadinessProbeã€‚</p><ul><li>åŠ å…¥readinessProbe<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; k8s.yaml &lt;&lt; EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: biz-gateway</span><br><span class="line">  labels:</span><br><span class="line">    app: biz-gateway</span><br><span class="line">  namespace:</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - protocol: TCP</span><br><span class="line">    port: 9093</span><br><span class="line">    name: biz-gateway</span><br><span class="line">  selector:</span><br><span class="line">    app: biz-gateway</span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: biz-gateway</span><br><span class="line">  namespace:</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: biz-gateway</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: biz-gateway</span><br><span class="line">        image: docker.io/xxlaila/biz-gateway:dev-08c8a4e</span><br><span class="line">        imagePullPolicy: IfNotPresent</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 9093</span><br><span class="line">        readinessProbe:</span><br><span class="line">          tcpSocket:</span><br><span class="line">            port: 9093</span><br><span class="line">          initialDelaySeconds: 140</span><br><span class="line">          periodSeconds: 10</span><br><span class="line">        env:</span><br><span class="line">        - name: RUN_ENV</span><br><span class="line">          value: dev</span><br><span class="line">        - name: CONFIG_API_SERVER</span><br><span class="line">          value: http://api.conf.xxlaila.cn</span><br><span class="line">        - name: RUN_CLUSTER</span><br><span class="line">          value: default</span><br><span class="line">        - name: RUN_MODE</span><br><span class="line">          value: AUTO</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­ï¼ŒReadinessProbeæ¢é’ˆçš„æ¢æµ‹æ–¹å¼ä¸ºtcpSocketï¼Œå› ä¸ºç¨‹åºç›‘å¬åœ¨9093ç«¯å£ï¼Œæ‰€ä»¥è¿™é‡Œæ¢æµ‹ä¸ºå¯¹9093å»ºç«‹è¿æ¥,è¿™é‡Œç¬¬ä¸€æ¬¡æ¢æµ‹æ—¶é—´æ˜¯åœ¨Pod Runingå140ç§’åï¼Œé—´éš”10ç§’åæ‰§è¡Œç¬¬äºŒæ¬¡æ¢æµ‹ã€‚</p><ul><li><p>åˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f ./</span><br><span class="line">service/biz-gateway created</span><br><span class="line">deployment.extensions/biz-gateway created</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹éªŒè¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºåç­‰å¾…äº†60s</span></span><br><span class="line">$ kubectl get pod -o wide</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE   IP            NODE           NOMINATED NODE   READINESS GATES</span><br><span class="line">biz-gateway-f69cc8678-qs8s7   0/1     Running   0          60s   172.30.56.6   172.21.17.40   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»§ç»­ç­‰å¾…ä¸€ä¼š</span></span><br><span class="line">$ kubectl get pod -o wide</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE     IP            NODE           NOMINATED NODE   READINESS GATES</span><br><span class="line">biz-gateway-f69cc8678-qs8s7   1/1     Running   0          2m36s   172.30.56.6   172.21.17.40   &lt;none&gt;           &lt;none&gt;</span><br></pre></td></tr></table></figure></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥çœ‹åˆ°åœ¨2m36ç§’åï¼Œpodå¯åŠ¨okï¼Œåœ¨ç¬¬ä¸€æ¬¡æŸ¥çœ‹çš„æ—¶å€™ï¼ŒPodè™½ç„¶å·²å¤„äºRunnigçŠ¶æ€ï¼Œä½†æ˜¯ç”±äºç¬¬ä¸€æ¬¡æ¢æµ‹æ—¶é—´æœªåˆ°ï¼Œæ‰€ä»¥READYå­—æ®µä¸º0/1ï¼Œå³å®¹å™¨çš„çŠ¶æ€ä¸ºæœªå‡†å¤‡å°±ç»ªï¼Œåœ¨æœªå‡†å¤‡å°±ç»ªçš„æƒ…å†µä¸‹ï¼Œå…¶Podå¯¹åº”çš„Serviceä¸‹çš„Endpointä¹Ÿä¸ºç©ºï¼Œæ‰€ä»¥æ‰ä¸ä¼šæœ‰ä»»ä½•è¯·æ±‚è¢«è°ƒåº¦è¿›æ¥ã€‚</p><ul><li>æŸ¥çœ‹Endpoint<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€æ¬¡æ‰§è¡Œ</span></span><br><span class="line">$ kubectl get endpoints</span><br><span class="line">NAME          ENDPOINTS                                                AGE</span><br><span class="line">biz-gateway                                                            57s</span><br><span class="line">kubernetes    172.21.16.110:6443,172.21.17.30:6443,172.21.17.31:6443   13d</span><br><span class="line"></span><br><span class="line">åœ¨2m36sååœ¨æ¬¡æ‰§è¡Œ</span><br><span class="line">$ kubectl get endpoints</span><br><span class="line">NAME          ENDPOINTS                                                AGE</span><br><span class="line">biz-gateway   172.30.56.6:9093                                         2m41s</span><br><span class="line">kubernetes    172.21.16.110:6443,172.21.17.30:6443,172.21.17.31:6443   13d</span><br></pre></td></tr></table></figure></li></ul><h3 id="é…ç½®æ¢é’ˆ-Probe-ç›¸å…³å±æ€§"><a href="#é…ç½®æ¢é’ˆ-Probe-ç›¸å…³å±æ€§" class="headerlink" title="é…ç½®æ¢é’ˆ(Probe)ç›¸å…³å±æ€§"></a>é…ç½®æ¢é’ˆ(Probe)ç›¸å…³å±æ€§</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¢é’ˆ(Probe)æœ‰è®¸å¤šå¯é€‰å­—æ®µï¼Œå¯ä»¥ç”¨æ¥æ›´åŠ ç²¾ç¡®çš„æ§åˆ¶Livenesså’ŒReadinessä¸¤ç§æ¢é’ˆçš„è¡Œä¸º(Probe)ï¼š</p><ul><li>initialDelaySecondsï¼šPodå¯åŠ¨åå»¶è¿Ÿå¤šä¹…æ‰è¿›è¡Œæ£€æŸ¥ï¼Œå•ä½ï¼šç§’</li><li>periodSecondsï¼šæ£€æŸ¥çš„é—´éš”æ—¶é—´ï¼Œé»˜è®¤ä¸º10ï¼Œå•ä½ï¼šç§’ã€‚</li><li>timeoutSecondsï¼šæ¢æµ‹çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º1ï¼Œå•ä½ï¼šç§’ã€‚</li><li>successThresholdï¼šæ¢æµ‹å¤±è´¥åè®¤ä¸ºæˆåŠŸçš„æœ€å°è¿æ¥æˆåŠŸæ¬¡æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œåœ¨Livenessæ¢é’ˆä¸­å¿…é¡»ä¸º1ï¼Œæœ€å°å€¼ä¸º1ã€‚</li><li>failureThresholdï¼šæ¢æµ‹å¤±è´¥çš„é‡è¯•æ¬¡æ•°ï¼Œé‡è¯•ä¸€å®šæ¬¡æ•°åå°†è®¤ä¸ºå¤±è´¥ï¼Œåœ¨readinessæ¢é’ˆä¸­ï¼ŒPodä¼šè¢«æ ‡è®°ä¸ºæœªå°±ç»ªï¼Œé»˜è®¤ä¸º3ï¼Œæœ€å°å€¼ä¸º1ã€‚</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>ä¹‹å‰é”™è¯¯å‚è€ƒæ’æŸ¥ä»‹ç»</strong>: åœ¨ä¹‹å‰å®‰è£…jenkinsçš„æ—¶å€™ï¼Œåˆ›å»ºpodå°±ä¸€å€¼å¤„äº<code>running</code>,ä½†æ˜¯è¿‡ä¸€ä¼šï¼Œç•Œé¢å°±æŠ¥é”™ï¼Œé”™è¯¯å¦‚ä¸‹å›¾<br><img src="https://img.xxlaila.cn/15008WechatIMG.png" alt="img"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæŸ¥çœ‹podæ—¥å¿—å’Œç³»ç»Ÿç³»ç»Ÿï¼Œéƒ½æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œpodæ—¥å¿—å¦‚ä¸‹ï¼Œç„¶åå°±é—®äº†æœ‹å‹ï¼Œå°±è¯´æœ‰å¯èƒ½æ˜¯podçš„å¥åº·æ£€æµ‹æœºåˆ¶ï¼Œæœ€åå°±ä¿®æ”¹äº†podçš„å¥åº·æ£€æµ‹æœºåˆ¶ï¼ŒjenkinsæœåŠ¡å™¨éƒ¨ç½²okã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">kubectl <span class="built_in">log</span> $(kubectl get pods -n kube-ops | awk <span class="string">'&#123;print $1&#125;'</span> | grep jenkins) -n kube-ops</span><br><span class="line"><span class="built_in">log</span> is DEPRECATED and will be removed <span class="keyword">in</span> a future version. Use logs instead.</span><br><span class="line">VM settings:</span><br><span class="line">    Max. Heap Size: 3.00G</span><br><span class="line">    Ergonomics Machine Class: server</span><br><span class="line">    Using VM: OpenJDK 64-Bit Server VM</span><br><span class="line"></span><br><span class="line">Running from: /usr/share/jenkins/jenkins.war</span><br><span class="line">webroot: EnvVars.masterEnvVars.get(<span class="string">"JENKINS_HOME"</span>)</span><br><span class="line">2019-09-27 03:02:24.133+0000 [id=1] INFO org.eclipse.jetty.util.log.Log<span class="comment">#initialized: Logging initialized @429ms to org.eclipse.jetty.util.log.JavaUtilLog</span></span><br><span class="line">2019-09-27 03:02:24.247+0000 [id=1] INFO winstone.Logger<span class="comment">#logInternal: Beginning extraction from war file</span></span><br></pre></td></tr></table></figure><p><strong>åç»­</strong>: è™½ç„¶å¥åº·æ£€æµ‹å¯ä»¥å–æ¶ˆï¼Œä¸åŠ å…¥ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨ä¸Šç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™è¿˜æ˜¯è¦åŠ ä¸Šï¼Œæ­£å¦‚ä¾‹å››ä»‹ç»çš„é‚£æ ·ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒé”™æ•…éšœè‡ªæ„ˆã€è½®è¯¢å‘å¸ƒç­‰ã€‚éƒ½éœ€è¦è¿™ä¸ªä¸œè¥¿ï¼ŒåŠ å…¥å†å‡çº§çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨éƒ½è¿˜æ²¡èµ·æ¥ï¼Œk8så°±å§æµé‡ç»™è°ƒåº¦è¿‡æ¥ï¼Œå‡çº§ä¸‹ä¸€ä¸ªpodï¼Œå¤–éƒ¨ç”¨æˆ·è®¿é—®å°±ä¼šæŠ¥é”™ï¼Œé‚£å°±æ˜¯å¾ˆå°´å°¬</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;Podå¥åº·æ£€æµ‹æœºåˆ¶&quot;&gt;&lt;a href=&quot;#Podå¥åº·æ£€æµ‹æœºåˆ¶&quot; class=&quot;headerlink&quot; title=&quot;Podå¥åº·æ£€æµ‹æœºåˆ¶&quot;&gt;&lt;/a&gt;Podå¥åº·æ£€æµ‹æœºåˆ¶&lt;/h3&gt;&lt;p&gt;å¯¹äºPodçš„å¥åº·çŠ¶æ€æ£€æµ‹ï¼Œkubernetesæä¾›äº†ä¸¤ç±»æ¢é’ˆ(Probe)æ¥æ‰§è¡Œå¯¹Podçš„å¥åº·çŠ¶æ€æ£€æµ‹:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;LivenessProbeæ¢é’ˆ&lt;/strong&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç”¨äºåˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼Œå³Podæ˜¯å¦ä¸ºrunningçŠ¶æ€ï¼Œå¦‚æœLivenessProbeæ¢é’ˆæ¢æµ‹åˆ°å®¹å™¨ä¸å¥åº·ï¼Œåˆ™kubeletå°†killæ‰å®¹å™¨ï¼Œå¹¶æ ¹æ®å®¹å™¨çš„é‡å¯ç­–ç•¥æ˜¯å¦é‡å¯ï¼Œå¦‚æœä¸€ä¸ªå®¹å™¨ä¸åŒ…å«LivenessProbeæ¢é’ˆï¼Œåˆ™Kubeletè®¤ä¸ºå®¹å™¨çš„LivenessProbeæ¢é’ˆçš„è¿”å›å€¼æ°¸è¿œæˆåŠŸ.&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="pod" scheme="https://www.xxlaila.cn/tags/pod/"/>
    
  </entry>
  
  <entry>
    <title>EFK</title>
    <link href="https://www.xxlaila.cn/2019/09/25/EFK/"/>
    <id>https://www.xxlaila.cn/2019/09/25/EFK/</id>
    <published>2019-09-25T07:24:18.000Z</published>
    <updated>2019-10-29T01:45:49.093Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡"><a href="#åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡" class="headerlink" title="åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡"></a>åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†ä¸‹è½½çš„ kubernetes-server-linux-amd64.tar.gz è§£å‹åï¼Œå†è§£å‹å…¶ä¸­çš„ kubernetes-src.tar.gz æ–‡ä»¶ã€‚<code>kubernetes/cluster/addons/fluentd-elasticsearch</code>è¿™æ˜¯æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;es æ•°æ®é»˜è®¤çš„å­˜å‚¨åœ¨dockeré‡Œé¢ï¼Œåœ¨ç”¨çš„æ˜¯nodeèŠ‚ç‚¹çš„ç©ºé—´ï¼Œè€ŒnodeèŠ‚ç‚¹æˆ‘ä»¬ä¸å¯èƒ½éƒ½å‡†å¤‡å¾ˆå¤§çš„ç©ºé—´ï¼Œé‚£æ ·å¾ˆæµªè´¹èµ„æºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¤–éƒ¨çš„nfså­˜å‚¨ç©ºé—´ï¼Œç„¶åé€šè¿‡<a href="https://xxlaila.github.io/2019/09/24/%E5%88%A9%E7%94%A8NFS%E5%8A%A8%E6%80%81%E6%8F%90%E4%BE%9BKubernetes%E5%90%8E%E7%AB%AF%E5%AD%98%E5%82%A8%E5%8D%B7/" target="_blank" rel="noopener">pv</a>çš„æ¨¡å¼è¿›è¡ŒæŒ‚è½½ï¼Œæ•°æ®å­˜å‚¨åˆ°nfsæœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·ä¿éšœäº†esæ”¶é›†æ•°æ®çš„å¯ç”¨æ€§ã€‚</p><a id="more"></a><h3 id="åˆ›å»ºå­˜å‚¨ä»‹è´¨"><a href="#åˆ›å»ºå­˜å‚¨ä»‹è´¨" class="headerlink" title="åˆ›å»ºå­˜å‚¨ä»‹è´¨"></a>åˆ›å»ºå­˜å‚¨ä»‹è´¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; pvc.yaml &lt;&lt;EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: storage.k8s.io/v1</span><br><span class="line">kind: StorageClass</span><br><span class="line">metadata:</span><br><span class="line">  name: es-nfs-data</span><br><span class="line">provisioner: fuseim.pri/ifs</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f pvc.yaml</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><ul><li><p>es-statefulset.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RBAC authn and authz</span></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: elasticsearch-logging</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">---</span><br><span class="line">kind: ClusterRole</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: elasticsearch-logging</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">rules:</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - <span class="string">"services"</span></span><br><span class="line">  - <span class="string">"namespaces"</span></span><br><span class="line">  - <span class="string">"endpoints"</span></span><br><span class="line">  verbs:</span><br><span class="line">  - <span class="string">"get"</span></span><br><span class="line">---</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: elasticsearch-logging</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">subjects:</span><br><span class="line">- kind: ServiceAccount</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  apiGroup: <span class="string">""</span></span><br><span class="line">roleRef:</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  apiGroup: <span class="string">""</span></span><br><span class="line">---</span><br><span class="line"><span class="comment"># Elasticsearch deployment itself</span></span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata:</span><br><span class="line">  name: elasticsearch-logging</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: elasticsearch-logging</span><br><span class="line">    version: v6.6.1</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">spec:</span><br><span class="line">  serviceName: elasticsearch-logging</span><br><span class="line">  replicas: 2</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      k8s-app: elasticsearch-logging</span><br><span class="line">      version: v6.6.1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        k8s-app: elasticsearch-logging</span><br><span class="line">        version: v6.6.1</span><br><span class="line">        kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    spec:</span><br><span class="line">      serviceAccountName: elasticsearch-logging</span><br><span class="line">      containers:</span><br><span class="line">      - image: elasticsearch:6.6.1</span><br><span class="line">        name: elasticsearch-logging</span><br><span class="line">        resources:</span><br><span class="line">          <span class="comment"># need more cpu upon initialization, therefore burstable class</span></span><br><span class="line">          limits:</span><br><span class="line">            cpu: 1000m</span><br><span class="line">          requests:</span><br><span class="line">            cpu: 100m</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 9200</span><br><span class="line">          name: db</span><br><span class="line">          protocol: TCP</span><br><span class="line">        - containerPort: 9300</span><br><span class="line">          name: transport</span><br><span class="line">          protocol: TCP</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: elasticsearch-logging</span><br><span class="line">          mountPath: /data</span><br><span class="line">        env:</span><br><span class="line">        - name: <span class="string">"NAMESPACE"</span></span><br><span class="line">          valueFrom:</span><br><span class="line">            fieldRef:</span><br><span class="line">              fieldPath: metadata.namespace</span><br><span class="line">      <span class="comment"># Elasticsearch requires vm.max_map_count to be at least 262144.</span></span><br><span class="line">      <span class="comment"># If your OS already sets up this number to a higher value, feel free</span></span><br><span class="line">      <span class="comment"># to remove this init container.</span></span><br><span class="line">      initContainers:</span><br><span class="line">      - image: alpine:3.6</span><br><span class="line">        <span class="built_in">command</span>: [<span class="string">"/sbin/sysctl"</span>, <span class="string">"-w"</span>, <span class="string">"vm.max_map_count=262144"</span>]</span><br><span class="line">        name: elasticsearch-logging-init</span><br><span class="line">        securityContext:</span><br><span class="line">          privileged: <span class="literal">true</span></span><br><span class="line">  volumeClaimTemplates:</span><br><span class="line">  - metadata:</span><br><span class="line">      name: elasticsearch-logging</span><br><span class="line">    spec:</span><br><span class="line">      accessModes: [ <span class="string">"ReadWriteMany"</span> ]</span><br><span class="line">      storageClassName: <span class="string">"es-nfs-data"</span></span><br><span class="line">      resources:</span><br><span class="line">        requests:</span><br><span class="line">          storage: 30Gi</span><br></pre></td></tr></table></figure></li><li><p>fluentd-es-ds.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: fluentd-es</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: fluentd-es</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">---</span><br><span class="line">kind: ClusterRole</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: fluentd-es</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: fluentd-es</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">rules:</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - <span class="string">"namespaces"</span></span><br><span class="line">  - <span class="string">"pods"</span></span><br><span class="line">  verbs:</span><br><span class="line">  - <span class="string">"get"</span></span><br><span class="line">  - <span class="string">"watch"</span></span><br><span class="line">  - <span class="string">"list"</span></span><br><span class="line">---</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: fluentd-es</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: fluentd-es</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">subjects:</span><br><span class="line">- kind: ServiceAccount</span><br><span class="line">  name: fluentd-es</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  apiGroup: <span class="string">""</span></span><br><span class="line">roleRef:</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: fluentd-es</span><br><span class="line">  apiGroup: <span class="string">""</span></span><br><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: DaemonSet</span><br><span class="line">metadata:</span><br><span class="line">  name: fluentd-es-v2.4.0</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: fluentd-es</span><br><span class="line">    version: v2.4.0</span><br><span class="line">    kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">    addonmanager.kubernetes.io/mode: Reconcile</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      k8s-app: fluentd-es</span><br><span class="line">      version: v2.4.0</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        k8s-app: fluentd-es</span><br><span class="line">        kubernetes.io/cluster-service: <span class="string">"true"</span></span><br><span class="line">        version: v2.4.0</span><br><span class="line">      <span class="comment"># This annotation ensures that fluentd does not get evicted if the node</span></span><br><span class="line">      <span class="comment"># supports critical pod annotation based priority scheme.</span></span><br><span class="line">      <span class="comment"># Note that this does not guarantee admission on the nodes (#40573).</span></span><br><span class="line">      annotations:</span><br><span class="line">        scheduler.alpha.kubernetes.io/critical-pod: <span class="string">''</span></span><br><span class="line">        seccomp.security.alpha.kubernetes.io/pod: <span class="string">'docker/default'</span></span><br><span class="line">    spec:</span><br><span class="line">      priorityClassName: system-node-critical</span><br><span class="line">      serviceAccountName: fluentd-es</span><br><span class="line">      containers:</span><br><span class="line">      - name: fluentd-es</span><br><span class="line">        image: docker.io/xxlaila/fluentd-elasticsearch:v2.4.0</span><br><span class="line">        env:</span><br><span class="line">        - name: FLUENTD_ARGS</span><br><span class="line">          value: --no-supervisor -q</span><br><span class="line">        resources:</span><br><span class="line">          limits:</span><br><span class="line">            memory: 500Mi</span><br><span class="line">          requests:</span><br><span class="line">            cpu: 100m</span><br><span class="line">            memory: 200Mi</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: varlog</span><br><span class="line">          mountPath: /var/<span class="built_in">log</span></span><br><span class="line">        - name: varlibdockercontainers</span><br><span class="line">          mountPath: /var/lib/docker/containers</span><br><span class="line">          readOnly: <span class="literal">true</span></span><br><span class="line">        - name: config-volume</span><br><span class="line">          mountPath: /etc/fluent/config.d</span><br><span class="line">      terminationGracePeriodSeconds: 30</span><br><span class="line">      volumes:</span><br><span class="line">      - name: varlog</span><br><span class="line">        hostPath:</span><br><span class="line">          path: /var/<span class="built_in">log</span></span><br><span class="line">      - name: varlibdockercontainers</span><br><span class="line">        hostPath:</span><br><span class="line">          path: /var/lib/docker/containers</span><br><span class="line">      - name: config-volume</span><br><span class="line">        configMap:</span><br><span class="line">          name: fluentd-es-config-v0.2.0</span><br></pre></td></tr></table></figure></li><li><p>kibana-deployment.yaml<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ³¨é‡Šé‡Œé¢çš„ä¸¤è¡Œé…ç½®,ä¸æ³¨é‡Šçš„è¯ï¼Œæ‰“å¼€kibanaçš„æ—¶å€™ä¼šæç¤º<code>kibana {&quot;statusCode&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;Not Found&quot;}</code>,å‚è€ƒ<a href="https://github.com/kubernetes-sigs/kubespray/issues/3322" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>,æ³¨é‡Šé…ç½®å¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- name: SERVER_BASEPATH</span><br><span class="line">  value: /api/v1/namespaces/kube-system/services/kibana-logging/proxy</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ‰§è¡Œåˆ›å»º"><a href="#æ‰§è¡Œåˆ›å»º" class="headerlink" title="æ‰§è¡Œåˆ›å»º"></a>æ‰§è¡Œåˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f ./</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹åˆ›å»º"><a href="#æŸ¥çœ‹åˆ›å»º" class="headerlink" title="æŸ¥çœ‹åˆ›å»º"></a>æŸ¥çœ‹åˆ›å»º</h4><ul><li><p>æŸ¥çœ‹pod</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get pods -n kube-system |egrep <span class="string">"kibana|elasticsearch|fluentd"</span></span><br><span class="line">elasticsearch-logging-0                       1/1     Running   0          65m</span><br><span class="line">elasticsearch-logging-1                       1/1     Running   0          61m</span><br><span class="line">fluentd-es-v2.4.0-4fp28                       1/1     Running   0          30m</span><br><span class="line">fluentd-es-v2.4.0-b7k67                       1/1     Running   0          30m</span><br><span class="line">fluentd-es-v2.4.0-f8jzp                       1/1     Running   0          30m</span><br><span class="line">fluentd-es-v2.4.0-shwzm                       1/1     Running   0          30m</span><br><span class="line">fluentd-es-v2.4.0-ww8r8                       1/1     Running   0          30m</span><br><span class="line">kibana-logging-57b55f58bc-xh5lp               1/1     Running   0          6m35s</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹service</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get svc -n kube-system |egrep <span class="string">"kibana|elasticsearch"</span></span><br><span class="line">elasticsearch-logging     ClusterIP   10.254.30.110    &lt;none&gt;        9200/TCP                 9s</span><br><span class="line">kibana-logging            ClusterIP   10.254.188.5     &lt;none&gt;        5601/TCP                 16h</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹pvï¼Œpvc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$  kubectl get pv,pvc -n kube-system</span><br><span class="line">NAME                                                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                                       STORAGECLASS   REASON   AGE</span><br><span class="line">persistentvolume/pvc-65fdd14e-dffc-11e9-bc90-fa163e5af833   30Gi       RWX            Delete           Bound    kube-system/elasticsearch-logging-elasticsearch-logging-0   es-nfs-data             21m</span><br><span class="line">persistentvolume/pvc-fe818f55-dffc-11e9-bc90-fa163e5af833   30Gi       RWX            Delete           Bound    kube-system/elasticsearch-logging-elasticsearch-logging-1   es-nfs-data             16m</span><br><span class="line"></span><br><span class="line">NAME                                                                  STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE</span><br><span class="line">persistentvolumeclaim/elasticsearch-logging-elasticsearch-logging-0   Bound    pvc-65fdd14e-dffc-11e9-bc90-fa163e5af833   30Gi       RWX            es-nfs-data    21m</span><br><span class="line">persistentvolumeclaim/elasticsearch-logging-elasticsearch-logging-1   Bound    pvc-fe818f55-dffc-11e9-bc90-fa163e5af833   30Gi       RWX            es-nfs-data    17m</span><br></pre></td></tr></table></figure></li></ul><h3 id="åˆ›å»ºwebè®¿é—®"><a href="#åˆ›å»ºwebè®¿é—®" class="headerlink" title="åˆ›å»ºwebè®¿é—®"></a>åˆ›å»ºwebè®¿é—®</h3><ul><li><p>kibana-Ingress.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; kibana-Ingress.yaml &lt;&lt;EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: kibana-web-ui</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: kibana.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: kibana-logging</span><br><span class="line">          servicePort: 5601</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>es-Ingress.yaml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt; es-Ingress &lt;&lt;EOF</span><br><span class="line">---</span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: es-web-ui</span><br><span class="line">  namespace: kube-system</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io/ingress.class: traefik</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: es.xxlaila.cn</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: /</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: elasticsearch-logging</span><br><span class="line">          servicePort: 9200</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œåˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f es-Ingress.yaml kibana-Ingress.yaml</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æµè§ˆå™¨è®¿é—®es<br><img src="https://img.xxlaila.cn/1569462606884.jpg" alt="img"></p></li><li><p>æµè§ˆå™¨è®¿é—®kibana<br><img src="https://img.xxlaila.cn/1569464839630.jpg" alt="img"><br>å»ºç«‹ç´¢å¼•ï¼Œé»˜è®¤çš„ç´¢å¼•æ˜¯æ ¹æ®å¤©æ¥è‡ªåŠ¨åˆ›å»ºåœ¨esé‡Œé¢ï¼Œè¿™é‡Œæˆ‘æ˜¯åœ¨kibanaé‡Œé¢æ˜¯æ ¹æ®æœˆæ¥å´åˆ†çš„<br><img src="https://img.xxlaila.cn/1569464950776.jpg" alt="img"></p></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–é…ç½®æ–‡ä»¶å‡†å¤‡&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å°†ä¸‹è½½çš„ kubernetes-server-linux-amd64.tar.gz è§£å‹åï¼Œå†è§£å‹å…¶ä¸­çš„ kubernetes-src.tar.gz æ–‡ä»¶ã€‚&lt;code&gt;kubernetes/cluster/addons/fluentd-elasticsearch&lt;/code&gt;è¿™æ˜¯æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;es æ•°æ®é»˜è®¤çš„å­˜å‚¨åœ¨dockeré‡Œé¢ï¼Œåœ¨ç”¨çš„æ˜¯nodeèŠ‚ç‚¹çš„ç©ºé—´ï¼Œè€ŒnodeèŠ‚ç‚¹æˆ‘ä»¬ä¸å¯èƒ½éƒ½å‡†å¤‡å¾ˆå¤§çš„ç©ºé—´ï¼Œé‚£æ ·å¾ˆæµªè´¹èµ„æºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¤–éƒ¨çš„nfså­˜å‚¨ç©ºé—´ï¼Œç„¶åé€šè¿‡&lt;a href=&quot;https://xxlaila.github.io/2019/09/24/%E5%88%A9%E7%94%A8NFS%E5%8A%A8%E6%80%81%E6%8F%90%E4%BE%9BKubernetes%E5%90%8E%E7%AB%AF%E5%AD%98%E5%82%A8%E5%8D%B7/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;pv&lt;/a&gt;çš„æ¨¡å¼è¿›è¡ŒæŒ‚è½½ï¼Œæ•°æ®å­˜å‚¨åˆ°nfsæœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·ä¿éšœäº†esæ”¶é›†æ•°æ®çš„å¯ç”¨æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="kubernetes" scheme="https://www.xxlaila.cn/categories/kubernetes/"/>
    
    
      <category term="efk" scheme="https://www.xxlaila.cn/tags/efk/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œçŠ¶æ€ç›‘æ§</title>
    <link href="https://www.xxlaila.cn/2019/09/25/%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E7%9B%91%E6%8E%A7/"/>
    <id>https://www.xxlaila.cn/2019/09/25/ç½‘ç»œçŠ¶æ€ç›‘æ§/</id>
    <published>2019-09-25T05:27:04.000Z</published>
    <updated>2019-10-29T02:01:35.711Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›‘æ§IDCæœºæˆ¿ç½‘ç»œè´¨é‡æƒ…å†µï¼Œæœ¬åœ°åŒºåˆ°å…¶ä»–åœ°åŒºï¼Œå…¶ä»–åœ°åŒºåˆ°æœ¬èŠ‚ç‚¹ï¼Œæˆ–è€…å„çœå¸‚æ—¶é—´ç½‘ç»œã€è¿è¥å•†ç½‘ç»œçŠ¶æ€ï¼Œç›‘è§†ç½‘ç»œæ€§èƒ½ï¼ŒåŒ…æ‹¬å¸¸è§„çš„ pingï¼Œç”¨ fpingã€echopingã€tracert ç›‘è§† www æœåŠ¡å™¨æ€§èƒ½ï¼Œç›‘è§† dns æŸ¥è¯¢æ€§èƒ½ï¼Œç›‘è§† ssh æ€§èƒ½ç­‰ã€‚åº•å±‚ä¹Ÿæ˜¯ rrdtool åšæ”¯æŒï¼Œç‰¹ç‚¹æ˜¯ç”»çš„å›¾éå¸¸æ¼‚äº®ï¼Œç½‘ç»œä¸¢åŒ…å’Œå»¶è¿Ÿç”¨é¢œè‰²å’Œé˜´å½±æ¥è¡¨ç¤ºã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Smokepingã€‚æœ€æ–°ç‰ˆæœ¬çš„ Smokeping æ”¯æŒå¤šä¸ªèŠ‚ç‚¹çš„æ£€æµ‹ç»“æœä»ä¸€ä¸ªå›¾ä¸Šç”»å‡ºæ¥</p><a id="more"></a><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><h4 id="å®‰è£…yumæº"><a href="#å®‰è£…yumæº" class="headerlink" title="å®‰è£…yumæº"></a>å®‰è£…yumæº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm               </span></span><br><span class="line"><span class="comment"># rpm â€“Uvh http://mirrors.neusoft.edu.cn/epel/6/i386/epel-release-6-8.noarch.rpm</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…ä¾èµ–åŒ…"><a href="#å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ä¾èµ–åŒ…"></a>å®‰è£…ä¾èµ–åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum â€“y install perl perl-Net-Telnet perl-Net-DNS perl-LDAP perl-libwww-perl perl-RadiusPerl perl-IO-Socket-SSL perl-Socket6 perl-CGI-SpeedyCGI perl-FCGI perl-CGI-SpeedCGI perl-Time-HiRes perl-ExtUtils-MakeMaker perl-RRD-Simple rrdtool rrdtool-perl curl fping echo</span></span><br><span class="line">ping  httpd httpd-devel gcc make  wget libxml2-devel libpng-devel glib pango pango-devel freetype freetype-devel fontconfig cairo cairo-devel libart_lgpl libart_lgpl-devel mod_fastcgi</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…smokeping"><a href="#å®‰è£…smokeping" class="headerlink" title="å®‰è£…smokeping"></a>å®‰è£…smokeping</h3><h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget http://oss.oetiker.ch/smokeping/pub/smokeping-2.6.11.tar.gz è¿™é‡Œä¸‹è½½çš„æœ€æ–°ç‰ˆ</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…FCGI"><a href="#å®‰è£…FCGI" class="headerlink" title="å®‰è£…FCGI"></a>å®‰è£…FCGI</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf CGI-4.33.tar.gz</span></span><br><span class="line"><span class="comment"># cd CGI-4.33</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Config-Grammar"><a href="#å®‰è£…Config-Grammar" class="headerlink" title="å®‰è£…Config-Grammar"></a>å®‰è£…Config-Grammar</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf Config-Grammar-1.10.tar.gz</span></span><br><span class="line"><span class="comment"># cd Config-Grammar-1.10</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…ExtUtils-MakeMaker"><a href="#å®‰è£…ExtUtils-MakeMaker" class="headerlink" title="å®‰è£…ExtUtils-MakeMaker"></a>å®‰è£…ExtUtils-MakeMaker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf ExtUtils-MakeMaker-7.24.tar.gz</span></span><br><span class="line"><span class="comment"># cd ExtUtils-MakeMaker</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Simple"><a href="#å®‰è£…Simple" class="headerlink" title="å®‰è£…Simple"></a>å®‰è£…Simple</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf Test-Simple-1.302056.tar.gz</span></span><br><span class="line"><span class="comment"># cd Test-Simple-1.302056</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br><span class="line">`</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Net-OpenSSH"><a href="#å®‰è£…Net-OpenSSH" class="headerlink" title="å®‰è£…Net-OpenSSH"></a>å®‰è£…Net-OpenSSH</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf Net-OpenSSH-0.73.tar.gz</span></span><br><span class="line"><span class="comment"># cd Net-OpenSSH-0.73</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Net-SNMP"><a href="#å®‰è£…Net-SNMP" class="headerlink" title="å®‰è£…Net-SNMP"></a>å®‰è£…Net-SNMP</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar Net-SNMP-v6.0.1.tar.gz</span></span><br><span class="line"><span class="comment"># cd Net-SNMP-v6.0.1</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…perl-ldap"><a href="#å®‰è£…perl-ldap" class="headerlink" title="å®‰è£…perl-ldap"></a>å®‰è£…perl-ldap</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf perl-ldap-0.65.tar.gz</span></span><br><span class="line"><span class="comment"># cd perl-ldap-0.65</span></span><br><span class="line"><span class="comment"># ./install-nomake</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Net-DNS"><a href="#å®‰è£…Net-DNS" class="headerlink" title="å®‰è£…Net-DNS"></a>å®‰è£…Net-DNS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf Net-DNS-1.06.tar.gz</span></span><br><span class="line"><span class="comment"># cd Net-DNS-1.06</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…IO-Tty"><a href="#å®‰è£…IO-Tty" class="headerlink" title="å®‰è£…IO-Tty"></a>å®‰è£…IO-Tty</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar IO-Tty-1.12.tar.gz</span></span><br><span class="line"><span class="comment"># cd IO-Tty-1.12</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…libwww-perl"><a href="#å®‰è£…libwww-perl" class="headerlink" title="å®‰è£…libwww-perl"></a>å®‰è£…libwww-perl</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf libwww-perl-6.15.tar.gz</span></span><br><span class="line"><span class="comment"># cd libwww-perl-6.15</span></span><br><span class="line"><span class="comment"># perl Makefile.PL</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…smokeping-1"><a href="#å®‰è£…smokeping-1" class="headerlink" title="å®‰è£…smokeping"></a>å®‰è£…smokeping</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf smokeping-2.6.11.tar.gz</span></span><br><span class="line"><span class="comment"># cd smokeping-2.6.11</span></span><br><span class="line"><span class="comment"># ./configure --prefix=/usr/local/smokeping</span></span><br><span class="line"><span class="comment"># /usr/bin/gmake install</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯æ‰‹åŠ¨å®‰è£…ï¼Œé’ˆå¯¹ç½‘ç»œä¸èƒ½ç¿»å¢™ã€‚ä¹Ÿå¯ä»¥é‡‡å–smokepingä¸€é”®å®‰è£…çš„æ–¹å¼è¿›è¡Œå®‰è£…</p><h3 id="smokepingä¸€é”®å®‰è£…"><a href="#smokepingä¸€é”®å®‰è£…" class="headerlink" title="smokepingä¸€é”®å®‰è£…"></a>smokepingä¸€é”®å®‰è£…</h3><h4 id="å®‰è£…smokeping-2"><a href="#å®‰è£…smokeping-2" class="headerlink" title="å®‰è£…smokeping"></a>å®‰è£…smokeping</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar zxf smokeping-2.6.11.tar.gz</span></span><br><span class="line"><span class="comment"># cd smokeping-2.6.11</span></span><br><span class="line"><span class="comment"># ./setup/build-perl-modules.sh /usr/local/smokeping/thirdparty</span></span><br><span class="line"><span class="comment"># ./configure --prefix=/usr/local/smokeping</span></span><br><span class="line"><span class="comment"># /usr/bin/gmake install</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®smkeping"><a href="#é…ç½®smkeping" class="headerlink" title="é…ç½®smkeping"></a>é…ç½®smkeping</h3><h4 id="åˆ›å»ºcacheã€dataã€varç›®å½•"><a href="#åˆ›å»ºcacheã€dataã€varç›®å½•" class="headerlink" title="åˆ›å»ºcacheã€dataã€varç›®å½•"></a>åˆ›å»ºcacheã€dataã€varç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /usr/local/smokeping/</span></span><br><span class="line"><span class="comment"># mkdir &#123;cache,data,var&#125;</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºæ—¥å¿—æ–‡ä»¶"><a href="#åˆ›å»ºæ—¥å¿—æ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ—¥å¿—æ–‡ä»¶"></a>åˆ›å»ºæ—¥å¿—æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># touch /var/log/smokeping.log</span></span><br></pre></td></tr></table></figure><h4 id="èµ‹æƒé™"><a href="#èµ‹æƒé™" class="headerlink" title="èµ‹æƒé™"></a>èµ‹æƒé™</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chown apache:apache cache/ data/ var/</span></span><br><span class="line"><span class="comment"># chown  apache:apache /var/log/smokeping.log</span></span><br><span class="line"><span class="comment"># chmod 755 cache/ data/ var/    #è¿™é‡Œä¹Ÿè¦èµ‹æƒé™ï¼Œä¼šå½±å“å›¾ç‰‡æ— æ³•åŠ è½½</span></span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/local/smokeping/htdocs</span></span><br><span class="line"><span class="comment"># cp -arp smokeping.fcgi.dist smokeping.fcgi</span></span><br><span class="line"><span class="comment"># cd ../etc/</span></span><br><span class="line"><span class="comment"># cp -arp config.dist config</span></span><br><span class="line"><span class="comment"># chmod 600 /usr/local/smokeping/etc/smokeping_secrets.dist</span></span><br><span class="line"><span class="comment"># vim config</span></span><br><span class="line">*** General ***</span><br><span class="line">owner    = Peter Random</span><br><span class="line">contact  = some@address.nowhere</span><br><span class="line">mailhost = my.mail.host</span><br><span class="line">sendmail = /usr/sbin/sendmail</span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> do not put the Image Cache below cgi-bin</span></span><br><span class="line"><span class="comment"># since all files under cgi-bin will be executed ... this is not</span></span><br><span class="line"><span class="comment"># good for images.</span></span><br><span class="line">imgcache = /usr/<span class="built_in">local</span>/smokeping/cache</span><br><span class="line">imgurl   = http://172.16.1.100/cache                                                      <span class="comment">#è¿™é‡Œå¦‚æœä¸é…ç½®æ­£ç¡®ï¼Œä¼šå½±å“åé¢å‡ºå›¾ï¼Œè¿™é‡Œä¸€ä¸ªå‘</span></span><br><span class="line">datadir  = /usr/<span class="built_in">local</span>/smokeping/data</span><br><span class="line">piddir  = /usr/<span class="built_in">local</span>/smokeping/var</span><br><span class="line">cgiurl   = http://172.16.1.100/smokeping/smokeping.cgi</span><br><span class="line"><span class="comment">#cgiurl   = http://some.url/smokeping.cgi</span></span><br><span class="line">smokemail = /usr/<span class="built_in">local</span>/smokeping/etc/smokemail.dist</span><br><span class="line">tmail = /usr/<span class="built_in">local</span>/smokeping/etc/tmail.dist</span><br><span class="line"><span class="comment"># specify this to get syslog logging</span></span><br><span class="line">syslogfacility = local0</span><br><span class="line"><span class="comment"># each probe is now run in its own process</span></span><br><span class="line"><span class="comment"># disable this to revert to the old behaviour</span></span><br><span class="line"><span class="comment"># concurrentprobes = no</span></span><br><span class="line">*** Alerts ***</span><br><span class="line">to = alertee@address.somewhere</span><br><span class="line">from = smokealert@company.xy</span><br><span class="line">+someloss</span><br><span class="line"><span class="built_in">type</span> = loss</span><br><span class="line"><span class="comment"># in percent</span></span><br><span class="line">pattern = &gt;0%,*12*,&gt;0%,*12*,&gt;0%</span><br><span class="line">comment = loss 3 <span class="built_in">times</span>  <span class="keyword">in</span> a row</span><br><span class="line">*** Database ***</span><br><span class="line">step     = 60                                              <span class="comment">#æ£€æµ‹æ—¶é—´ï¼Œé»˜è®¤300</span></span><br><span class="line">pings    = 20</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶ä¸Šè¿°ä¿®æ”¹å¸¦æœ‰æ³¨è§†éƒ¨åˆ†ï¼Œå…¶ä»–å‚æ•°å‚è€ƒå®˜æ–¹ï¼Œè€Œä¸”éƒ½èƒ½çœ‹æ‡‚ã€‚åé¢æœ‰å¾ˆå¤šé…ç½®ä¸å…¨éƒ¨è´´å‡ºæ¥</p><h3 id="é…ç½®apache"><a href="#é…ç½®apache" class="headerlink" title="é…ç½®apache"></a>é…ç½®apache</h3><h4 id="é…ç½®httpd-conf"><a href="#é…ç½®httpd-conf" class="headerlink" title="é…ç½®httpd.conf"></a>é…ç½®httpd.conf</h4><p>åœ¨DocumentRoot â€œ/var/www/htmlâ€è¿™è¡Œå¢åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/httpd/conf/httpd.conf</span></span><br><span class="line">Alias /cache <span class="string">"/usr/local/smokeping/cache"</span></span><br><span class="line">Alias /cropper <span class="string">"/usr/local/smokeping/htdocs/cropper"</span></span><br><span class="line">Alias /smokeping <span class="string">"/usr/local/smokeping/htdocs/smokeping.fcgi"</span></span><br><span class="line">&lt;Directory <span class="string">"/usr/local/smokeping"</span>&gt;</span><br><span class="line">        AllowOverride None</span><br><span class="line">        Options All</span><br><span class="line">        AddHandler cgi-script .fcgi .cgi</span><br><span class="line">        Order allow,deny</span><br><span class="line">        Allow from all</span><br><span class="line">        AuthName <span class="string">"Smokeping"</span></span><br><span class="line">        AuthType Basic</span><br><span class="line">        AuthUserFile /usr/<span class="built_in">local</span>/smokeping/htdocs/htpasswd</span><br><span class="line">        Require valid-user</span><br><span class="line">        DirectoryIndex smokeping.fcgi</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h4 id="apacheç™»å½•è®¤è¯"><a href="#apacheç™»å½•è®¤è¯" class="headerlink" title="apacheç™»å½•è®¤è¯"></a>apacheç™»å½•è®¤è¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/local/smokeping/htdocs</span></span><br><span class="line"><span class="comment"># htpasswd -c /usr/local/smokeping/htdocs/htpasswd admin                   #å›è½¦è®¾ç½®adminè´¦æˆ·çš„å¯†ç </span></span><br></pre></td></tr></table></figure><h4 id="å®‰è£…ç½‘é¡µæ”¯æŒçš„ä¸­æ–‡å­—ä½“"><a href="#å®‰è£…ç½‘é¡µæ”¯æŒçš„ä¸­æ–‡å­—ä½“" class="headerlink" title="å®‰è£…ç½‘é¡µæ”¯æŒçš„ä¸­æ–‡å­—ä½“"></a>å®‰è£…ç½‘é¡µæ”¯æŒçš„ä¸­æ–‡å­—ä½“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum -y install wqy-zenhei-fonts.noarch</span></span><br></pre></td></tr></table></figure><h4 id="smokepingå¼€æœºè„šæœ¬"><a href="#smokepingå¼€æœºè„šæœ¬" class="headerlink" title="smokepingå¼€æœºè„šæœ¬"></a>smokepingå¼€æœºè„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/init.d/smokeping</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">PIDFILE=/usr/<span class="built_in">local</span>/smokeping/var/smokeping.pid</span><br><span class="line">SMOKEPING=/usr/<span class="built_in">local</span>/smokeping/bin/smokeping</span><br><span class="line">ERROR=0</span><br><span class="line">RUNNING=0</span><br><span class="line">ARGV=<span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"x<span class="variable">$ARGV</span>"</span> = <span class="string">"x"</span> ] ; <span class="keyword">then</span></span><br><span class="line">ARGS=<span class="built_in">help</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">for</span> ARG <span class="keyword">in</span> <span class="variable">$@</span> <span class="variable">$ARGS</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="variable">$PIDFILE</span> ] ; <span class="keyword">then</span></span><br><span class="line">PID=`cat <span class="variable">$PIDFILE</span>`</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">kill</span> -0 <span class="variable">$PID</span> 2&gt;/dev/null ; <span class="keyword">then</span></span><br><span class="line"><span class="comment"># smokeping is running</span></span><br><span class="line">RUNNING=1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment"># smokeping not running but PID file exists =&gt; delete PID file</span></span><br><span class="line">rm -f <span class="variable">$PIDFILE</span></span><br><span class="line">RUNNING=0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment"># smokeping (no pid file) not running</span></span><br><span class="line">RUNNING=0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$ARG</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$RUNNING</span> -eq 0 ] ; <span class="keyword">then</span></span><br><span class="line"><span class="keyword">if</span> <span class="variable">$SMOKEPING</span> &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping started"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping could not be started"</span></span><br><span class="line">ERROR=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping is running with PID <span class="variable">$PID</span>"</span></span><br><span class="line">ERROR=2</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$RUNNING</span> -eq 1 ] ; <span class="keyword">then</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">kill</span> <span class="variable">$PID</span> ; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping (<span class="variable">$PID</span>) stopped"</span></span><br><span class="line">rm <span class="variable">$PIDFILE</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping could not be stopped"</span></span><br><span class="line">ERROR=3</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping not running"</span></span><br><span class="line">ERROR=4</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$RUNNING</span> -eq 1 ] ; <span class="keyword">then</span></span><br><span class="line"><span class="keyword">if</span> <span class="variable">$SMOKEPING</span> --restart &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping restarted"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping could not be started"</span></span><br><span class="line">ERROR=5</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="variable">$0</span> start</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">;;</span><br><span class="line">strace_debug)</span><br><span class="line">rm -f /tmp/strace_smokeping</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$RUNNING</span> -eq 1 ] ; <span class="keyword">then</span></span><br><span class="line"><span class="keyword">if</span> strace -o/tmp/strace_smokeping <span class="variable">$SMOKEPING</span> --restart &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping restarted with strace debug in /tmp/strace_smokeping"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping strace debug could not be started"</span></span><br><span class="line">ERROR=6</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">if</span> strace -o/tmp/strace_smokeping <span class="variable">$SMOKEPING</span> &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping started with strace debug in /tmp/strace_smokeping"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping strace debug could not be started"</span></span><br><span class="line">ERROR=7</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">;;</span><br><span class="line">status)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$RUNNING</span> -eq 1 ] ; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping is running with PID (<span class="variable">$PID</span>)"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span> <span class="variable">$ARG</span>: smokeping is not running"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"usage: <span class="variable">$0</span> (start|stop|restart|status|strace_debug|help)"</span></span><br><span class="line">cat</span><br><span class="line">start - start smokeping</span><br><span class="line">stop - stop smokeping</span><br><span class="line">restart - restart smokeping <span class="keyword">if</span> running or start <span class="keyword">if</span> not running</span><br><span class="line">status - show status <span class="keyword">if</span> smokeping is running or not</span><br><span class="line"><span class="built_in">help</span> - this screen</span><br><span class="line">EOF</span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">exit</span> <span class="variable">$ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># chmod +x /etc/init.d/smokeping</span></span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># service httpd start</span></span><br><span class="line"><span class="comment"># /etc/init.d/smokeping start</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨æµ‹è¯•http://{ip}/smokeping ä¼šæç¤ºè¾“å…¥ç”¨æˆ·å’Œå¯†ç <br><img src="https://img.xxlaila.cn/74D2C8DE-129F-4219-87C5-D6A771D19484.png" alt="img"><br><img src="https://img.xxlaila.cn/91D9FA70-65B1-4752-8F15-68A158E72A49.png" alt="img"></p><h4 id="é…ç½®æ–‡ä»¶æ·»åŠ "><a href="#é…ç½®æ–‡ä»¶æ·»åŠ " class="headerlink" title="é…ç½®æ–‡ä»¶æ·»åŠ "></a>é…ç½®æ–‡ä»¶æ·»åŠ </h4><p>é…ç½®æ–‡ä»¶æ·»ä»‹ç»ï¼Œåœ¨é…ç½®æ–‡ä»¶é‡Œé¢+è¡¨ç¤ºä¸€çº§++è¡¨ç¤ºäºŒçº§+++ä¸‰çº§<br>æœ¬æ¬¡æ·»åŠ çš„å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line">+ Other</span><br><span class="line">menu = å…¶ä»–ç½‘ç»œç›‘æ§</span><br><span class="line">title = å…¶ä»–æ‰€æœ‰ç½‘ç»œç›‘æ§åˆ—è¡¨</span><br><span class="line">++ dianxin</span><br><span class="line">menu = ç”µä¿¡ç½‘ç»œç›‘æ§</span><br><span class="line">title = ç”µä¿¡ç½‘ç»œç›‘æ§åˆ—è¡¨</span><br><span class="line">host = /Other/dianxin/dianxin-hlj /Other/dianxin/dianxin-gd /Other/dianxin/dianxin-gs /Other/dianxin/dianxin-sh /Other/dianxin/dianxin-sc /Other/dianxin/dianxin-cq /Other/dianxin/dianxin-gz /Other/dianxin/dianxin-ln /Other/dianxin/dianxin-zj /Other/dianxin/dianxin-sd /Other/dianxin/dianxin-hib /Other/dianxin/dianxin-ah /Other/dianxin/dianxin-hb /Other/dianxin/dianxin-jl /Other/dianxin/dianxin-jx</span><br><span class="line">+++ dianxin-hlj</span><br><span class="line">menu = é»‘é¾™æ±Ÿç”µä¿¡</span><br><span class="line">title = é»‘é¾™æ±Ÿç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 219.150.32.132</span><br><span class="line">+++ dianxin-gd</span><br><span class="line">menu = å¹¿ä¸œç”µä¿¡</span><br><span class="line">title = å¹¿ä¸œç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.96.134.133</span><br><span class="line">+++ dianxin-gs</span><br><span class="line">menu = ç”˜è‚ƒç”µä¿¡</span><br><span class="line">title = ç”˜è‚ƒç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.100.64.68</span><br><span class="line">+++ dianxin-sh</span><br><span class="line">menu = ä¸Šæµ·ç”µä¿¡</span><br><span class="line">title = ä¸Šæµ·ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.96.209.5</span><br><span class="line">+++ dianxin-sc</span><br><span class="line">menu = å››å·ç”µä¿¡</span><br><span class="line">title = å››å·ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 218.6.145.111</span><br><span class="line">+++ dianxin-cq</span><br><span class="line">menu = é‡åº†ç”µä¿¡</span><br><span class="line">title = é‡åº†ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 61.128.128.68</span><br><span class="line">+++ dianxin-gz</span><br><span class="line">menu = è´µå·ç”µä¿¡</span><br><span class="line">title = è´µå·ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.98.192.68</span><br><span class="line">+++ dianxin-ln</span><br><span class="line">menu = è¾½å®ç”µä¿¡</span><br><span class="line">title = è¾½å®ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 219.149.6.99</span><br><span class="line">+++ dianxin-zj</span><br><span class="line">menu = æµ™æ±Ÿç”µä¿¡</span><br><span class="line">title = æµ™æ±Ÿç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.96.96.68</span><br><span class="line">+++ dianxin-sd</span><br><span class="line">menu = å±±ä¸œç”µä¿¡</span><br><span class="line">title = å±±ä¸œç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 222.173.95.53</span><br><span class="line">+++ dianxin-hib</span><br><span class="line">menu = æ¹–åŒ—ç”µä¿¡</span><br><span class="line">title = æ¹–åŒ—ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.103.0.68</span><br><span class="line">+++ dianxin-ah</span><br><span class="line">menu = å®‰å¾½ç”µä¿¡</span><br><span class="line">title = å®‰å¾½ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 220.178.75.134</span><br><span class="line">+++ dianxin-hb</span><br><span class="line">menu = æ²³åŒ—ç”µä¿¡</span><br><span class="line">title = æ²³åŒ—ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.99.160.68</span><br><span class="line">+++ dianxin-jl</span><br><span class="line">menu = å‰æ—ç”µä¿¡</span><br><span class="line">title = å‰æ—ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host =  219.149.194.55</span><br><span class="line">+++ dianxin-jx</span><br><span class="line">menu = æ±Ÿè¥¿ç”µä¿¡</span><br><span class="line">title = æ±Ÿè¥¿ç”µä¿¡</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.101.224.68</span><br><span class="line"><span class="comment">#+++ dianxin-multi</span></span><br><span class="line"><span class="comment">#menu = å¤šä¸ªç”µä¿¡ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#title = å¤šä¸ªç”µä¿¡ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#alerts = someloss</span></span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line"><span class="comment">#host = /Other/dianxin/dianxin-hlj /Other/dianxin/dianxin-gd /Other/dianxin/dianxin-gs /Other/dianxin/dianxin-sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">++ liantong</span><br><span class="line">menu = è”é€šç½‘ç»œç›‘æ§</span><br><span class="line">title = è”é€šç½‘ç»œç›‘æ§åˆ—è¡¨</span><br><span class="line">host = /Other/liantong/liantong-hlj /Other/liantong/liantong-gd /Other/liantong/liantong-gs /Other/liantong/liantong-sh /Other/liantong/liantong-sc /Other/liantong/liantong-cq /Other/liantong/liantong-gz /Other/liantong/liantong-ln /Other/liantong/liantong-zj /Other/liantong/liantong-sd /Other/liantong/liantong-hib /Other/liantong/liantong-ah /Other/liantong/liantong-hb /Other/liantong/liantong-jl /Other/liantong/liantong-jx</span><br><span class="line">+++ liantong-hlj</span><br><span class="line">menu = é»‘é¾™æ±Ÿè”é€š</span><br><span class="line">title = é»‘é¾™æ±Ÿè”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.97.224.68</span><br><span class="line">+++ liantong-gd</span><br><span class="line">menu = å¹¿ä¸œè”é€š</span><br><span class="line">title = å¹¿ä¸œè”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 221.4.66.66</span><br><span class="line">+++ liantong-gs</span><br><span class="line">menu = ç”˜è‚ƒè”é€š</span><br><span class="line">title = ç”˜è‚ƒè”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 221.7.34.10</span><br><span class="line">+++ liantong-sh</span><br><span class="line">menu = ä¸Šæµ·è”é€š</span><br><span class="line">title = ä¸Šæµ·è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 210.22.70.3</span><br><span class="line">+++ liantong-sc</span><br><span class="line">menu = å››å·è”é€š</span><br><span class="line">title = å››å·è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 119.6.6.6</span><br><span class="line">+++ liantong-cq</span><br><span class="line">menu = é‡åº†è”é€š</span><br><span class="line">title = é‡åº†è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 221.7.92.98</span><br><span class="line">+++ liantong-gz</span><br><span class="line">menu = è´µå·è”é€š</span><br><span class="line">title = è´µå·è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 221.13.30.242</span><br><span class="line">+++ liantong-ln</span><br><span class="line">menu = è¾½å®è”é€š</span><br><span class="line">title = è¾½å®è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 124.161.97.234</span><br><span class="line">+++ liantong-zj</span><br><span class="line">menu = æµ™æ±Ÿè”é€š</span><br><span class="line">title = æµ™æ±Ÿè”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 221.12.33.227</span><br><span class="line">+++ liantong-sd</span><br><span class="line">menu = å±±ä¸œè”é€š</span><br><span class="line">title = å±±ä¸œè”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.102.152.3</span><br><span class="line">+++ liantong-hib</span><br><span class="line">menu = æ¹–åŒ—è”é€š</span><br><span class="line">title = æ¹–åŒ—è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 218.104.111.114</span><br><span class="line">+++ liantong-ah</span><br><span class="line">menu = å®‰å¾½è”é€š</span><br><span class="line">title = å®‰å¾½è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.91.88.129</span><br><span class="line">+++ liantong-hb</span><br><span class="line">menu = æ²³åŒ—è”é€š</span><br><span class="line">title = æ²³åŒ—è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.99.160.68</span><br><span class="line">+++ liantong-jl</span><br><span class="line">menu = å‰æ—è”é€š</span><br><span class="line">title = å‰æ—è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 202.98.5.6</span><br><span class="line">+++ liantong-jx</span><br><span class="line">menu = æ±Ÿè¥¿è”é€š</span><br><span class="line">title = æ±Ÿè¥¿è”é€š</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 220.248.192.12</span><br><span class="line"><span class="comment">#+++ liantong-multi</span></span><br><span class="line"><span class="comment">#menu = å¤šä¸ªè”é€šç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#title = å¤šä¸ªè”é€šç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#alerts = someloss</span></span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line"><span class="comment">#host = /Other/liantong/liantong-hlj /Other/liantong/liantong-gd /Other/liantong/liantong-gs /Other/liantong/liantong-sh</span></span><br><span class="line">++ yidong</span><br><span class="line">menu = ç§»åŠ¨ç½‘ç»œç›‘æ§</span><br><span class="line">title = ç§»åŠ¨ç½‘ç»œç›‘æ§åˆ—è¡¨</span><br><span class="line">host = /Other/yidong/yidong-hlj /Other/yidong/yidong-gd /Other/yidong/yidong-gs /Other/yidong/yidong-sh /Other/yidong/yidong-sc /Other/yidong/yidong-cq /Other/yidong/yidong-gz /Other/yidong/yidong-ln /Other/yidong/yidong-zj /Other/yidong/yidong-sd /Other/yidong/yidong-hib /Other/yidong/yidong-ah /Other/yidong/yidong-hb</span><br><span class="line">+++ yidong-hlj</span><br><span class="line">menu = é»‘é¾™æ±Ÿç§»åŠ¨</span><br><span class="line">title = é»‘é¾™æ±Ÿç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 211.137.241.34</span><br><span class="line">+++ yidong-gd</span><br><span class="line">menu = å¹¿ä¸œç§»åŠ¨</span><br><span class="line">title = å¹¿ä¸œç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 211.137.241.34</span><br><span class="line">+++ yidong-gs</span><br><span class="line">menu = ç”˜è‚ƒç§»åŠ¨</span><br><span class="line">title = ç”˜è‚ƒç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 218.203.160.194</span><br><span class="line">+++ yidong-sh</span><br><span class="line">menu = ä¸Šæµ·ç§»åŠ¨</span><br><span class="line">title = ä¸Šæµ·ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 117.131.0.22</span><br><span class="line">+++ yidong-sc</span><br><span class="line">menu = å››å·ç§»åŠ¨</span><br><span class="line">title = å››å·ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.137.96.205</span><br><span class="line">+++ yidong-cq</span><br><span class="line">menu = é‡åº†ç§»åŠ¨</span><br><span class="line">title = é‡åº†ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 218.201.4.3</span><br><span class="line">+++ yidong-gz</span><br><span class="line">menu = è´µå·ç§»åŠ¨</span><br><span class="line">title = è´µå·ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.139.1.3</span><br><span class="line">+++ yidong-ln</span><br><span class="line">menu = è¾½å®ç§»åŠ¨</span><br><span class="line">title = è¾½å®ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 218.59.181.182</span><br><span class="line">+++ yidong-zj</span><br><span class="line">menu = æµ™æ±Ÿç§»åŠ¨</span><br><span class="line">title = æµ™æ±Ÿç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.140.10.2</span><br><span class="line">+++ yidong-sd</span><br><span class="line">menu = å±±ä¸œç§»åŠ¨</span><br><span class="line">title = å±±ä¸œç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.137.191.26</span><br><span class="line">+++ yidong-hib</span><br><span class="line">menu = æ¹–åŒ—ç§»åŠ¨</span><br><span class="line">title = æ¹–åŒ—ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.137.76.68</span><br><span class="line">+++ yidong-ah</span><br><span class="line">menu = å®‰å¾½ç§»åŠ¨</span><br><span class="line">title = å®‰å¾½ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.138.180.2</span><br><span class="line">+++ yidong-hb</span><br><span class="line">menu = æ²³åŒ—ç§»åŠ¨</span><br><span class="line">title = æ²³åŒ—ç§»åŠ¨</span><br><span class="line">alerts = someloss</span><br><span class="line">host = 211.98.2.4</span><br><span class="line"><span class="comment">#+++ yidong-multi</span></span><br><span class="line"><span class="comment">#menu = å¤šä¸ªç§»åŠ¨ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#title = å¤šä¸ªç§»åŠ¨ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#alerts = someloss</span></span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line"><span class="comment">#host = /Other/yidong/yidong-hlj /Other/yidong/yidong-gd /Other/yidong/yidong-gs /Other/yidong/yidong-sh</span></span><br><span class="line">++ jiaoyu</span><br><span class="line">menu = æ•™è‚²ç½‘ç»œç›‘æ§</span><br><span class="line">title = æ•™è‚²ç½‘ç»œç›‘æ§åˆ—è¡¨</span><br><span class="line">host = /Other/jiaoyu/jiaoyu-qh /Other/jiaoyu/jiaoyu-sh /Other/jiaoyu/jiaoyu-wh /Other/jiaoyu/jiaoyu-hn</span><br><span class="line">+++ jiaoyu-qh</span><br><span class="line">menu = æ¸…åå¤§å­¦</span><br><span class="line">title = æ¸…åå¤§å­¦</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 166.111.8.28</span><br><span class="line">+++ jiaoyu-sh</span><br><span class="line">menu = ä¸Šæµ·äº¤å¤§</span><br><span class="line">title = ä¸Šæµ·äº¤å¤§</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.112.26.34</span><br><span class="line">+++ jiaoyu-wh</span><br><span class="line">menu = æ­¦æ±‰ç§‘æŠ€å¤§å­¦</span><br><span class="line">title = æ­¦æ±‰ç§‘æŠ€å¤§å­¦</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.114.240.6</span><br><span class="line">+++ jiaoyu-hn</span><br><span class="line">menu = åå—å†œä¸šå¤§å­¦</span><br><span class="line">title = åå—å†œä¸šå¤§å­¦</span><br><span class="line">alerts = someloss</span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line">host = 202.116.160.33</span><br><span class="line"><span class="comment">#+++ jiaoyu-multi</span></span><br><span class="line"><span class="comment">#menu = å¤šä¸ªæ•™è‚²ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#title = å¤šä¸ªæ•™è‚²ç½‘ç»œç›‘æ§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#alerts = someloss</span></span><br><span class="line"><span class="comment">#slaves = boomer slave2</span></span><br><span class="line"><span class="comment">#host = /Other/jiaoyu/jiaoyu-qh /Other/jiaoyu/jiaoyu-sh /Other/jiaoyu/jiaoyu-wh /Other/jiaoyu/jiaoyu-hn</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:23 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç›‘æ§IDCæœºæˆ¿ç½‘ç»œè´¨é‡æƒ…å†µï¼Œæœ¬åœ°åŒºåˆ°å…¶ä»–åœ°åŒºï¼Œå…¶ä»–åœ°åŒºåˆ°æœ¬èŠ‚ç‚¹ï¼Œæˆ–è€…å„çœå¸‚æ—¶é—´ç½‘ç»œã€è¿è¥å•†ç½‘ç»œçŠ¶æ€ï¼Œç›‘è§†ç½‘ç»œæ€§èƒ½ï¼ŒåŒ…æ‹¬å¸¸è§„çš„ pingï¼Œç”¨ fpingã€echopingã€tracert ç›‘è§† www æœåŠ¡å™¨æ€§èƒ½ï¼Œç›‘è§† dns æŸ¥è¯¢æ€§èƒ½ï¼Œç›‘è§† ssh æ€§èƒ½ç­‰ã€‚åº•å±‚ä¹Ÿæ˜¯ rrdtool åšæ”¯æŒï¼Œç‰¹ç‚¹æ˜¯ç”»çš„å›¾éå¸¸æ¼‚äº®ï¼Œç½‘ç»œä¸¢åŒ…å’Œå»¶è¿Ÿç”¨é¢œè‰²å’Œé˜´å½±æ¥è¡¨ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Smokepingã€‚æœ€æ–°ç‰ˆæœ¬çš„ Smokeping æ”¯æŒå¤šä¸ªèŠ‚ç‚¹çš„æ£€æµ‹ç»“æœä»ä¸€ä¸ªå›¾ä¸Šç”»å‡ºæ¥&lt;/p&gt;
    
    </summary>
    
      <category term="ç›‘æ§" scheme="https://www.xxlaila.cn/categories/%E7%9B%91%E6%8E%A7/"/>
    
    
      <category term="Smokeping" scheme="https://www.xxlaila.cn/tags/Smokeping/"/>
    
  </entry>
  
  <entry>
    <title>Linux å¸¸ç”¨å‘½ä»¤å­¦ä¹ </title>
    <link href="https://www.xxlaila.cn/2019/09/25/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0/"/>
    <id>https://www.xxlaila.cn/2019/09/25/Linuxå¸¸ç”¨å‘½ä»¤å­¦ä¹ /</id>
    <published>2019-09-25T03:38:07.000Z</published>
    <updated>2019-10-29T01:48:15.312Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h4 id="æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤"><a href="#æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤" class="headerlink" title="æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤"></a>æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤</h4><ul><li><p>æŸ¥æ‰¾ç›®å½•ä¸‹é¢å¤§å°è¶…è¿‡5Mçš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /home/ -size +5M</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ç›®å½•ä¸‹100å¤©ä¹‹å‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /home/ -mtime +100</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ç›®å½•ä¸‹60å¤©æœªè¢«è®¿é—®è¿‡çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /home/ \! atime -60</span><br></pre></td></tr></table></figure></li></ul><a id="more"></a><ul><li>æŸ¥æ‰¾ç›®å½•ä¸‹é¢æ–‡ä»¶â€œcoreâ€œï¼Œå¦‚æœå‘ç°æ— éœ€æç¤ºç›´æ¥åˆ é™¤ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ find / -name core -<span class="built_in">exec</span> rm &#123;&#125; \</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾æ’é™¤æŸä¸€ä¸ªæ–‡ä»¶ç„¶åè¿›è¡Œåˆ é™¤</span></span><br><span class="line">$ find / -<span class="built_in">type</span> f ! -name <span class="string">"test"</span> -<span class="built_in">exec</span> rm &#123;&#125; \;</span><br><span class="line">$ find ./ -mtime +3 -name <span class="string">"*.log"</span> -<span class="built_in">exec</span> rm -rf &#123;&#125; \;</span><br><span class="line">$ find /tmp -mtime +30 -<span class="built_in">type</span> f -name <span class="string">"*.sh[ab]"</span> -<span class="built_in">exec</span> rm -f &#123;&#125; \;</span><br></pre></td></tr></table></figure></li></ul><p>åœ¨ä¸€ä¸ªç›®å½•ä¸­ä¿ç•™æœ€è¿‘30å¤©çš„æ–‡ä»¶ï¼Œ30å¤©å‰çš„æ–‡ä»¶è‡ªåŠ¨åˆ é™¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find /tmp -mtime +30 -<span class="built_in">type</span> f -name <span class="string">"*.sh[ab]"</span> -<span class="built_in">exec</span> rm -f &#123;&#125; \;</span><br></pre></td></tr></table></figure><ul><li>/tmp â€“è®¾ç½®æŸ¥æ‰¾çš„ç›®å½•ï¼›</li><li>-mtime +30 â€“è®¾ç½®æ—¶é—´ä¸º30å¤©å‰ï¼›</li><li>-type f â€“è®¾ç½®æŸ¥æ‰¾çš„ç±»å‹ä¸ºæ–‡ä»¶ï¼›</li><li>-name *.sh[ab] â€“è®¾ç½®æ–‡ä»¶åç§°ä¸­åŒ…å«shaæˆ–è€…shbï¼›</li><li>-exec rm -f â€“æŸ¥æ‰¾å®Œæ¯•åæ‰§è¡Œåˆ é™¤æ“ä½œï¼›</li><li><strong>æç¤º</strong>ï¼šå°†æ­¤å‘½ä»¤å†™å…¥crontabåå³å¯è‡ªåŠ¨å®ŒæˆæŸ¥æ‰¾å¹¶åˆ é™¤çš„å·¥ä½œ</li></ul><ul><li>æ˜¾ç¤ºç›®å½•æ–‡ä»¶çš„æ–‡ä»¶åå’Œå®ƒä»¬çš„æ‹¥æœ‰è€…<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ll | awk <span class="string">'&#123;print $3,"owns",$9&#125;'</span></span><br></pre></td></tr></table></figure></li></ul><p>æ˜¾ç¤ºä½ çš„ç³»ç»Ÿä¸ŠPCIæ€»çº¿å’Œé™„åŠ è®¾å¤‡çš„ä¿¡æ¯ã€‚æŒ‡å®š-vï¼Œ-vvæˆ–-vvvæ¥è·å–è¶Šæ¥è¶Šè¯¦ç»†çš„è¾“å‡º</p><ul><li><p>lspci å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum whatprovides */lspci</span><br><span class="line">pciutils-3.5.1-2.el7.x86_64 : PCI bus related utilities</span><br><span class="line">Repo        : base</span><br><span class="line">Matched from:</span><br><span class="line">Filename    : /usr/sbin/lspci</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pciutils-3.5.1-3.el7.x86_64 : PCI bus related utilities</span><br><span class="line">Repo        : base</span><br><span class="line">Matched from:</span><br><span class="line">Filename    : /usr/sbin/lspci</span><br><span class="line"></span><br><span class="line">$ sudo yum install pciutils</span><br><span class="line"></span><br><span class="line">lspci æ›´å¤š[è¯¦ç»†ä½¿ç”¨](https://blog.csdn.net/styshoo/article/details/51281437)</span><br><span class="line"></span><br><span class="line">$ lspci -vvvvv</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å½“å‰çš„LinuxæœåŠ¡å™¨çš„è¿è¡Œçº§åˆ«</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ who -r</span><br><span class="line">$ who -b </span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç³»ç»Ÿæœ€åä¸€æ¬¡å¯åŠ¨çš„æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">$ last reboot</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç³»ç»Ÿå†å²å¯åŠ¨çš„æ—¶é—´</span></span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œäº†å¤šé•¿æ—¶é—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/uptime| awk -F. <span class="string">'&#123;run_days=$1 / 86400;run_hour=($1 % 86400)/3600;run_minute=($1 % 3600)/60;run_second=$1 % 60;printf("ç³»ç»Ÿå·²è¿è¡Œï¼š%då¤©%dæ—¶%dåˆ†%dç§’",run_days,run_hour,run_minute,run_second)&#125;'</span></span><br><span class="line">$ w</span><br><span class="line">$ uptime</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨çš„æ—¥æœŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ date -d <span class="string">"<span class="variable">$(awk -F. '&#123;print $1&#125;' /proc/uptime)</span> second ago"</span> +<span class="string">"%Y-%m-%d %H:%M:%S"</span></span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ç›®å½•ä¸‹æ–‡ä»¶å†…å®¹æ²¡æœ‰åŒ…æ‹¬â€œnginxâ€ã€â€œmsgTypeâ€å­—ç¬¦ä¸²çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grep -r -l -v <span class="string">"nginx"</span> /data/</span><br><span class="line">$ grep -r  -v <span class="string">"msgType"</span> /data/</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ç›®å½•ä¸‹æ–‡ä»¶å†…å®¹åŒ…æ‹¬â€nginxâ€å­—ç¬¦ä¸²çš„æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ grep -r <span class="string">"nginx"</span> /data/                                             ä¼šæŠŠ<span class="string">"nginx"</span>å­—ç¬¦ä¸²æ‰€åœ¨è¿™è¡Œçš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">$ grep -o â€œnginxâ€ /data/</span><br><span class="line">$ grep -r -l <span class="string">"nginx"</span> /data/                                          ä¸æ˜¾ç¤º<span class="string">"nginx"</span>å­—ç¬¦ä¸²æ‰€åœ¨è¡Œï¼Œæ˜¯æ˜¾ç¤ºæ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><p>catä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat sentry.conf.py |grep -v <span class="string">"^#"</span>          æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¸åŒ…æ‹¬æ³¨é‡Šå†…å®¹</span><br><span class="line">$ cat -b `find /var/<span class="built_in">log</span>/httpd/ -cmin -60 -<span class="built_in">print</span> |sed <span class="string">"1d"</span>`\ |awk <span class="string">'&#123;print $2&#125;'</span>|sort |uniq -c |sort -n -k 1 -r |head -n 1               ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ—¥å¿—æ–‡ä»¶é‡Œé¢Iå¹³è®¿é—®é‡æœ€å¤šçš„ä¸€ä¸ªIP</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸€ä¸ªæ—¶é—´æ®µçš„IPåœ°å€è®¿é—®æ’åå‰10</span></span><br><span class="line">$ cat nginx_access.log|grep <span class="string">'+0800'</span>|awk <span class="string">'&#123;split($1,array,"[");if(array[2]&gt;="25/Jul/2017:14:17:30" &amp;&amp; array[2]&lt;="25/Jul/2017:20:17:30")&#123;print $0&#125;&#125;'</span>|awk -F<span class="string">"^`"</span> &amp;&amp; <span class="string">"-"</span> &amp;&amp; <span class="string">"^`"</span> <span class="string">'&#123;print $1&#125;'</span>|sort|uniq -c|sort -n -k 1 -r|head -n 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»Ÿè®¡å½“å‰æ—¥å¿—ipè®¿é—®å‰10</span></span><br><span class="line">$ cat nginx_access.log |awk -F<span class="string">"^"</span> <span class="string">'&#123;print $1&#125;'</span>|sort|uniq -c|sort -n -k 1 -r|head -n 10</span><br></pre></td></tr></table></figure></li><li><p>è·å–IPåœ°å€é€šç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ifconfig |sed -n 2p |awk <span class="string">'&#123;print $1$2&#125;'</span>|sed <span class="string">'s/^.*[^0-9]\([0-9]\&#123;1,3\&#125;\)\.\([0-9]\&#123;1,3\&#125;\)\.\([0-9]\&#123;1,3\&#125;\)\.\([0-9]\&#123;1,3\&#125;\)$/\1\.\2\.\3\.\4/g'</span></span><br></pre></td></tr></table></figure></li><li><p>curlä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›‘æ§ç½‘é¡µçš„å“åº”æ—¶é—´</span></span><br><span class="line">$ curl -o /dev/null -s -w <span class="string">"time_connect: %&#123;time_connect&#125;\ntime_starttransfer: %&#123;time_starttransfer&#125;\ntime_total: %&#123;time_total&#125;\n"</span> <span class="string">"http://www.baidu.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§ç«™ç‚¹å¯ç”¨æ€§</span></span><br><span class="line">$ curl -o /dev/null -s -w %&#123;http_code&#125; <span class="string">"http://www.baidu.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯gzipè¯·æ±‚</span></span><br><span class="line">$ curl -I http://www.sina.com.cn/ -H Accept-Encoding:gzip,defalte</span><br></pre></td></tr></table></figure></li><li><p>æ¯10ç§’æ˜¾ç¤ºä¸€æ¬¡å¤åˆ¶çš„å¤§å°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch -n 10 du -sh /root</span><br></pre></td></tr></table></figure></li><li><p>ç»Ÿè®¡ç›®å½•(åŒ…æ‹¬å­ç›®å½•)ä¸‹é¢æ–‡ä»¶ä¸ªæ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ find ./ -<span class="built_in">type</span> f | wc -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨findå‘½ä»¤æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ˜¯æ–‡ä»¶ç±»å‹çš„æ–‡ä»¶ï¼Œç„¶åç”¨wcæ¥è®¡æ•°</span></span><br><span class="line">$ ls -lR|grep <span class="string">"^-"</span>|wc -l</span><br><span class="line"><span class="comment"># lså‘½ä»¤åŠ Rå‚æ•°ï¼Œåˆ—å‡ºä¸‹çº§å­ç›®å½•ï¼Œä½¿ç”¨grepå‘½ä»¤è¿‡æ»¤ä»¥â€œ-â€å¼€å¤´çš„ï¼Œå¦‚æœæ˜¯ç›®å½•å°±æ”¹æˆâ€œ^dâ€ï¼Œåé¢ç”¨wcè®¡æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">$ find ./ -name <span class="string">"*.*"</span> |xargs cat|grep -v ^$|wc -l</span><br><span class="line">$ find . \( ! -name <span class="string">'*.png'</span> ! -name <span class="string">'*.gif'</span> ! -name <span class="string">'*.jpg'</span> ! -name <span class="string">'*.swf'</span> \) -<span class="built_in">type</span> f |wc -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»Ÿè®¡ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„çš„è¡Œæ•°ï¼Œå»æ‰ç©ºè¡Œ</span></span><br><span class="line">$ find ./ -name <span class="string">"*.*"</span> |xargs cat|wc -l   </span><br><span class="line">$ find . \( ! -name <span class="string">'*.png'</span> ! -name <span class="string">'*.gif'</span> ! -name <span class="string">'*.jpg'</span> ! -name <span class="string">'*.swf'</span> \) -<span class="built_in">type</span> f |xargs cat|wc -l</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ç³»ç»Ÿtcpè¿æ¥ä¸­å„ä¸ªçŠ¶æ€çš„è¿æ¥æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># netstat -an | awk '/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ¯ä¸ªIPçš„è¿æ¥æ•°ï¼Œä»¥åŠæ€»çš„å„ä¸ªçŠ¶æ€çš„è¿æ¥æ•°</span></span><br><span class="line">$ netstat -n | awk <span class="string">'/^tcp/ &#123;n=split($(NF-1),array,":");if(n&lt;=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N&#125; END &#123;for(a in S)&#123;printf("%-20s %s\n", a, S[a]);++I&#125;printf("%-20s %s\n","TOTAL_IP",I);for(a in s) printf("%-20s %s\n",a, s[a]);printf("%-20s %s\n","TOTAL_LINK",N);&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»Ÿè®¡å½“å‰tcp/ipé“¾æ¥æ•°æ’åå‰10çš„IP</span></span><br><span class="line">$ netstat -n|awk <span class="string">'/^tcp/ &#123;print $5&#125;'</span>|awk -F<span class="string">':'</span> <span class="string">'&#123;print $1&#125;'</span>|sort|uniq -c|sort -n -k 1 -r|head -n 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ©ç”¨grepç»Ÿè®¡å½“å‰æ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„IPåœ°å€</span></span><br><span class="line">$ grep -E -o <span class="string">"(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)"</span> nginx_access.log</span><br></pre></td></tr></table></figure></li></ul><p>æŸ¥çœ‹ç³»ç»Ÿå½“å‰è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°ï¼ŒæŒ‰ç…§æœ€å¤§çš„è¿›è¡Œæ’åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsof -n | awk <span class="string">'&#123;print $2&#125;'</span> | sort | uniq -c | sort -nr | more</span><br></pre></td></tr></table></figure><ul><li>pingå‘½ä»¤æ˜¾ç¤ºæ—¶é—´ä»¥åŠæ—¥æœŸ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ping www.sina.com.cn -i 3 | awk <span class="string">'&#123; print $0"\t" strftime("%Y-%m-%d %H:%M:%S",systime()) &#125; '</span> &gt; /opt/sina.log &amp;</span><br></pre></td></tr></table></figure></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h4 id=&quot;æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤&quot;&gt;&lt;a href=&quot;#æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤&quot;&gt;&lt;/a&gt;æŸ¥æ‰¾æ–‡ä»¶ä½¿ç”¨å‘½ä»¤&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;æŸ¥æ‰¾ç›®å½•ä¸‹é¢å¤§å°è¶…è¿‡5Mçš„æ–‡ä»¶&lt;/p&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ find /home/ -size +5M&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æŸ¥æ‰¾ç›®å½•ä¸‹100å¤©ä¹‹å‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶&lt;/p&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ find /home/ -mtime +100&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æŸ¥æ‰¾ç›®å½•ä¸‹60å¤©æœªè¢«è®¿é—®è¿‡çš„æ–‡ä»¶&lt;/p&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ find /home/ \! atime -60&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="Centos" scheme="https://www.xxlaila.cn/categories/Centos/"/>
    
    
      <category term="shell" scheme="https://www.xxlaila.cn/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>iptables</title>
    <link href="https://www.xxlaila.cn/2019/09/25/iptables/"/>
    <id>https://www.xxlaila.cn/2019/09/25/iptables/</id>
    <published>2019-09-25T02:19:11.000Z</published>
    <updated>2019-09-25T03:34:08.113Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><h3 id="Iptables"><a href="#Iptables" class="headerlink" title="Iptables"></a>Iptables</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iptalbes æ˜¯ç”¨æ¥è®¾ç½®ã€ç»´æŠ¤å’Œæ£€æŸ¥Linuxå†…æ ¸çš„IPåŒ…è¿‡æ»¤è§„åˆ™çš„ã€‚å¯ä»¥å®šä¹‰ä¸åŒçš„è¡¨ï¼Œæ¯ä¸ªè¡¨éƒ½åŒ…å«å‡ ä¸ªå†…éƒ¨çš„é“¾ï¼Œä¹Ÿèƒ½åŒ…å«ç”¨æˆ·å®šä¹‰çš„é“¾ã€‚æ¯ä¸ªé“¾éƒ½æ˜¯ä¸€ä¸ªè§„åˆ™åˆ—è¡¨ï¼Œå¯¹å¯¹åº”çš„åŒ…è¿›è¡ŒåŒ¹é…ï¼šæ¯æ¡è§„åˆ™æŒ‡å®šåº”å½“å¦‚ä½•å¤„ç†ä¸ä¹‹ç›¸åŒ¹é…çš„åŒ…ã€‚è¿™è¢«ç§°ä½œâ€™targetâ€™ï¼ˆç›®æ ‡ï¼‰ï¼Œä¹Ÿå¯ä»¥è·³å‘åŒä¸€ä¸ªè¡¨å†…çš„ç”¨æˆ·å®šä¹‰çš„é“¾ã€‚</p><a id="more"></a><h4 id="iptablesé™åˆ¶IPè®¿é—®ç‰¹å®šç«¯å£"><a href="#iptablesé™åˆ¶IPè®¿é—®ç‰¹å®šç«¯å£" class="headerlink" title="iptablesé™åˆ¶IPè®¿é—®ç‰¹å®šç«¯å£"></a>iptablesé™åˆ¶IPè®¿é—®ç‰¹å®šç«¯å£</h4><ul><li><p>å…è®¸æŸä¸ªIP ï¼ˆ192.168.6.100ï¼‰çš„æœºå™¨è¿›è¡ŒSSHè¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -s 192.168.6.100 -p tcp --dport 22 -j ACCEPT</span><br><span class="line">$ iptables -L -n</span><br><span class="line">Chain INPUT (policy ACCEPT)</span><br><span class="line">target prot opt <span class="built_in">source</span> destination</span><br><span class="line">ACCEPT tcp -- 192.168.6.100 0.0.0.0/0 tcp dpt:22</span><br></pre></td></tr></table></figure></li><li><p>å…è®¸æŸä¸€æ®µçš„IP è®¿é—®SSH</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -s 192.168.6.0/24 -p tcp --dport 22 -j ACCEPT</span><br><span class="line">$ iptables -L -n</span><br><span class="line">Chain INPUT (policy ACCEPT)</span><br><span class="line">target prot opt <span class="built_in">source</span> destination</span><br><span class="line">ACCEPT tcp -- 192.168.6.0/24 0.0.0.0/0 tcp dpt:22</span><br></pre></td></tr></table></figure></li><li><p>é™åˆ¶æŸä¸€IP è®¿é—®SSH</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -p tcp -s ! 192.168.6.100 --dport 22 -j ACCEPT --æ³¨æ„ï¼å·æœ‰ä¸ªç©ºæ ¼</span><br><span class="line">$ iptables -L -n</span><br><span class="line">Chain INPUT (policy ACCEPT)</span><br><span class="line">target prot opt <span class="built_in">source</span> destination</span><br><span class="line">ACCEPT tcp -- 192.168.6.0/24 0.0.0.0/0 tcp dpt:22</span><br></pre></td></tr></table></figure></li></ul><h3 id="é…ç½®ä¸€ä¸ªNATè¡¨æ”¾ç«å¢™"><a href="#é…ç½®ä¸€ä¸ªNATè¡¨æ”¾ç«å¢™" class="headerlink" title="é…ç½®ä¸€ä¸ªNATè¡¨æ”¾ç«å¢™"></a>é…ç½®ä¸€ä¸ªNATè¡¨æ”¾ç«å¢™</h3><ul><li><p>é˜²æ­¢å¤–ç½‘ç”¨å†…ç½‘IPæ¬ºéª—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING -i eth0 -s 10.0.0.0/8 -j DROP</span><br><span class="line">$ iptables -t nat -A PREROUTING -i eth0 -s 172.16.0.0/12 -j DROP</span><br><span class="line">$ iptables -t nat -A PREROUTING -i eth0 -s 192.168.0.0/16 -j DROP</span><br></pre></td></tr></table></figure></li><li><p>ç¦æ­¢ä¸211.101.46.253çš„æ‰€æœ‰è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING -d 211.101.46.253 -j DROP</span><br></pre></td></tr></table></figure></li><li><p>ç¦ç”¨FTP(21)ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING -p tcp --dport 21 -j DROP</span><br><span class="line"><span class="comment"># è¿™æ ·å†™èŒƒå›´å¤ªå¤§äº†,æˆ‘ä»¬å¯ä»¥æ›´ç²¾ç¡®çš„å®šä¹‰.</span></span><br><span class="line">$ iptables -t nat -A PREROUTING -p tcp --dport 21 -d 211.101.46.253 -j DROP</span><br><span class="line"><span class="comment"># è¿™æ ·åªç¦ç”¨211.101.46.253åœ°å€çš„FTPè¿æ¥,å…¶ä»–è¿æ¥è¿˜å¯ä»¥.å¦‚web(80ç«¯å£)è¿æ¥.</span></span><br></pre></td></tr></table></figure></li><li><p>iptablesç™½åå•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -s 0.0.0.0/0 -p tcp --dport 80 -j DROP</span><br><span class="line"><span class="comment"># æ‹’ç»æ‰€æœ‰IPé“¾æ¥80ç«¯å£</span></span><br><span class="line"></span><br><span class="line">$ iptables -A INPUT -s 58.17.245.222 -p tcp --dport 80 -j ACCEPT</span><br><span class="line"><span class="comment"># å…è®¸æŒ‡å®šIPè®¿é—®80ç«¯å£</span></span><br></pre></td></tr></table></figure></li><li><p>å…è®¸æ‰€æœ‰å·²ç»å»ºç«‹çš„å’Œç›¸å…³çš„è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br><span class="line">$ iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br></pre></td></tr></table></figure></li><li><p>dropéæ³•è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -m state --state INVALID -j DROP</span><br><span class="line">$ iptables -A OUTPUT -m state --state INVALID -j DROP</span><br><span class="line">$ iptables -A FORWARD -m state --state INVALID -j DROP</span><br></pre></td></tr></table></figure></li></ul><h3 id="ç«¯å£æ˜ å°„"><a href="#ç«¯å£æ˜ å°„" class="headerlink" title="ç«¯å£æ˜ å°„"></a>ç«¯å£æ˜ å°„</h3><ul><li>è¿™é‡Œä½¿ç”¨çš„æ˜¯FTPæœåŠ¡(36542)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING -p tcp --dport 36542 -j DNAT --to 192.168.50.2:36542</span><br><span class="line">$ iptables -t nat -A POSTROUTING -p tcp --dport 36542 -j MASQUERADE</span><br><span class="line"><span class="comment"># å› ä¸ºFTPä½¿ç”¨äº†ä¸¤ä¸ªç«¯å£21å’Œ20ï¼Œ21åªæ˜¯ç”¨äºè¿æ¥ï¼Œ20æ˜¯æ‰§è¡Œå‘½ä»¤çš„ã€‚20æ²¡åŠæ³•ä¿®æ”¹ï¼Œè¿™é‡Œä½¿ç”¨äº†è¢«åŠ¨æ¨¡å¼è¿æ¥ã€‚</span></span><br><span class="line"></span><br><span class="line">$ iptables -t nat -I PREROUTING -p tcp --dport 60000:65000 -j DNAT --to 192.168.50.2</span><br><span class="line"><span class="comment"># è¢«åŠ¨è¿æ¥ç«¯å£60000-65000å…¨éƒ¨è½¬å‘ç»™50.2</span></span><br><span class="line"></span><br><span class="line">$ iptables -t nat -I POSTROUTING -p tcp --dport 60000:65000 -j MASQUERADE</span><br><span class="line"><span class="comment"># éœ€è¦å¼€æ”¾60000:65000ç«¯å£ï¼Œ</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="ç«¯å£è½¬å‘"><a href="#ç«¯å£è½¬å‘" class="headerlink" title="ç«¯å£è½¬å‘"></a>ç«¯å£è½¬å‘</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¬å¸æœ‰ä¸€å°æœåŠ¡å™¨è¿æ¥å¤–ç½‘ï¼Œå…¶ä»–çš„æœåŠ¡å™¨éƒ½ä¸èƒ½ä¸Šå¤–ç½‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¤–ç½‘æœåŠ¡å™¨ç”¨ä½œç½‘å…³æœåŠ¡å™¨ï¼Œåšç«¯å£è½¬å‘ï¼Œè¿æ¥åˆ°å†…ç½‘æœåŠ¡å™¨</p><ul><li><p>è¿™é‡Œä½¿ç”¨æ•°æ®åº“çš„3306æ˜ å°„åˆ°å¤–ç½‘çš„çš„36544</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING  -m tcp -p tcp --dport 36544 -j DNAT --to-destination 172.16.1.11:3306</span><br><span class="line">$ iptables -t nat -A POSTROUTING -m tcp -p tcp --dport 3306 -d 172.16.1.11 -j SNAT --to-source 172.16.1.1</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ è¿ç»­ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -p tcp --dport 60000:65000 -j ACCEPT</span><br><span class="line"><span class="comment"># å†’å·è¡¨ç¤ºæ·»åŠ ä¸€ä¸ªè¿ç»­çš„ç«¯å£</span></span><br><span class="line"></span><br><span class="line">$ iptables -A INPUT -p tcp -m multiport â€“dport 21:25,135:139 -j DROP</span><br><span class="line"><span class="comment">#ä½¿ç”¨multiportå‚æ•°é…ç½®ä¸è¿ç»­ç«¯å£å’Œå¤šä¸ªç«¯å£</span></span><br></pre></td></tr></table></figure></li><li><p>ä»£ç†ä¸Šç½‘<br>å†…ç½‘æœºå­æ— æ³•ä¸Šç½‘ï¼Œé€šè¿‡ä¸€å°å¯ä»¥ä¸Šç½‘çš„ç”µè„‘ï¼Œåœ¨å¯ä»¥è®¿é—®å¤–ç½‘çš„serverä¸Šiptablesè®©å…¶ä¸€ä¸ªç½‘æ®µå†…çš„æœºå­è®¿é—®å¤–ç½‘ï¼Œè¿™é‡Œæ˜¯é˜¿é‡Œäº‘ç¯å¢ƒæ¥åšçš„ï¼Œå¼€å¯IPè½¬å‘åŠŸèƒ½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">'s/net.ipv4.ip_forward = 0/net.ipv4.ip_forward = 1/g'</span> /etc/sysctl.conf</span><br><span class="line">$ iptables -t nat -I POSTROUTING -s 172.16.3.0/24 -j SNAT --to-source 172.16.3.2</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ“ä½œiptablesçš„natè§„åˆ™"><a href="#æ“ä½œiptablesçš„natè§„åˆ™" class="headerlink" title="æ“ä½œiptablesçš„natè§„åˆ™"></a>æ“ä½œiptablesçš„natè§„åˆ™</h4><ul><li><p>æŸ¥çœ‹è§„åˆ™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -nvL -t nat</span><br><span class="line">$ iptables -t nat -L -n --line-numbers</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤è§„åˆ™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -D POSTROUTING 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># iptablesçš„è§„åˆ™å·</span></span><br><span class="line">$ iptables -nL --line-number</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹/æ›¿æ¢è§„åˆ™</span></span><br><span class="line">$ iptbales -R INPUT &#123;1&#125; -j ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è§„åˆ™</span></span><br><span class="line">$ iptables -D INPUT &#123;1&#125;</span><br></pre></td></tr></table></figure></li><li><p>iptalesç«¯å£é€šè¿‡ä¸€å¼ ç½‘å¡å‡ºå»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -A INPUT -i eth0 -p tcp -s 192.168.100.0/24 --dport 22 -m state --state NEW,ESTABLESHED -j ACCEPT</span><br><span class="line">$ iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</span><br></pre></td></tr></table></figure></li><li><p>æœ¬æœºç«¯å£ï¼Œæ˜ å°„åˆ°æœ¬æœºç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 25 -j REDIRECT --to-port 2525</span><br><span class="line">$ iptables -t nat -I PREROUTING --src 0/0 --dst 192.168.1.5 -p tcp --dport 80 -j REDIRECT --to-ports 8123</span><br><span class="line">$ iptables -t nat -I OUTPUT --src 0/0 --dst 192.168.1.5 -p tcp --dport 80 -j REDIRECT --to-ports 8123</span><br></pre></td></tr></table></figure></li><li><p>ä¿å­˜é˜²ç«å¢™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /usr/libexec/iptables/iptables.init save</span><br></pre></td></tr></table></figure></li><li><p>å¥‡è‘©éœ€æ±‚ï¼Œå¼€æ”¾sshç«¯å£æŒ‡å®šçš„IPåœ°å€è®¿é—®ï¼Œå…¶ä»–ç«¯å£å¤ªå¤šä¸æƒ³æ·»åŠ èƒ½å¯¹å¤–è®¿é—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/sysconfig/iptables</span><br><span class="line"></span><br><span class="line"><span class="comment"># sample configuration for iptables service</span></span><br><span class="line"><span class="comment"># you can edit this manually or use system-config-firewall</span></span><br><span class="line"><span class="comment"># please do not ask us to add additional ports/services to this default configuration</span></span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [0:0]</span><br><span class="line">:FORWARD ACCEPT [0:0]</span><br><span class="line">:OUTPUT ACCEPT [0:0]</span><br><span class="line">-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">-A INPUT -s 192.168.10.1/32 -p tcp -m tcp --dport 22 -j ACCEPT</span><br><span class="line">-A INPUT -p tcp -m tcp --dport 22 -j  REJECT --reject-with icmp-port-unreachable</span><br><span class="line"><span class="comment">#-A INPUT -j REJECT --reject-with icmp-host-prohibited</span></span><br><span class="line"><span class="comment">#-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span></span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;h3 id=&quot;Iptables&quot;&gt;&lt;a href=&quot;#Iptables&quot; class=&quot;headerlink&quot; title=&quot;Iptables&quot;&gt;&lt;/a&gt;Iptables&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Iptalbes æ˜¯ç”¨æ¥è®¾ç½®ã€ç»´æŠ¤å’Œæ£€æŸ¥Linuxå†…æ ¸çš„IPåŒ…è¿‡æ»¤è§„åˆ™çš„ã€‚å¯ä»¥å®šä¹‰ä¸åŒçš„è¡¨ï¼Œæ¯ä¸ªè¡¨éƒ½åŒ…å«å‡ ä¸ªå†…éƒ¨çš„é“¾ï¼Œä¹Ÿèƒ½åŒ…å«ç”¨æˆ·å®šä¹‰çš„é“¾ã€‚æ¯ä¸ªé“¾éƒ½æ˜¯ä¸€ä¸ªè§„åˆ™åˆ—è¡¨ï¼Œå¯¹å¯¹åº”çš„åŒ…è¿›è¡ŒåŒ¹é…ï¼šæ¯æ¡è§„åˆ™æŒ‡å®šåº”å½“å¦‚ä½•å¤„ç†ä¸ä¹‹ç›¸åŒ¹é…çš„åŒ…ã€‚è¿™è¢«ç§°ä½œâ€™targetâ€™ï¼ˆç›®æ ‡ï¼‰ï¼Œä¹Ÿå¯ä»¥è·³å‘åŒä¸€ä¸ªè¡¨å†…çš„ç”¨æˆ·å®šä¹‰çš„é“¾ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="linux" scheme="https://www.xxlaila.cn/categories/linux/"/>
    
    
      <category term="iptables" scheme="https://www.xxlaila.cn/tags/iptables/"/>
    
  </entry>
  
  <entry>
    <title>äº¤æ¢æœºåšç«¯å£èšåˆ</title>
    <link href="https://www.xxlaila.cn/2019/09/25/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%81%9A%E7%AB%AF%E5%8F%A3%E8%81%9A%E5%90%88/"/>
    <id>https://www.xxlaila.cn/2019/09/25/äº¤æ¢æœºåšç«¯å£èšåˆ/</id>
    <published>2019-09-25T02:09:47.000Z</published>
    <updated>2019-10-28T02:35:40.311Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šh3c s5500 (Switch A)ã€‚huawei s5720S-SI-ACï¼ˆSwitch Bï¼‰</p><p>Switch A ä½œä¸ºä¸Šè¡Œäº¤æ¢æœºï¼ŒSwitch Bä½œä¸ºä¸‹è¡Œäº¤æ¢æœº</p><p><strong>ç»„ç½‘</strong>ï¼šä¸¤ä¸ªäº¤æ¢æœºçš„idã€vlanå·è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›¸åŒ</p><a id="more"></a><p><img src="https://img.xxlaila.cn/2846sjdhausiy84yhks.png" alt="img"></p><h3 id="Switch-Aé…ç½®"><a href="#Switch-Aé…ç½®" class="headerlink" title="Switch Aé…ç½®"></a>Switch Aé…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Switch A-SW]vlan 50</span><br><span class="line">[Switch A-SW-vlan50]quit</span><br><span class="line">[Switch A-SW]interface Bridge-Aggregation 50</span><br><span class="line">[Switch A-SW-Bridge-Aggregation50]port access vlan 50</span><br><span class="line">[Switch A-SW]interface GigabitEthernet 1/0/19</span><br><span class="line">[Switch A-SW-GigabitEthernet1/0/19]port link-aggregation group 50</span><br><span class="line">[Switch A-SW-GigabitEthernet1/0/19] port access vlan 50</span><br><span class="line">[Switch A-SW]interface GigabitEthernet 1/0/20</span><br><span class="line">[Switch A-SW-GigabitEthernet1/0/20]port link-aggregation group 50</span><br><span class="line">[Switch A-SW-GigabitEthernet1/0/20]port access vlan 50</span><br><span class="line">[Switch A-SW]link-aggregation load-sharing mode <span class="built_in">source</span>-mac destination-mac</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹ç«¯å£èšåˆ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Switch A-SW]dis link-aggregation verbose</span><br></pre></td></tr></table></figure></li></ul><h3 id="Switch-Bé…ç½®"><a href="#Switch-Bé…ç½®" class="headerlink" title="Switch Bé…ç½®"></a>Switch Bé…ç½®</h3><h4 id="1ã€åˆ›å»ºeth-trunkæ¥å£å¹¶åŠ å…¥æˆå‘˜"><a href="#1ã€åˆ›å»ºeth-trunkæ¥å£å¹¶åŠ å…¥æˆå‘˜" class="headerlink" title="1ã€åˆ›å»ºeth-trunkæ¥å£å¹¶åŠ å…¥æˆå‘˜"></a>1ã€åˆ›å»ºeth-trunkæ¥å£å¹¶åŠ å…¥æˆå‘˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Switch B] interface eth-trunk 50</span><br><span class="line">[Switch B-Eth-Trunk1] trunkport gigabitethernet 0/0/1 to 0/0/3</span><br><span class="line">[Switch B-Eth-Trunk1] quit</span><br></pre></td></tr></table></figure><h4 id="2ã€åˆ›å»ºvlanå¹¶å§ä¸²è¡ŒåŠ å…¥vlan"><a href="#2ã€åˆ›å»ºvlanå¹¶å§ä¸²è¡ŒåŠ å…¥vlan" class="headerlink" title="2ã€åˆ›å»ºvlanå¹¶å§ä¸²è¡ŒåŠ å…¥vlan"></a>2ã€åˆ›å»ºvlanå¹¶å§ä¸²è¡ŒåŠ å…¥vlan</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Switch B] vlan batch 50</span><br><span class="line">[Switch B] interface eth-trunk 50</span><br><span class="line">[Switch B-Eth-Trunk1] port link-type trunk</span><br><span class="line">[Switch B-Eth-Trunk1] port trunk allow-pass vlan 50</span><br><span class="line">[Switch B-Eth-Trunk1] quit</span><br></pre></td></tr></table></figure><h4 id="3ã€é…ç½®eth-trunkçš„è´Ÿè½½åˆ†æ‹…æ–¹å¼"><a href="#3ã€é…ç½®eth-trunkçš„è´Ÿè½½åˆ†æ‹…æ–¹å¼" class="headerlink" title="3ã€é…ç½®eth-trunkçš„è´Ÿè½½åˆ†æ‹…æ–¹å¼"></a>3ã€é…ç½®eth-trunkçš„è´Ÿè½½åˆ†æ‹…æ–¹å¼</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Switch B] interface eth-trunk 1</span><br><span class="line">[Switch B-Eth-Trunk1] load-balance src-dst-mac</span><br><span class="line">[Switch B-Eth-Trunk1] quit</span><br></pre></td></tr></table></figure><h3 id="Switch-Aé…ç½®åœ°å€æ®µ"><a href="#Switch-Aé…ç½®åœ°å€æ®µ" class="headerlink" title="Switch Aé…ç½®åœ°å€æ®µ"></a>Switch Aé…ç½®åœ°å€æ®µ</h3><p>åœ¨vlané‡Œé¢èµ·ä¸€ä¸ªç½‘ç»œï¼Œä½†ä¸å¯ç”¨dhcpæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Switch A-SW]int vlan 50</span><br><span class="line">[Switch A-SW-Vlan-interface50]ip ad 172.21.16.1 20</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Fri Nov 01 2019 20:14:22 GMT+0800 (China Standard Time) --&gt;&lt;p&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šh3c s5500 (Switch A)ã€‚huawei s5720S-SI-ACï¼ˆSwitch Bï¼‰&lt;/p&gt;&lt;p&gt;Switch A ä½œä¸ºä¸Šè¡Œäº¤æ¢æœºï¼ŒSwitch Bä½œä¸ºä¸‹è¡Œäº¤æ¢æœº&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç»„ç½‘&lt;/strong&gt;ï¼šä¸¤ä¸ªäº¤æ¢æœºçš„idã€vlanå·è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›¸åŒ&lt;/p&gt;
    
    </summary>
    
      <category term="ç½‘ç»œè®¾å¤‡" scheme="https://www.xxlaila.cn/categories/%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87/"/>
    
    
      <category term="äº¤æ¢æœº" scheme="https://www.xxlaila.cn/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"/>
    
  </entry>
  
</feed>
